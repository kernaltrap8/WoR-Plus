Unknown [1c00000000000000000024f40000000000000000]SectionFloat force_particle_update_time 1.00000Script CreateMultiParticleSystems_Editor 0x859ede46 [	:i if NOT $GotParam$${StructQBKey ParamsArray}$		:i $printf$${StructQBStringQs d7f16651}$		:i return 	:i endif	:i $GetArraySize$${StructQBKey ParamsArray}$	:i $printf$^[633784b4]^$n$ = %GLOBAL%$array_size$	:i $wait_frames$ = %i(0)	:i $k$ = %i(0)	:i while 	:i %GLOBAL%$name$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$name$)	:i if $StructureContains$$structure$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a})$attach$		:i %GLOBAL%$ObjID$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$ObjID$)		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$ObjID$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i %GLOBAL%$mangled_id$.$Die$		:i %GLOBAL%$wait_frames$ = %i(2)	:i endif	:i $k$ = (%GLOBAL%$k$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $wait$%GLOBAL%$wait_frames$$frames$	:i $k$ = %i(0)	:i while 	:i %GLOBAL%$params_script$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$params_script$)	:i %GLOBAL%$name$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$name$)	:i %GLOBAL%$ObjID$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$ObjID$)	:i if $StructureContains$$structure$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a})$attach$		:i $CreateParticleSystem_Editor$$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$name$$ObjID$ = %GLOBAL%$ObjID$$attach$	:i else 		:i $CreateParticleSystem_Editor$$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$name$	:i endif	:i $k$ = (%GLOBAL%$k$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script CreateParticleSystem_Editor 0x3c75675f [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $printf$${StructQBStringQs 0x655e60db}$		:i return 	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$ObjID$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i %GLOBAL%$mangled_id$.$Die$		:i $wait$${			StructInt 2			StructQBKey frames		}$			:i endif	:i $GetParticleType$$params_script$ = %GLOBAL%$params_script$	:i if (%GLOBAL%$type$ = $fast$)		:i if $GotParam$${StructQBKey ObjID}$			:i $alloc_spline_particle$:s{$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$mangled_id$$attachobjid$ = %GLOBAL%$ObjID$$ObjID$ = %GLOBAL%$ObjID$$bone$ = %GLOBAL%$bone$$groupid$ = %GLOBAL%$groupid$			:i $attachnode$ = %GLOBAL%$attachnode$$emit_script$ = %GLOBAL%$emit_script$$emit_params$ = %GLOBAL%$emit_params$$creation_node$ = %GLOBAL%$creation_node$:s}		:i else 			:i $alloc_spline_particle$:s{$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$name$$groupid$ = %GLOBAL%$groupid$			:i $attachnode$ = %GLOBAL%$attachnode$$emit_script$ = %GLOBAL%$emit_script$$emit_params$ = %GLOBAL%$emit_params$$creation_node$ = %GLOBAL%$creation_node$:s}		:i endif	:i else 		:i if $GotParam$${StructQBKey ObjID}$			:i $alloc_flexible_particle$:s{$params_script$ = (%GLOBAL%$params_script$)$name$ = %GLOBAL%$mangled_id$$ObjID$ = %GLOBAL%$ObjID$$bone$ = %GLOBAL%$bone$$attachnode$ = %GLOBAL%$attachnode$$groupid$ = %GLOBAL%$groupid$:s}		:i else 			:i $alloc_flexible_particle$:s{$params_script$ = (%GLOBAL%$params_script$)$name$ = %GLOBAL%$name$$groupid$ = %GLOBAL%$groupid$:s}		:i endif	:i endif	:i endfunction]Script CreateParticleSystem_WithScript c89ffe23 [	:i if $GotParam$${StructQBKey perm}$		:i $perm$ = %i(1)	:i else 		:i $perm$ = %i(0)	:i endif	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $printf$${StructQBStringQs 0x655e60db}$		:i return 	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i if NOT $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i $printf$^[8b7c4d9a]^$s$ = %GLOBAL%$params_script$			:i return 		:i endif	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $attachobjid$ = %GLOBAL%$ObjID$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$attachobjid$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i $printf$${StructQBStringQs e8472488}$		:i return 	:i endif	:i $GetParticleType$$params_script$ = %GLOBAL%$params_script$	:i if $GotParam$${StructQBKey Pos}$		:i if (%GLOBAL%$type$ = $fast$)			:i $CreateGlobalFastParticleSystem$ isNull 		:i else 			:i $CreateGlobalFlexParticlesystem$ isNull 		:i endif	:i else 		:i if (%GLOBAL%$type$ = $fast$)			:i if $CutsceneDestroyListActive$				:i $AddToCutsceneDestroyList$:s{					:i $destroy_func$ = $DestroyFastParticleSystem$					:i $name$ = %GLOBAL%$mangled_id$					:i $destroy_params$ = :s{$name$ = %GLOBAL%$name$$attachobjid$ = %GLOBAL%$attachobjid$:s}				:i :s}			:i endif			:i $alloc_spline_particle$:s{$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$mangled_id$$attachobjid$ = %GLOBAL%$ObjID$$ObjID$ = %GLOBAL%$ObjID$$bone$ = %GLOBAL%$bone$$groupid$ = %GLOBAL%$groupid$			:i $attachnode$ = %GLOBAL%$attachnode$$emit_script$ = %GLOBAL%$emit_script$$emit_params$ = %GLOBAL%$emit_params$$perm$ = %GLOBAL%$perm$$creation_node$ = %GLOBAL%$creation_node$:s}		:i else 			:i if $CutsceneDestroyListActive$				:i $AddToCutsceneDestroyList$:s{					:i $destroy_func$ = $DestroyFlexibleParticleSystem$					:i $name$ = %GLOBAL%$mangled_id$					:i $destroy_params$ = :s{$name$ = %GLOBAL%$name$$ObjID$ = %GLOBAL%$ObjID$:s}				:i :s}			:i endif			:i $alloc_flexible_particle$$params_script$ = (%GLOBAL%$params_script$)$name$ = %GLOBAL%$mangled_id$$ObjID$ = %GLOBAL%$ObjID$$bone$ = %GLOBAL%$bone$$attachnode$ = %GLOBAL%$attachnode$$bone$ = %GLOBAL%$bone$$groupid$ = %GLOBAL%$groupid$$perm$ = %GLOBAL%$perm$		:i endif	:i endif	:i endfunction]Script CreateFlexibleParticleSystem 0x709f4a25 [	${StructInt groupid = 0}$	:i if $GotParam$${StructQBKey perm}$		:i $perm$ = %i(1)	:i else 		:i $perm$ = %i(0)	:i endif	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $script_assert$${StructQBStringQs 0x655e60db}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i if NOT $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i $printf$^[8b7c4d9a]^$s$ = %GLOBAL%$params_script$			:i return 		:i endif	:i endif	:i if NOT $GotParam$${StructQBKey ObjID}$		:i $obj_getid$	:i endif	:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$ObjID$	:i if NOT $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i if $CutsceneDestroyListActive$			:i $AddToCutsceneDestroyList$:s{				:i $destroy_func$ = $DestroyFlexibleParticleSystem$				:i $ignore_duplicates$				:i $name$ = %GLOBAL%$mangled_id$				:i $destroy_params$ = :s{$name$ = %GLOBAL%$name$$ObjID$ = %GLOBAL%$ObjID$:s}			:i :s}		:i endif		:i $alloc_flexible_particle$$params_script$ = (%GLOBAL%$params_script$)$name$ = %GLOBAL%$mangled_id$$ObjID$ = %GLOBAL%$ObjID$$bone$ = %GLOBAL%$bone$$attachnode$ = %GLOBAL%$attachnode$$bone$ = %GLOBAL%$bone$$groupid$ = %GLOBAL%$groupid$$perm$ = %GLOBAL%$perm$	:i endif	:i endfunction]Script CreateMultiFlexibleParticleSystem_Editor 0x23571cff [	:i if NOT $GotParam$${StructQBKey ParamsArray}$		:i $printf$${StructQBStringQs d7f16651}$		:i return 	:i endif	:i $GetArraySize$${StructQBKey ParamsArray}$	:i $printf$^[633784b4]^$n$ = %GLOBAL%$array_size$	:i $k$ = %i(0)	:i while 	:i %GLOBAL%$params_script$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$params_script$)	:i %GLOBAL%$name$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$name$)	:i %GLOBAL%$ObjID$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a}->$ObjID$)	:i if $StructureContains$$structure$ = (%GLOBAL%$ParamsArray$:a{%GLOBAL%$k$:a})$attach$		:i $CreateFlexibleParticleSystem_Editor_Spawned$$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$name$$ObjID$ = %GLOBAL%$ObjID$$attach$	:i else 		:i $CreateFlexibleParticleSystem_Editor_Spawned$$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$name$	:i endif	:i $k$ = (%GLOBAL%$k$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script CreateFlexibleParticleSystem_Editor 0x129c13a1 [	:i $KillSpawnedScript$${StructQBKey name = CreateFlexibleParticleSystem_Editor_Spawned}$	:i $spawnscriptnow$$CreateFlexibleParticleSystem_Editor_Spawned$$params$ = isNull 	:i endfunction]Script CreateFlexibleParticleSystem_Editor_Spawned 0x742a6710 [	${StructInt groupid = 0}$	:i if $GotParam$${StructQBKey perm}$		:i $perm$ = %i(1)	:i else 		:i $perm$ = %i(0)	:i endif	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $script_assert$${StructQBStringQs 0x655e60db}$	:i endif	:i if NOT $GotParam$${StructQBKey ObjID}$	:i endif	:i if $GotParam$${StructQBKey attachobjid}$		:i %GLOBAL%$ObjID$ = %GLOBAL%$attachobjid$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $attachobjid$ = %GLOBAL%$ObjID$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$attachobjid$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if ($IsCreated$%GLOBAL%$name$)		:i %GLOBAL%$name$.$destroy$		:i $wait$${			StructInt 1			StructQBKey frame		}$			:i endif	:i if ($IsCreated$%GLOBAL%$mangled_id$)		:i %GLOBAL%$mangled_id$.$destroy$		:i $wait$${			StructInt 1			StructQBKey frame		}$			:i endif	:i if NOT $IsCreated$%GLOBAL%$mangled_id$		:i if ($GotParam$$attach$)			:i $alloc_flexible_particle$$params_script$ = (%GLOBAL%$params_script$)$name$ = %GLOBAL%$mangled_id$$ObjID$ = %GLOBAL%$attachobjid$$attachnode$ = %GLOBAL%$attachnode$$bone$ = %GLOBAL%$bone$$groupid$ = %GLOBAL%$groupid$$perm$ = %GLOBAL%$perm$		:i else 			:i $alloc_flexible_particle$$params_script$ = (%GLOBAL%$params_script$)$name$ = %GLOBAL%$mangled_id$$groupid$ = %GLOBAL%$groupid$$perm$ = %GLOBAL%$perm$		:i endif	:i endif	:i endfunction]Script GetFlexibleParticleSystem 0x384b0356 [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey ObjID}$		:i $obj_getid$	:i endif	:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$ObjID$	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i return $systemID$ = %GLOBAL%$mangled_id$	:i endif	:i endfunction]Script DestroyFlexibleParticleSystem c492a375 [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey ObjID}$		:i $obj_getid$	:i endif	:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$ObjID$	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i if $CutsceneDestroyListActive$			:i $RemoveFromCutsceneDestroyList$$name$ = %GLOBAL%$mangled_id$		:i endif		:i %GLOBAL%$mangled_id$.$destroyparticles$	:i endif	:i endfunction]Script DestroyFlexibleParticleSystem_Editor 0x73a7862b [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey ObjID}$		:i $obj_getid$	:i endif	:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$ObjID$	:i if $ObjectExists$$id$ = %GLOBAL%$name$		:i %GLOBAL%$name$.$destroyparticles$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i if $CutsceneDestroyListActive$			:i $RemoveFromCutsceneDestroyList$$name$ = %GLOBAL%$mangled_id$		:i endif		:i %GLOBAL%$mangled_id$.$destroyparticles$	:i endif	:i endfunction]SectionArray LockableFlexibleParticleComponents{	ArrayStruct	[		StructHeader		{			StructQBKey Component = attach		}		StructHeader		{			StructQBKey Component = flexibleparticle		}		]}Script alloc_flexible_particle 0x8d7fc5bf [	${StructInt groupid = 0}$	:i if NOT $CheckFlexibleParticleStructure$%GLOBAL%$params_script$		:i $printf$${StructQBStringQs c23eea76}$		:i return 	:i endif	:i if $GotParam$${StructQBKey perm}$		:i if (%GLOBAL%$perm$ = %i(1))			:i $priority$ = $coim_priority_permanent$			:i $heap$ = $gameobj$		:i else 			:i $priority$ = $coim_priority_effects$			:i $heap$ = $particle$		:i endif	:i else 		:i $priority$ = $coim_priority_effects$		:i $heap$ = $particle$	:i endif	:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$$Components$ = ~$LockableFlexibleParticleComponents$$params$ = :s{		:i $name$ = %GLOBAL%$name$		:i %GLOBAL%$params_script$		:i $ignorelockdie$		:i $id$ = %GLOBAL%$ObjID$		:i $attach_target$ = %GLOBAL%$ObjID$		:i $parent_object$ = %GLOBAL%$ObjID$		:i $bone$ = %GLOBAL%$bone$		:i $attach_bone$ = %GLOBAL%$bone$		:i $groupid$ = %GLOBAL%$groupid$		:i $attachnode$ = %GLOBAL%$attachnode$		:i $object_type$ = $particle$		:i $node_array_name$ = %GLOBAL%$node_array_name$	:i :s}	:i endfunction]SectionArray SuspendibleFlexibleParticleComponents{	ArrayStruct	[		StructHeader		{			StructQBKey Component = flexibleparticle		}		]}SectionArray flexibleparticlecomponents{	ArrayStruct	[		StructHeader		{			StructQBKey Component = flexibleparticle		}		]}Script CreateGlobalFlexParticlesystem d2c93827 [	${StructInt groupid = 0}$	:i if NOT $CheckFlexibleParticleStructure$%GLOBAL%$params_script$		:i $printf$${StructQBStringQs 0x333ba401}$		:i return 	:i endif	:i if $GotParam$${StructQBKey perm}$		:i $priority$ = $coim_priority_permanent$		:i $heap$ = $gameobj$	:i else 		:i $priority$ = $coim_priority_effects$		:i $heap$ = $particle$	:i endif	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $script_assert$${StructQBStringQs 0x655e60db}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i if NOT $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i $printf$^[8b7c4d9a]^$s$ = %GLOBAL%$params_script$			:i return 		:i endif	:i endif	:i if NOT $ObjectExists$$id$ = %GLOBAL%$name$		:i if $CutsceneDestroyListActive$			:i $AddToCutsceneDestroyList$:s{				:i $destroy_func$ = $DestroyGlobalFlexParticleSystem$				:i $ignore_duplicates$				:i $name$ = %GLOBAL%$name$				:i $destroy_params$ = :s{$name$ = %GLOBAL%$name$:s}			:i :s}		:i endif		:i if $StructureContains$${				StructQBKey structure = params_script				StructQBKey suspenddistance			}$						:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$$Components$ = ~$SuspendibleFlexibleParticleComponents$$params$ = :s{				:i $name$ = %GLOBAL%$name$				:i %GLOBAL%$params_script$				:i $groupid$ = %GLOBAL%$groupid$				:i $Pos$ = %GLOBAL%$Pos$				:i $object_type$ = $particle$			:i :s}		:i else 			:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$$Components$ = ~$flexibleparticlecomponents$$params$ = :s{				:i $name$ = %GLOBAL%$name$				:i %GLOBAL%$params_script$				:i $groupid$ = %GLOBAL%$groupid$				:i $Pos$ = %GLOBAL%$Pos$				:i $object_type$ = $particle$			:i :s}		:i endif	:i endif	:i endfunction]Script DestroyGlobalFlexParticleSystem 0x55fb255d [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$name$		:i if $CutsceneDestroyListActive$			:i $RemoveFromCutsceneDestroyList$$name$ = %GLOBAL%$name$		:i endif		:i %GLOBAL%$name$.$destroyparticles$	:i endif	:i endfunction]Script CreateFastParticleSystem d1693c0a [	${StructInt groupid = 0}$	:i $CreateSplineParticleSystem$$params$ = isNull 	:i endfunction]Script CreateSplineParticleSystem c34c749f [	${StructInt groupid = 0}$	:i if $GotParam$${StructQBKey perm}$		:i $perm$ = %i(1)	:i else 		:i $perm$ = %i(0)	:i endif	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $script_assert$${StructQBStringQs 0x655e60db}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i if NOT $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i $printf$^[8b7c4d9a]^$s$ = %GLOBAL%$params_script$			:i return 		:i endif	:i endif	:i if $GotParam$${StructQBKey attachobjid}$		:i %GLOBAL%$ObjID$ = %GLOBAL%$attachobjid$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $attachobjid$ = %GLOBAL%$ObjID$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$attachobjid$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if NOT $IsCreated$%GLOBAL%$mangled_id$		:i if $CutsceneDestroyListActive$			:i $AddToCutsceneDestroyList$:s{				:i $destroy_func$ = $DestroyFastParticleSystem$				:i $ignore_duplicates$				:i $name$ = %GLOBAL%$mangled_id$				:i $destroy_params$ = :s{$name$ = %GLOBAL%$name$$attachobjid$ = %GLOBAL%$attachobjid$:s}			:i :s}		:i endif		:i $alloc_spline_particle$:s{$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$mangled_id$$attachobjid$ = %GLOBAL%$ObjID$$ObjID$ = %GLOBAL%$ObjID$$bone$ = %GLOBAL%$bone$$groupid$ = %GLOBAL%$groupid$		:i $attachnode$ = %GLOBAL%$attachnode$$emit_script$ = %GLOBAL%$emit_script$$emit_params$ = %GLOBAL%$emit_params$$perm$ = %GLOBAL%$perm$$creation_node$ = %GLOBAL%$creation_node$:s}	:i endif	:i if (($IsCreated$%GLOBAL%$mangled_id$) AND ($GotParam$$ObjID$) AND ($StructureContains$$structure$ = $params_script$$ApplyEnvBrightness$))		:i %GLOBAL%$mangled_id$.$ApplyEnvBrightness$$from$ = %GLOBAL%$ObjID$	:i endif	:i if $IsCreated$%GLOBAL%$mangled_id$		:i return $systemID$ = %GLOBAL%$mangled_id$	:i endif	:i endfunction]Script CreateSplineParticleSystem_Editor 0x9ed0d3b0 [	:i $KillSpawnedScript$${StructQBKey name = CreateSplineParticleSystem_Editor_Spawned}$	:i $spawnscriptnow$$CreateSplineParticleSystem_Editor_Spawned$$params$ = isNull 	:i endfunction]Script CreateSplineParticleSystem_Editor_Spawned 0x46c72c0f [	${StructInt groupid = 0}$	:i if $GotParam$${StructQBKey perm}$		:i $perm$ = %i(1)	:i else 		:i $perm$ = %i(0)	:i endif	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $script_assert$${StructQBStringQs 0x655e60db}$	:i endif	:i if $GotParam$${StructQBKey attachobjid}$		:i %GLOBAL%$ObjID$ = %GLOBAL%$attachobjid$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $attachobjid$ = %GLOBAL%$ObjID$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$attachobjid$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if ($IsCreated$%GLOBAL%$name$)		:i %GLOBAL%$name$.$destroy$		:i $wait$${			StructInt 1			StructQBKey frame		}$			:i endif	:i if ($IsCreated$%GLOBAL%$mangled_id$)		:i %GLOBAL%$mangled_id$.$destroy$		:i $wait$${			StructInt 2			StructQBKey frame		}$			:i endif	:i if ($IsCreated$%GLOBAL%$mangled_id$)		:i $printf$${StructQBStringQs 0x8752c714}$	:i else 		:i $alloc_spline_particle$:s{$params_script$ = %GLOBAL%$params_script$$name$ = %GLOBAL%$mangled_id$$attachobjid$ = %GLOBAL%$ObjID$$ObjID$ = %GLOBAL%$ObjID$$bone$ = %GLOBAL%$bone$$groupid$ = %GLOBAL%$groupid$		:i $attachnode$ = %GLOBAL%$attachnode$$emit_script$ = %GLOBAL%$emit_script$$emit_params$ = %GLOBAL%$emit_params$$perm$ = %GLOBAL%$perm$$creation_node$ = %GLOBAL%$creation_node$:s}	:i endif	:i endfunction]SectionArray SuspendibleFastParticleComponents{	ArrayStruct	[		StructHeader		{			StructQBKey Component = particle		}		]}SectionArray fastparticlecomponents{	ArrayStruct	[		StructHeader		{			StructQBKey Component = particle		}		]}Script CreateGlobalFastParticleSystem 0x482f12d7 [	${StructInt groupid = 0}$	:i if NOT $CheckSplineParticleStructure$%GLOBAL%$params_script$		:i $printf$${StructQBStringQs e730d5e9}$		:i return 	:i endif	:i if $GotParam$${StructQBKey perm}$		:i $priority$ = $coim_priority_permanent$		:i $heap$ = $gameobj$	:i else 		:i $priority$ = $coim_priority_effects$		:i $heap$ = $particle$	:i endif	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i $script_assert$${StructQBStringQs 0x655e60db}$	:i endif	:i if NOT $GotParam$${StructQBKey params_script}$		:i if NOT $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i $printf$^[8b7c4d9a]^$s$ = %GLOBAL%$params_script$			:i return 		:i endif	:i endif	:i if NOT $IsCreated$%GLOBAL%$name$		:i if $CutsceneDestroyListActive$			:i $AddToCutsceneDestroyList$:s{				:i $destroy_func$ = $DestroyGlobalFastParticleSystem$				:i $ignore_duplicates$				:i $name$ = %GLOBAL%$name$				:i $destroy_params$ = :s{$name$ = %GLOBAL%$name$:s}			:i :s}		:i endif		:i if $StructureContains$${				StructQBKey structure = params_script				StructQBKey suspenddistance			}$						:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$$Components$ = $SuspendibleFastParticleComponents$$params$ = :s{				:i $name$ = %GLOBAL%$name$				:i $parent_object$ = %GLOBAL%$ObjID$				:i $groupid$ = %GLOBAL%$groupid$				:i %GLOBAL%$params_script$				:i $Pos$ = %GLOBAL%$Pos$				:i $object_type$ = $particle$			:i :s}		:i else 			:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$$Components$ = ~$fastparticlecomponents$$params$ = :s{				:i $name$ = %GLOBAL%$name$				:i $parent_object$ = %GLOBAL%$ObjID$				:i $groupid$ = %GLOBAL%$groupid$				:i %GLOBAL%$params_script$				:i $Pos$ = %GLOBAL%$Pos$				:i $object_type$ = $particle$			:i :s}		:i endif	:i endif	:i if $IsCreated$%GLOBAL%$name$		:i if $GotParam$${StructQBKey emit_script}$			:i %GLOBAL%$name$.$obj_spawnscriptlater$%GLOBAL%$emit_script$$params$ = %GLOBAL%$emit_params$		:i endif	:i endif	:i endfunction]Script DestroyGlobalFastParticleSystem 0x5c80e22c [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$name$		:i if $CutsceneDestroyListActive$			:i $RemoveFromCutsceneDestroyList$$name$ = %GLOBAL%$name$		:i endif		:i %GLOBAL%$name$.$Die$	:i endif	:i endfunction]Script DestroyFastParticleSystem bed72a45 [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $attachobjid$ = %GLOBAL%$ObjID$	:i endif	:i if $GotParam$${StructQBKey attachobjid}$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$attachobjid$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i if $CutsceneDestroyListActive$			:i $RemoveFromCutsceneDestroyList$$name$ = %GLOBAL%$mangled_id$		:i endif		:i %GLOBAL%$mangled_id$.$Die$	:i endif	:i endfunction]Script DestroyParticleSystem_Editor 0x1b59da64 [	:i $KillSpawnedScript$${StructQBKey name = DestroyParticleSystem_Editor_Spawn}$	:i $spawnscriptnow$$DestroyParticleSystem_Editor_Spawn$$params$ = isNull 	:i endfunction]Script DestroyParticleSystem_Editor_Spawn 0x4e405306 [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $attachobjid$ = %GLOBAL%$ObjID$	:i endif	:i if $GotParam$${StructQBKey attachobjid}$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$attachobjid$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i %GLOBAL%$mangled_id$.$Die$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$name$		:i %GLOBAL%$name$.$Die$	:i endif	:i endfunction]Script DestroySplineParticleSystem_Editor 0x6b6250cf [	:i if NOT $GotParam$${StructQBKey name}$		:i $script_assert$${StructQBStringQs def61e20}$	:i endif	:i if $GotParam$${StructQBKey ObjID}$		:i $attachobjid$ = %GLOBAL%$ObjID$	:i endif	:i if $GotParam$${StructQBKey attachobjid}$		:i $MangleChecksums$$a$ = %GLOBAL%$name$$b$ = %GLOBAL%$attachobjid$	:i else 		:i %GLOBAL%$mangled_id$ = %GLOBAL%$name$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$mangled_id$		:i if $CutsceneDestroyListActive$			:i $RemoveFromCutsceneDestroyList$$name$ = %GLOBAL%$mangled_id$		:i endif		:i %GLOBAL%$mangled_id$.$Die$	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$name$		:i if $CutsceneDestroyListActive$			:i $RemoveFromCutsceneDestroyList$$name$ = %GLOBAL%$name$		:i endif		:i %GLOBAL%$name$.$Die$	:i endif	:i endfunction]Script EmitFastParticles fc09505e [	:i if $GotParam$${StructQBKey wait_frames}$		:i $wait$%GLOBAL%$wait_frames$$frames$	:i else 		:i $wait$%GLOBAL%$wait_seconds$$seconds$	:i endif	:i $setemitrate$${StructInt 0}$	:i while 	:i if NOT $isemitting$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey frame	}$		:i loop_to 	:i $Die$	:i endfunction]SectionArray LockableSplineParticleComponents{	ArrayStruct	[		StructHeader		{			StructQBKey Component = attach		}		StructHeader		{			StructQBKey Component = particle		}		]}Script alloc_spline_particle f70c7be7 [	${StructInt groupid = 0}$	:i if NOT $CheckSplineParticleStructure$%GLOBAL%$params_script$		:i $printf$${StructQBStringQs dc89d56a}$		:i return 	:i endif	:i if $GotParam$${StructQBKey perm}$		:i if (%GLOBAL%$perm$ = %i(1))			:i $priority$ = $coim_priority_permanent$			:i $heap$ = $gameobj$		:i else 			:i $priority$ = $coim_priority_effects$			:i $heap$ = $particle$		:i endif	:i else 		:i $priority$ = $coim_priority_effects$		:i $heap$ = $particle$	:i endif	:i if NOT $ObjectExists$$id$ = %GLOBAL%$name$		:i if $GotParam$${StructQBKey attachobjid}$			:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$$Components$ = ~$LockableSplineParticleComponents$$params$ = :s{				:i $name$ = %GLOBAL%$name$				:i %GLOBAL%$params_script$				:i $id$ = %GLOBAL%$attachobjid$				:i $attach_target$ = %GLOBAL%$attachobjid$				:i $ignorelockdie$				:i $parent_object$ = %GLOBAL%$attachobjid$				:i $bone$ = %GLOBAL%$bone$				:i $attach_bone$ = %GLOBAL%$bone$				:i $groupid$ = %GLOBAL%$groupid$				:i $LocalSpace$				:i $creation_node$ = %GLOBAL%$creation_node$				:i $object_type$ = $particle$			:i :s}		:i else 			:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$:s{				:i $Components$ = :a{					:i :s{						:i $Component$ = $particle$						:i $name$ = %GLOBAL%$name$						:i $bone$ = %GLOBAL%$bone$						:i $groupid$ = %GLOBAL%$groupid$						:i %GLOBAL%$params_script$					:i :s}				:i :a}				:i $params$ = :s{					:i $name$ = %GLOBAL%$name$					:i $bone$ = %GLOBAL%$bone$					:i $creation_node$ = %GLOBAL%$creation_node$					:i $object_type$ = $particle$				:i :s}			:i :s}			:i if $StructureContains$${					StructQBKey structure = params_script					StructQBKey LocalSpace				}$								:i if NOT $StructureContains$${						StructQBKey structure = params_script						StructQBKey boxPositions					}$										:i $printstruct$%GLOBAL%$params_script$					:i $script_assert$${StructQBStringQs c57b8c30}$				:i endif				:i if $ObjectExists$$id$ = %GLOBAL%$name$					:i %GLOBAL%$name$.$SetStartPos$(%GLOBAL%$params_script$->$boxPositions$:a{%i(1):a})				:i endif			:i endif		:i endif	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$name$		:i if $GotParam$${StructQBKey emit_script}$			:i %GLOBAL%$name$.$obj_spawnscriptlater$%GLOBAL%$emit_script$$params$ = %GLOBAL%$emit_params$		:i endif	:i endif	:i endfunction]Script alloc_fast_particle 0x89681847 [	${StructInt groupid = 0}$	:i if NOT $GotParam$${StructQBKey params_script}$		:i if NOT $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i $printf$^[8b7c4d9a]^$s$ = %GLOBAL%$params_script$			:i return 		:i endif	:i endif	:i if $GotParam$${StructQBKey perm}$		:i if (%GLOBAL%$perm$ = %i(1))			:i $priority$ = $coim_priority_permanent$			:i $heap$ = $gameobj$		:i else 			:i $priority$ = $coim_priority_effects$			:i $heap$ = $particle$		:i endif	:i else 		:i $priority$ = $coim_priority_effects$		:i $heap$ = $particle$	:i endif	:i if NOT $ObjectExists$$id$ = %GLOBAL%$name$		:i if $GotParam$${StructQBKey attachobjid}$			:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$:s{				:i $Components$ = :a{					:i :s{						:i $Component$ = $attach$						:i $attach_target$ = %GLOBAL%$attachobjid$						:i %GLOBAL%$params_script$						:i $ignorelockdie$					:i :s}					:i :s{						:i $Component$ = $particle$						:i $name$ = %GLOBAL%$name$						:i $groupid$ = %GLOBAL%$groupid$						:i $parent_object$ = %GLOBAL%$attachobjid$						:i $bone$ = %GLOBAL%$bone$						:i %GLOBAL%$params_script$						:i $systemLifetime$ = (%GLOBAL%$params_script$->$emitduration$)						:i $systemLifetime$ = %GLOBAL%$systemLifetime$					:i :s}				:i :a}				:i $params$ = :s{					:i $name$ = %GLOBAL%$name$					:i $bone$ = %GLOBAL%$bone$					:i $LocalSpace$					:i $creation_node$ = %GLOBAL%$creation_node$					:i $object_type$ = $particle$				:i :s}			:i :s}		:i else 			:i $CreateGameObject$$priority$ = %GLOBAL%$priority$$heap$ = %GLOBAL%$heap$:s{				:i $Components$ = :a{					:i :s{						:i $Component$ = $particle$						:i $name$ = %GLOBAL%$name$						:i $bone$ = %GLOBAL%$bone$						:i $groupid$ = %GLOBAL%$groupid$						:i %GLOBAL%$params_script$					:i :s}				:i :a}				:i $params$ = :s{					:i $name$ = %GLOBAL%$name$					:i $bone$ = %GLOBAL%$bone$					:i $creation_node$ = %GLOBAL%$creation_node$					:i $object_type$ = $particle$				:i :s}			:i :s}			:i if $StructureContains$${					StructQBKey structure = params_script					StructQBKey LocalSpace				}$								:i if NOT $StructureContains$${						StructQBKey structure = params_script						StructQBKey boxPositions					}$										:i $printstruct$%GLOBAL%$params_script$					:i $script_assert$${StructQBStringQs c57b8c30}$				:i endif				:i if $ObjectExists$$id$ = %GLOBAL%$name$					:i %GLOBAL%$name$.$SetStartPos$(%GLOBAL%$params_script$->$boxPositions$:a{%i(1):a})				:i endif			:i endif		:i endif	:i endif	:i if $ObjectExists$$id$ = %GLOBAL%$name$		:i if $GotParam$${StructQBKey emit_script}$			:i %GLOBAL%$name$.$obj_spawnscriptlater$%GLOBAL%$emit_script$$params$ = %GLOBAL%$emit_params$		:i endif	:i endif	:i endfunction]Script CreateGameObject c3dea0da [	:i if $IsCompositeObjectManagerEnabled$		:i $CreateCompositeObject$ isNull 	:i else 		:i $CreateCompositeObjectInstance$ isNull 	:i endif	:i endfunction]Script Hero_ContinuousTerrainParticles_Off 0x60a292f4 [	:i $cleareventhandlergroup$	:i $seteventhandler$${		StructQBKey event = NewTerrainType		StructQBKey scr = Hero_ContinuousTerrainParticles_On		StructQBKey Response = switch_script	}$		:i $OnExceptionRun$	:i $Block$	:i endfunction]Script Hero_ContinuousTerrainParticles_On 0x27fcd7f1 [	:i $GetTerrainTypeParam$$param$ = $treadActions$$terrain_id$ = %GLOBAL%$terraintype$	:i if NOT $StructureContains$${			StructQBKey structure = treadActions			StructQBKey HeroContinuousParticleParams		}$				:i $goto$${StructQBKey Hero_ContinuousTerrainParticles_Off}$	:i endif	:i $GetUniqueCompositeObjectID$${StructQBKey preferredid = Hero_ContinuousTerrainParticles}$	:i $cleareventhandlergroup$	:i $seteventhandler$$event$ = $NewTerrainType$$scr$ = $Hero_ContinuousTerrainParticles_Switch$$Response$ = $switch_script$$params$ = :s{$ParticleId$ = %GLOBAL%$uniqueid$:s}	:i $OnExceptionRun$	:i while 	:i if NOT $CompositeObjectExists$%GLOBAL%$uniqueid$		:i $CreateGameObject$$priority$ = $coim_priority_effects$$heap$ = $particle$$oldheap$ = $com$$Components$ = :a{			:i :s{$Component$ = $flexibleparticle$:s}		:i :a}$params$ = :s{			:i $name$ = %GLOBAL%$uniqueid$			:i (%GLOBAL%$treadActions$->$HeroContinuousParticleParams$)			:i $novisibilitytest$			:i $object_type$ = $particle$		:i :s}	:i endif	:i $obj_getvelocity$	:i $NormalizeVector$%GLOBAL%$vel$	:i $obj_getposition$	:i if $CompositeObjectExists$%GLOBAL%$uniqueid$		:i %GLOBAL%$uniqueid$.$obj_setposition$$position$ = ((%vec3(1.0,0.0,1.0) AND %GLOBAL%$Pos$) + %vec3(0.0,1.0,0.0) * %GLOBAL%$TerrainParticleHeight$ + ((%vec3(1.0,0.0,1.0) AND %GLOBAL%$norm$) * %f(0.1000000) * %GLOBAL%$Length$))	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i endfunction]Script Hero_ContinuousTerrainParticles_Switch cf123423 [	:i if $CompositeObjectExists$%GLOBAL%$ParticleId$		:i %GLOBAL%$ParticleId$.$emitrate$$rate$ = %i(0)		:i %GLOBAL%$ParticleId$.$destroy$$ifempty$ = %i(1)	:i endif	:i $goto$$Hero_ContinuousTerrainParticles_On$$params$ = isNull 	:i endfunction]Script GetParticleType 0x5e9244cb [	${		StructStruct params_script		{			StructHeader {}		}	}$		:i $type$ = $flexible$	:i if $CheckFlexibleParticleStructure$%GLOBAL%$params_script$		:i $type$ = $flexible$		:i if $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i if $StructureContains$$structure$ = (%GLOBAL%$params_script$)$particletype$				:i switch (%GLOBAL%$params_script$->$particletype$)					:i case $flexparticle$						:i $type$ = $flexible$						:i endcase					case $splineparticle$						:i $type$ = $fast$				:i end_switch			:i else 				:i if $StructureContains$$structure$ = (%GLOBAL%$params_script$)$class$					:i if ((%GLOBAL%$params_script$->$class$) = $particleobject$)						:i $type$ = $fast$					:i endif				:i endif			:i endif		:i endif	:i endif	:i if $CheckSplineParticleStructure$%GLOBAL%$params_script$		:i $type$ = $fast$		:i if $globalexists$$name$ = %GLOBAL%$params_script$$type$ = $structure$			:i if $StructureContains$$structure$ = (%GLOBAL%$params_script$)$particletype$				:i switch (%GLOBAL%$params_script$->$particletype$)					:i case $flexparticle$						:i $type$ = $flexible$						:i endcase					case $splineparticle$						:i $type$ = $fast$				:i end_switch			:i else 				:i if $StructureContains$$structure$ = (%GLOBAL%$params_script$)$class$					:i if ((%GLOBAL%$params_script$->$class$) = $particleobject$)						:i $type$ = $fast$					:i endif				:i endif			:i endif		:i endif	:i endif	:i return $type$ = %GLOBAL%$type$	:i endfunction]Script waterripplegenerated ffffffff [	:i endfunction]