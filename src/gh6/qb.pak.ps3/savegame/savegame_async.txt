Unknown [1c00000000000000000008000000000000000000]Script savegame_async_is_busy 0x0432e009 [	:i $GetArraySize$${StructQBString savegame_async_queue}$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $i$ = %i(0)		:i while 		:i $entry$ = (~$savegame_async_queue$:a{%GLOBAL%$i$:a})		:i if $GotParam$${StructQBKey savegame}$			:i if (%GLOBAL%$entry$->$savegame$ = %GLOBAL%$savegame$)				:i return ${StructQBKey true}$			:i endif		:i else 			:i return ${StructQBKey true}$		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i endfunction]Script savegame_async_button_in 0x220ed498 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				callback			]		}		StructQBKey all	}$		:i $savegame_async_checks$$savegame$ = %GLOBAL%$savegame$	:i $savegame_async_add_request$$savegame$ = %GLOBAL%$savegame$$state$ = $button_in$$callback$ = %GLOBAL%$callback$$Data$ = %GLOBAL%$Data$	:i endfunction]Script savegame_async_save bced5bc4 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				callback			]		}		StructQBKey all	}$		:i $savegame_async_checks$$savegame$ = %GLOBAL%$savegame$	:i $savegame_async_add_request$$savegame$ = %GLOBAL%$savegame$$state$ = $saving$$callback$ = %GLOBAL%$callback$$Data$ = %GLOBAL%$Data$	:i endfunction]Script savegame_async_add_request 0x0b301166 [	${		StructStruct Data		{			StructHeader {}		}	}$		:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				Data				callback			]		}		StructQBKey all	}$		:i $AddArrayElement$$array$ = (~$savegame_async_queue$)$element$ = :s{$savegame$ = %GLOBAL%$savegame$$state$ = %GLOBAL%$state$$callback$ = %GLOBAL%$callback$$Data$ = %GLOBAL%$Data$:s}	:i $change$$savegame_async_queue$ = %GLOBAL%$array$	:i endfunction]Script savegame_async_init c29d9cf6 [	:i if $ScriptIsRunning$${StructQBKey savegame_async_update}$		:i $scriptassert$${StructString 0x00000000 = "savegame_async_init already called"}$	:i endif	:i $spawnscriptnow$${StructQBKey savegame_async_update}$	:i endfunction]Script savegame_async_deinit 0x8bb5105c [	:i if $savegame_async_is_busy$		:i $printstruct$${StructQBString savegame_async_queue}$		:i $scriptassert$${StructString 0x00000000 = "Still in the middle of a savegame_async operation"}$	:i endif	:i $KillSpawnedScript$${StructQBKey name = savegame_async_update}$	:i endfunction]Script savegame_async_checks ed72d260 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame			]		}		StructQBKey all	}$		:i if NOT $ScriptIsRunning$${StructQBKey savegame_async_update}$		:i $scriptassert$${StructString 0x00000000 = "savegame_async_init was not called"}$	:i endif	:i endfunction]Script savegame_async_update 0x869a952d [	:i $setscriptcannotpause$	:i while 	:i $GetArraySize$(~$savegame_async_queue$)	:i if (%GLOBAL%$array_size$ > %i(0))		:i $params$ = ((~$savegame_async_queue$):a{%i(0):a})		:i $PushUnsafeForShutdown$${StructQBKey context = savegame_async_update}$		:i if $savegame_async_update_worker$%GLOBAL%$params$$savegame$ = %GLOBAL%$chosen_index$			:i $printf$%s("savegame_async_update - Completed without errors (%a)")$a$ = (%GLOBAL%$params$->$savegame$)			:i $SpawnScriptLater$(%GLOBAL%$params$->$callback$)$params$ = :s{$Data$ = (%GLOBAL%$params$->$Data$)$savegame$ = (%GLOBAL%$params$->$savegame$)$success$ = %i(1):s}		:i else 			:i $printf$%s("savegame_async_update - Completed with errors (%a)")$a$ = (%GLOBAL%$params$->$savegame$)			:i $SpawnScriptLater$(%GLOBAL%$params$->$callback$)$params$ = :s{$Data$ = (%GLOBAL%$params$->$Data$)$savegame$ = (%GLOBAL%$params$->$savegame$)$success$ = %i(0)$error$ = %GLOBAL%$error$$error_params$ = %GLOBAL%$error_params$:s}		:i endif		:i $PopUnsafeForShutdown$${StructQBKey context = savegame_async_update}$		:i $RemoveArrayElement$$array$ = (~$savegame_async_queue$)$index$ = %i(0)		:i $change$$savegame_async_queue$ = %GLOBAL%$array$		:i if $GotParam$${StructQBKey error}$			:i $printf$%s("savegame_async_update - Completed with fatal error %e (%a)")$e$ = %GLOBAL%$error$$a$ = (%GLOBAL%$params$->$savegame$)			:i $change$${				StructArray savegame_async_queue				{					Floats [0.00000, 0.00000]				}			}$						:i $change$$savegame_async_last_error$ = %GLOBAL%$error$			:i return 		:i else 			:i $change$${StructQBKey savegame_async_last_error = None}$		:i endif	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i endfunction]Script savegame_async_update_worker ddb0891b [	:i switch %GLOBAL%$state$		:i case $saving$			:i $printf$${StructString 0x00000000 = "savegame_async_update_worker - saving"}$			:i if $savegame_async_update_saving$ isNull 				:i return ${StructQBKey true}$			:i endif			:i endcase		case $button_in$			:i $printf$${StructString 0x00000000 = "savegame_async_update_worker - button_in"}$			:i if $savegame_async_update_button_in$ isNull 				:i if $abort_for_signout$$controller$ = %GLOBAL%$savegame$					:i return ${StructQBKey false}$				:i endif				:i $printf$${StructString 0x00000000 = "savegame_async_update_worker - dlc scan"}$				:i $savegame_async_update_dlc_scan$ isNull 				:i return ${StructQBKey true}$			:i endif			:i endcase		default 			:i $scriptassert$%s("savegame_async_update_worker - invalid state %s")$s$ = %GLOBAL%$state$	:i end_switch	:i return $false$$error$ = %GLOBAL%$error$$error_params$ = %GLOBAL%$error_params$	:i endfunction]