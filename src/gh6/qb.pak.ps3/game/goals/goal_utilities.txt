Unknown [1c00000000000000000028280000000000000000]Script goal_time_expired afa654fe [	${StructInt show_expire_message = 1}$	:i $printf$%s("goal_time_expired - %a")$a$ = %GLOBAL%$goal_id$	:i if (%GLOBAL%$show_expire_message$ = %i(1))	:i endif	:i $broadcastevent$${StructQBKey type = goal_expired}$	:i endfunction]Script goal_get_checkpoint_ui 0x298e219b [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				goal				checkpoint			]		}		StructQBKey all	}$		:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal$$name$ = $checkpoint_ui$		:i if $StructureContains$$structure$ = %GLOBAL%$checkpoint_ui$%GLOBAL%$checkpoint$			:i return $true$$checkpoint_ui$ = (%GLOBAL%$checkpoint_ui$->%GLOBAL%$checkpoint$)		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script goal_get_title 0x4f21ac6e [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				goal			]		}		StructQBKey all	}$		:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal$$name$ = $goal_title$		:i return $goal_title$ = %GLOBAL%$goal_title$	:i else 		:i $GMan_GetGoalString$$goal$ = %GLOBAL%$goal$		:i $FormatText$$textname$ = $goal_title$^[0bc409e2]^$a$ = %GLOBAL%$goal_string$		:i return $goal_title$ = %GLOBAL%$goal_title$	:i endif	:i endfunction]Script goal_get_desc ed1af3c5 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				goal			]		}		StructQBKey all	}$		:i if NOT $GotParam$${StructQBKey checkpoint}$		:i $GMan_GetCurrentCheckpoint$$goal$ = %GLOBAL%$goal$		:i %GLOBAL%$checkpoint$ = %GLOBAL%$current_checkpoint$	:i endif	:i if $goal_get_checkpoint_ui$$goal$ = %GLOBAL%$goal$$checkpoint$ = %GLOBAL%$checkpoint$		:i if $StructureContains$$structure$ = %GLOBAL%$checkpoint_ui$$goal_desc$			:i return $goal_desc$ = (%GLOBAL%$checkpoint_ui$->$goal_desc$)		:i endif	:i endif	:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal$$name$ = $goal_desc$		:i return $goal_desc$ = %GLOBAL%$goal_desc$	:i endif	:i return ${StructQBStringQs goal_desc = e2d2ef7d}$	:i endfunction]Script goal_end_run_script_launcher 0x4e23a15c [	:i $GMan_GetActivatedGoalId$	:i $SpawnScriptLater$%GLOBAL%$end_run_script$$params$ = :s{$goal_id$ = %GLOBAL%$activated_goal_id$:s}	:i endfunction]Script goal_spawned_safe_pass_checkpoint 0x24aa01f3 [	:i if $GMan_GetData$$goal$ = %GLOBAL%$goal$$name$ = $goal_checkpoint_transition$		:i if (%GLOBAL%$goal_checkpoint_transition$ = %i(1))			:i $GMan_GetCurrentCheckpoint$$goal$ = %GLOBAL%$goal$			:i $softassert$^[663315dc]^$s$ = %GLOBAL%$current_checkpoint$		:i endif	:i endif	:i $GMan_SetData$$goal$ = %GLOBAL%$goal$$params$ = :s{$goal_checkpoint_transition$ = %i(1):s}	:i $GMan_PassCheckpoint$$goal$ = %GLOBAL%$goal$	:i endfunction]Script goal_spawned_safe_fail_checkpoint 0x931b4a86 [	${StructInt show_retry_dialog = 0}$	:i if $GotParam$${StructQBKey goal_id}$		:i %GLOBAL%$goal$ = %GLOBAL%$goal_id$	:i endif	:i if $GMan_GetData$$goal$ = %GLOBAL%$goal$$name$ = $goal_checkpoint_transition$		:i if (%GLOBAL%$goal_checkpoint_transition$ = %i(1))			:i $GMan_GetCurrentCheckpoint$$goal$ = %GLOBAL%$goal$			:i $softassert$^[663315dc]^$s$ = %GLOBAL%$current_checkpoint$		:i endif	:i endif	:i $GMan_SetData$$goal$ = %GLOBAL%$goal$$params$ = :s{$goal_checkpoint_transition$ = %i(1):s}	:i if $GotParam$${StructQBKey show_retry_dialog}$		:i if (%GLOBAL%$show_retry_dialog$ = %i(1))		:i else 			:i $GMan_FailCheckpoint$$goal$ = %GLOBAL%$goal$		:i endif	:i else 		:i $GMan_FailCheckpoint$$goal$ = %GLOBAL%$goal$	:i endif	:i endfunction]Script goal_retry_current_goal 0x97ef2a80 [	:i $printf$${StructString 0x00000000 = "goal_retry_current_goal"}$	:i if $GMan_CanRetryCurrentGoal$		:i $GMan_GetCurrentRetryableGoalId$		:i if $GMan_GetData$$goal$ = %GLOBAL%$current_retryable_goal_id$$name$ = $retry$			:i $printf$${StructString 0x00000000 = "goal_retry_current_goal: WARNING: retry current already active, ignoring"}$			:i return 		:i endif		:i $GMan_SetRetryFlag$${StructQBKey type = current}$		:i $GMan_DeactivateTools$$goal$ = %GLOBAL%$current_retryable_goal_id$		:i $GMan_RetryCurrentGoal$	:i else 		:i $printf$${StructString 0x00000000 = "goal_retry_current_goal - WARNING: cannot retry current goal"}$	:i endif	:i endfunction]SectionInteger goal_is_between_retries 0Script goal_retry_last_goal 0x7c847de9 [	:i $goal_viewport_kill$${StructQBKey all}$	:i $spawnscriptnow$${StructQBKey goal_retry_last_goal_spawned}$	:i endfunction]Script goal_retry_last_goal_spawned 0x8ba65851 [	:i $disable_pause$	:i if $GMan_CanRetryLastGoal$		:i $GMan_SetRetryFlag$${StructQBKey type = last}$		:i $GMan_GetLastRetryableGoalId$		:i $change$${StructInt goal_is_between_retries = 1}$		:i $disable_pause$		:i $KillSkaterCamAnim$${StructQBKey current}$		:i $stuckcheck$ = %i(200)		:i while 		:i if $GMan_GetGoalState$$goal$ = %GLOBAL%$last_retryable_goal_id$$states$ = ~$goal_idle_states$			:i continue		:i endif		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i $stuckcheck$ = (%GLOBAL%$stuckcheck$ - %i(1))		:i if (%GLOBAL%$stuckcheck$ = %i(0))			:i $softassert$${StructQBStringQs 0x29c519a2}$		:i endif		:i loop_to 		:i if NOT $GMan_GoalIsInitialized$$goal$ = %GLOBAL%$last_retryable_goal_id$			:i $stuckcheck$ = %i(200)			:i while 			:i $wait$${				StructInt 2				StructQBKey gameframes			}$						:i if NOT $GMan_GetGoalState$$goal$ = %GLOBAL%$last_retryable_goal_id$$states$ = :a{$goal_uniniting$:a}				:i continue			:i endif			:i $stuckcheck$ = (%GLOBAL%$stuckcheck$ - %i(1))			:i if (%GLOBAL%$stuckcheck$ = %i(0))				:i $softassert$${StructQBStringQs 0x8793d1d4}$			:i endif			:i loop_to 			:i $GMan_InitializeGoal$$goal$ = %GLOBAL%$last_retryable_goal_id$			:i $stuckcheck$ = %i(200)			:i while 			:i $wait$${				StructInt 2				StructQBKey gameframes			}$						:i if $GMan_GoalIsInitialized$$goal$ = %GLOBAL%$last_retryable_goal_id$				:i continue			:i endif			:i $stuckcheck$ = (%GLOBAL%$stuckcheck$ - %i(1))			:i if (%GLOBAL%$stuckcheck$ = %i(0))				:i $softassert$${StructQBStringQs bc755570}$			:i endif			:i loop_to 		:i endif		:i $GMan_RetryLastGoal$	:i else 		:i $enable_pause$	:i endif	:i endfunction]Script goal_move_player_load_zone 0x2fb428d5 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				zone			]		}		StructQBKey all	}$		:i $printf$${StructString 0x00000000 = "goal_move_player_load_zone"}$	:i %GLOBAL%$new_zone$ = %GLOBAL%$zone$	:i $GetCurrentLevel$	:i $FormatText$$checksumname$ = $current_zone$%s("%s")$s$ = (%GLOBAL%$level_structure$->$level$)	:i if NOT $ChecksumEquals$$a$ = %GLOBAL%$new_zone$$b$ = %GLOBAL%$current_zone$		:i %GLOBAL%$should_load$ = %i(0)		:i if NOT $ChecksumEquals$$a$ = %GLOBAL%$new_zone$$b$ = %GLOBAL%$current_zone$			:i %GLOBAL%$should_load$ = %i(1)		:i endif		:i if (%GLOBAL%$should_load$ = %i(1))			:i $printf$%s("goal_move_player_load_zone: Starting a hard zone load (from %a to %b)")$a$ = %GLOBAL%$current_zone$$b$ = %GLOBAL%$new_zone$			:i if NOT $GotParam$${StructQBKey new_level}$				:i $SetButtonEventMappings$${StructQBKey block_menu_input}$				:i if $GMan_GetActivatedGoalId$					:i $load_level_handle_loading_screen$				:i else 					:i $load_level_handle_movie_loading_screen$$level$ = %GLOBAL%$new_zone$				:i endif			:i endif			:i $spawnscriptnow$$goal_wait_retry_zone_load$$params$ = :s{$new_zone$ = %GLOBAL%$new_zone$$new_level$ = %GLOBAL%$new_level$$goal$ = %GLOBAL%$goal$:s}		:i else 			:i $printf$%s("goal_move_player_load_zone: Zone %z already loaded, no load necessary.")$z$ = %GLOBAL%$new_zone$			:i return ${StructQBKey no_zone_load_necessary}$		:i endif	:i else 		:i $printf$%s("goal_move_player_load_zone: No load necessary, current zone matches new zone (%a)")$a$ = %GLOBAL%$current_zone$		:i return ${StructQBKey no_zone_load_necessary}$	:i endif	:i endfunction]SectionInteger goal_zone_loading 0Script goal_wait_retry_zone_load 0x1854bf57 [	:i $printf$${StructString 0x00000000 = "goal_wait_retry_zone_load"}$	:i $change$${StructInt goal_zone_loading = 1}$	:i if $GotParam$${StructQBKey new_level}$		:i $RequireParams$${			StructArray 0x00000000			{				ArrayQBKey				[					goal				]			}			StructQBKey all		}$				:i $change$$goal_startup_goal$ = %GLOBAL%$goal$		:i $change_level$$level$ = %GLOBAL%$new_level$		:i $printf$${StructString 0x00000000 = "goal_wait_retry_zone_load - waiting for goal"}$		:i while 		:i if $GMan_GoalExists$$goal$ = %GLOBAL%$goal$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 	:i elseif $GotParam$${StructQBKey new_zone}$		:i $SetPakManCurrentBlock$$map$ = $zones$$pak$ = %GLOBAL%$new_zone$		:i $wait$${			StructFloat 0.5			StructQBKey seconds			StructQBKey ignoreslomo		}$				:i if NOT $ZoneLoadedAndParsed$%GLOBAL%$new_zone$			:i $wait$${				StructInt 1				StructQBKey gameframe			}$						:i $printf$${StructString 0x00000000 = "goal_retry_load_zone: Done waiting for zone to unload, starting actual load."}$			:i $SetPakManCurrentBlock$$map$ = $zones$$pak$ = %GLOBAL%$new_zone$		:i endif	:i else 		:i $scriptassert$${StructQBStringQs e4404b2d}$	:i endif	:i $change$${StructInt goal_zone_loading = 0}$	:i $LaunchEvent$${		StructQBKey broadcast		StructQBKey type = goal_retry_load_zone_done	}$		:i $SetButtonEventMappings$${StructQBKey unblock_menu_input}$	:i $printf$${StructString 0x00000000 = "goal_retry_load_zone: Finished hard zone load."}$	:i endfunction]Script goal_debug_beat_checkpoint 0x1b132fc4 [	:i $printf$${StructString 0x00000000 = "goal_debug_beat_checkpoint"}$	:i $GMan_GetActivatedGoalId$	:i while 	:i if $GMan_GoalIsInitialized$$goal$ = %GLOBAL%$activated_goal_id$		:i continue	:i endif	:i if NOT $GMan_HasActiveGoals$		:i continue	:i endif	:i $printf$${StructString 0x00000000 = "Debug beat checkpoint: Waiting for goal to finish initializing."}$	:i $wait$${		StructInt 2		StructQBKey gameframes	}$		:i loop_to 	:i if $GMan_GetActivatedGoalId$		:i $KillSkaterCamAnim$${StructQBKey current}$		:i $GMan_PassCheckpoint$$goal$ = %GLOBAL%$activated_goal_id$	:i endif	:i endfunction]Script goal_quit_current_goal 0x3bae17d4 [	${StructQBKey from_pause = true}$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i if $ScreenElementExists$${StructQBKey id = goal_message}$		:i $RunScriptOnScreenElement$${			StructQBKey id = goal_message			StructQBKey kill_panel_message		}$			:i endif	:i $ui_kill_all_messages$${StructInt instant = 1}$	:i $GMan_GetActivatedGoalId$	:i $GMan_SetQuitFlag$$goal$ = %GLOBAL%$activated_goal_id$	:i $GMan_DeactivateAllGoals$	:i $GMan_BlockUntilAllGoalsDeactivated$	:i $GMan_UnSetQuitFlag$$goal$ = %GLOBAL%$activated_goal_id$	:i if (%GLOBAL%$from_pause$ = $true$)	:i endif	:i endfunction]Script goal_move_player 0x04f4bacc [	${StructQBKey player = player0_body}$	:i if $CompositeObjectExists$%GLOBAL%$player$		:i if $GotParam$${StructQBKey restart_pos}$			:i %GLOBAL%$Pos$ = (%GLOBAL%$restart_pos$->$Pos$)			:i if $StructureContains$${					StructQBKey structure = restart_pos					StructQBKey Quat				}$								:i %GLOBAL%$Quat$ = (%GLOBAL%$restart_pos$->$Quat$)			:i endif		:i elseif $GotParam$${StructQBKey restart_node}$			:i $GetNode$%GLOBAL%$restart_node$			:i if $GotParam$${StructQBKey node}$				:i %GLOBAL%$Pos$ = (%GLOBAL%$node$->$Pos$)			:i endif		:i endif		:i if NOT $GotParam$${StructQBKey Pos}$			:i $softassert$${StructQBStringQs 0x5a68e6bb}$		:i endif		:i if $GotParam$${StructQBKey zone}$			:i $goal_move_player_load_zone$$zone$ = %GLOBAL%$zone$			:i if NOT $GotParam$${StructQBKey no_zone_load_necessary}$				:i $Block$${StructQBKey type = goal_retry_load_zone_done}$			:i endif		:i endif		:i %GLOBAL%$player$.$movementresolution_teleportobject$$Pos$ = %GLOBAL%$Pos$		:i $GetPlayerCamera$%GLOBAL%$player$		:i if $GotParam$${StructQBKey player_camera}$			:i %GLOBAL%$player_camera$.$CameraBlender_Reset$		:i endif		:i if $GotParam$${StructQBKey zone}$			:i if NOT $GotParam$${StructQBKey no_zone_load_necessary}$				:i $hideloadingscreen$				:i $enable_pause$			:i endif		:i endif	:i endif	:i endfunction]Script goal_get_leaderboard_metrics a35972e9 [	:i if NOT $GotParam$${StructQBKey goal_type}$		:i $GMan_GetGoalType$$goal$ = %GLOBAL%$goal$	:i endif	:i if $StructureContains$$structure$ = ~$goal_type_info$%GLOBAL%$goal_type$		:i %GLOBAL%$leaderboard_metrics$ = (~$goal_type_info$->%GLOBAL%$goal_type$->$leaderboard$)	:i endif	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				leaderboard_metrics			]		}		StructQBKey all	}$		:i return $leaderboard_metrics$ = %GLOBAL%$leaderboard_metrics$	:i endfunction]Script goal_get_leaderboard_columns e8f5c09b [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				goal			]		}		StructQBKey all	}$		:i return ${		StructArray leaderboard_columns		{			ArrayInteger			[				0				1				2				3				4			]		}	}$		:i endfunction]Script goal_utility_manage_objects a44d8a9e [	:i $printf$${StructString 0x00000000 = "starting goal_manage_objects"}$	:i $MemPushContext$${StructQBKey bottomupheap}$	:i if $GotParam$${StructQBKey action}$		:i if $GotParam$${StructQBKey objects}$			:i $GetArraySize$%GLOBAL%$objects$			:i %GLOBAL%$i$ = %i(0)			:i switch %GLOBAL%$action$				:i case $remove$					:i while 					:i %GLOBAL%$object_name$ = (%GLOBAL%$objects$:a{%GLOBAL%$i$:a})					:i $Kill$$name$ = %GLOBAL%$object_name$					:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i endcase				case $Add$					:i while 					:i %GLOBAL%$object_name$ = (%GLOBAL%$objects$:a{%GLOBAL%$i$:a})					:i $Create$$name$ = %GLOBAL%$object_name$					:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i endcase				case $reset$					:i while 					:i %GLOBAL%$object_name$ = (%GLOBAL%$objects$:a{%GLOBAL%$i$:a})					:i $Kill$$name$ = %GLOBAL%$object_name$					:i $Create$$name$ = %GLOBAL%$object_name$					:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i endcase				case $glow$					:i while 					:i %GLOBAL%$object_name$ = (%GLOBAL%$objects$:a{%GLOBAL%$i$:a})					:i %GLOBAL%$object_name$.$obj_setoutlineflag$$on$					:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i endcase				case $remove_prefix$					:i while 					:i %GLOBAL%$object_name$ = (%GLOBAL%$objects$:a{%GLOBAL%$i$:a})					:i $Kill$$prefix$ = %GLOBAL%$object_name$					:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i endcase				case $add_prefix$					:i while 					:i %GLOBAL%$object_name$ = (%GLOBAL%$objects$:a{%GLOBAL%$i$:a})					:i $Create$$prefix$ = %GLOBAL%$object_name$					:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i endcase				case $reset_prefix$					:i while 					:i %GLOBAL%$object_name$ = (%GLOBAL%$objects$:a{%GLOBAL%$i$:a})					:i $Kill$$name$ = %GLOBAL%$object_name$					:i $Create$$name$ = %GLOBAL%$object_name$					:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i endcase				default 			:i end_switch		:i else 			:i if $GotParam$${StructQBKey object}$				:i switch %GLOBAL%$action$					:i case $remove$						:i $Kill$$name$ = %GLOBAL%$object$						:i endcase					case $Add$						:i $Create$$name$ = %GLOBAL%$object$						:i endcase					case $remove_prefix$						:i $Kill$$prefix$ = %GLOBAL%$object$						:i endcase					case $add_prefix$						:i $Create$$prefix$ = %GLOBAL%$object$						:i endcase					case $reset$						:i $Kill$$prefix$ = %GLOBAL%$object$						:i $Create$$prefix$ = %GLOBAL%$object$						:i endcase					case $reset_prefix$						:i $Kill$$prefix$ = %GLOBAL%$object$						:i $Create$$prefix$ = %GLOBAL%$object$						:i endcase					case $glow$						:i %GLOBAL%$object$.$obj_setoutlineflag$$on$						:i endcase					default 				:i end_switch			:i endif		:i endif	:i endif	:i $MemPopContext$	:i endfunction]Script GMan_BlockUntilAllGoalsDeactivated 0x94292c35 [	:i while 	:i $printf$${StructString 0x00000000 = "GMan_BlockUntilAllGoalsDeactivated - Waiting for active goals..."}$	:i if NOT $GMan_HasActiveGoals$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $printf$${StructString 0x00000000 = "GMan_BlockUntilAllGoalsDeactivated - No active goals."}$	:i endfunction]Script GMan_preQBRGoal 0x76e4755d [	:i $printf$%s("QBRGoal: %g")$g$ = %GLOBAL%$goal$	:i $GMan_DeactivateAllGoals$	:i $GMan_BlockUntilAllGoalsDeactivated$	:i if $IsTrue$%GLOBAL%$pakless$		:i $GMan_UninitializeAllGoals$		:i while 		:i if $GMan_AllGoalsUninitialized$			:i continue		:i endif		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i loop_to 		:i $GMan_GetGoalsByPak$${StructQBKey pak = pakless}$		:i %GLOBAL%$i$ = %i(0)		:i while 		:i $GMan_RemoveGoal$$goal$ = (%GLOBAL%$goals_by_pak$:a{%GLOBAL%$i$:a})		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$goals_by_pak_size$	:i else 		:i $GMan_UninitializeGoal$$goal$ = %GLOBAL%$goal$		:i while 		:i if $GMan_GetGoalState$$goal$ = %GLOBAL%$goal$$states$ = :a{$goal_uninited$:a}			:i continue		:i endif		:i $printf$${StructString 0x00000000 = "GMan_preQBRGoal: Block until goal uninited."}$		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i loop_to 		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i $GMan_RemoveGoal$$goal$ = %GLOBAL%$goal$	:i endif	:i endfunction]Script GMan_postQBRGoal 0x114eb315 [	:i if $IsTrue$%GLOBAL%$pakless$		:i $GetArraySize$${StructQBString goal_infos_pakless}$		:i %GLOBAL%$i$ = %i(0)		:i while 		:i $GMan_AddGoal$$goal_info$ = (~$goal_infos_pakless$:a{%GLOBAL%$i$:a})		:i $printstruct$(~$goal_infos_pakless$:a{%GLOBAL%$i$:a})		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$		:i $GMan_InitializeAllGoals$	:i else 		:i $AppendSuffixToChecksum$$base$ = %GLOBAL%$goal$$suffixstring$ = %s("_goal_info")		:i $GMan_AddGoal$$goal_info$ = (~%GLOBAL%$appended_id$)		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i $GMan_InitializeGoal$$goal$ = %GLOBAL%$goal$		:i while 		:i if $GMan_GoalIsInitialized$$goal$ = %GLOBAL%$goal$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 		:i $GMan_ActivateGoal$$goal$ = %GLOBAL%$goal$	:i endif	:i endfunction]Script goal_event_has_occurred 0x15198487 [	:i $FormatText$$checksumname$ = $already_triggered_flag$%s("%s_already_triggered_flag")$s$ = %GLOBAL%$event_string$	:i if $GMan_GetData$$goal$ = %GLOBAL%$goal$$name$ = %GLOBAL%$already_triggered_flag$		:i if (( isNull ->%GLOBAL%$already_triggered_flag$) = $true$)			:i return ${StructQBKey true}$		:i endif	:i else 		:i $GMan_SetData$$goal$ = %GLOBAL%$goal$$name$ = %GLOBAL%$already_triggered_flag$$value$ = $false$$initial$	:i endif	:i $GMan_SetData$$goal$ = %GLOBAL%$goal$$name$ = %GLOBAL%$already_triggered_flag$$value$ = $true$	:i return ${StructQBKey false}$	:i endfunction]Script goal_debug_show_states 0x4f924b7c [	:i while 	:i if $ScreenElementExists$${StructQBKey id = goal_debug_state_menu}$		:i $DestroyScreenElement$${StructQBKey id = goal_debug_state_menu}$	:i endif	:i $CreateScreenElement$${		StructQBKey id = goal_debug_state_menu		StructQBKey type = ContainerElement		StructQBKey parent = root_window		StructFloat Scale = 0.5199999809265137		StructFloatX2 Pos		{			Floats [70.0000, 20.0000]		}		StructArray just		{			ArrayQBKey			[				left				top			]		}		StructArray internal_just		{			ArrayQBKey			[				left				top			]		}		StructInt z_priority = 100	}$		:i %GLOBAL%$num_cols$ = %i(4)	:i %GLOBAL%$goals_per_col$ = %i(38)	:i %GLOBAL%$i$ = %i(0)	:i while 	:i $CreateScreenElement$:s{		:i $type$ = $vmenu$		:i $parent$ = $goal_debug_state_menu$		:i $Pos$ = (%vec2(0.0,0.0) + %GLOBAL%$i$ * %vec2(575.0,0.0))		:i $just$ = :a{$left$$top$:a}		:i $internal_just$ = :a{$left$$top$:a}		:i $regular_space_amount$ = %i(34)	:i :s}	:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$num_cols$	:i if (~$goals_for_gamemode_loaded$ = %i(1))		:i $GetArraySize$(~$goal_types$)		:i %GLOBAL%$num_types$ = %GLOBAL%$array_size$		:i %GLOBAL%$j$ = %i(0)		:i %GLOBAL%$goal_iter$ = %i(0)		:i while 		:i %GLOBAL%$goal_type$ = (~$goal_types$:a{%GLOBAL%$j$:a})		:i $RemoveParameter$${StructQBKey goals_by_type}$		:i if $GMan_GetGoalsByType$$type$ = %GLOBAL%$goal_type$			:i $GetArraySize$%GLOBAL%$goals_by_type$			:i %GLOBAL%$num_goals$ = %GLOBAL%$array_size$			:i if (%GLOBAL%$num_goals$ > %i(0))				:i %GLOBAL%$i$ = %i(0)				:i while 				:i %GLOBAL%$goal$ = (%GLOBAL%$goals_by_type$:a{%GLOBAL%$i$:a})				:i if $GMan_GoalExists$$goal$ = %GLOBAL%$goal$					:i $GMan_GetGoalState$$goal$ = %GLOBAL%$goal$					:i $GMan_GetGoalString$$goal$ = %GLOBAL%$goal$					:i $StringRemove$$text$ = %GLOBAL%$goal_string$$remove$ = %s("m_")$new_string$ = $goal_string$					:i %GLOBAL%$state_string$ = %s("?")					:i switch %GLOBAL%$goal_state$						:i case $goal_activating$							:i %GLOBAL%$state_string$ = %s("act.ing")							:i endcase						case $goal_deactivating$							:i %GLOBAL%$state_string$ = %s("deact.")							:i endcase						case $goal_initing$							:i %GLOBAL%$state_string$ = %s("initing")							:i endcase						case $goal_uniniting$							:i %GLOBAL%$state_string$ = %s("uniniting")							:i endcase						case $goal_result$							:i %GLOBAL%$state_string$ = %s("result")							:i endcase						case $goal_activated$							:i %GLOBAL%$state_string$ = %s("RUN")							:i endcase						case $goal_inactive$							:i %GLOBAL%$state_string$ = %s("inactive")							:i endcase						case $goal_uninited$							:i %GLOBAL%$state_string$ = %s("uninited")					:i end_switch					:i $FormatText$$textname$ = $text$^[351ed798]^$g$ = %GLOBAL%$goal_string$$s$ = %GLOBAL%$state_string$					:i if NOT (($ChecksumEquals$$a$ = %GLOBAL%$goal_state$$b$ = $goal_uninited$) OR ($ChecksumEquals$$a$ = %GLOBAL%$goal_state$$b$ = $goal_inactive$))						:i %GLOBAL%$text_color$ = :a{%i(255)%i(255)%i(255)%i(70):a}						:i switch %GLOBAL%$goal_state$							:i case $goal_activating$								:i endcase							case $goal_deactivating$								:i endcase							case $goal_initing$								:i endcase							case $goal_uniniting$								:i endcase							case $goal_result$								:i %GLOBAL%$text_color$ = :a{%i(255)%i(255)%i(0)%i(255):a}								:i endcase							case $goal_activated$								:i %GLOBAL%$text_color$ = :a{%i(0)%i(255)%i(0)%i(255):a}						:i end_switch						:i %GLOBAL%$column$ = (%GLOBAL%$goal_iter$ / %GLOBAL%$goals_per_col$)						:i $CastToInteger$${StructQBKey column}$						:i if (%GLOBAL%$column$ >= %GLOBAL%$num_cols$)							:i %GLOBAL%$column$ = (%GLOBAL%$num_cols$ - %i(1))						:i endif						:i %GLOBAL%$goal_iter$ = (%GLOBAL%$goal_iter$ + %i(1))						:i if $GMan_GetActivatedGoalId$							:i if $ChecksumEquals$$a$ = %GLOBAL%$activated_goal_id$$b$ = %GLOBAL%$goal$								:i $CreateScreenElement$:s{									:i $type$ = $TextElement$									:i $parent$ = :s{$goal_debug_state_menu$$child$ = %GLOBAL%$column$:s}									:i $font$ = $text_a1$									:i $text$ = %GLOBAL%$text$									:i $rgba$ = %GLOBAL%$text_color$									:i $shadow$									:i $shadow_offs$ = %vec2(1.0,1.0)								:i :s}							:i endif						:i else 							:i $CreateScreenElement$:s{								:i $type$ = $TextElement$								:i $parent$ = :s{$goal_debug_state_menu$$child$ = %GLOBAL%$column$:s}								:i $font$ = $text_a1$								:i $text$ = %GLOBAL%$text$								:i $rgba$ = %GLOBAL%$text_color$								:i $shadow$								:i $shadow_offs$ = %vec2(1.0,1.0)							:i :s}						:i endif						:i if $ChecksumEquals$$a$ = %GLOBAL%$goal_state$$b$ = $goal_activated$							:i $GMan_GetCurrentCheckpoint$$goal$ = %GLOBAL%$goal$							:i $FormatText$$textname$ = $c_text$^[961d63b2]^$c$ = %GLOBAL%$current_checkpoint$							:i $CreateScreenElement$:s{								:i $type$ = $TextElement$								:i $parent$ = $goal_debug_state_menu$								:i $font$ = $text_a1$								:i $text$ = %GLOBAL%$c_text$								:i $rgba$ = %GLOBAL%$text_color$								:i $shadow$								:i $shadow_offs$ = %vec2(1.0,1.0)							:i :s}						:i endif					:i endif				:i endif				:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))				:i loop_to %GLOBAL%$num_goals$			:i endif		:i endif		:i %GLOBAL%$j$ = (%GLOBAL%$j$ + %i(1))		:i loop_to %GLOBAL%$num_types$	:i endif	:i $wait$${		StructInt 10		StructQBKey gameframes	}$		:i loop_to 	:i endfunction]Script GMan_InitializeGoalBlocking 0x81ccb794 [	${StructQBKey goal = unset}$	:i $GMan_InitializeGoal$$goal$ = %GLOBAL%$goal$	:i while 	:i if $GMan_GoalIsInitialized$$goal$ = %GLOBAL%$goal$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i endfunction]Script get_current_songs_struct 0x6b9197bb [	:i $Playlist_GetCurrentSong$	:i $get_song_struct$$song$ = %GLOBAL%$current_song$	:i return $song_struct$ = %GLOBAL%$song_struct$	:i endfunction]Script is_current_song_a_jam_session 0x1b49a75a [	:i $Playlist_GetCurrentSong$	:i if (%GLOBAL%$current_song$ = $jamsession$)		:i return ${StructQBKey true}$	:i else 		:i return ${StructQBKey false}$	:i endif	:i endfunction]Script GMan_StartGameModeGoal 0x82402bcb [	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $quickplay$)		:i $goal_name$ = $quickplay$		:i $goal_struct$ = $quickplay_info$	:i elseif (%GLOBAL%$type$ = $competitive$)		:i if (~$game_mode$ = $compmega$ OR ~$game_mode$ = $compmega_team$ OR ~$game_mode$ = $fest_mode$ OR ~$game_mode$ = $fest_mode_team$)			:i $goal_name$ = $competitive$			:i $goal_struct$ = $competitive_info$		:i elseif (~$game_mode$ = $section_scoring$)			:i $change$${StructQBKey competitive_rules = section_scoring}$			:i $goal_name$ = $competitive$			:i $goal_struct$ = $competitive_info$		:i endif	:i endif	:i if $GotParam$${StructQBKey goal_name}$		:i if NOT ($GMan_GoalIsActive$$goal$ = %GLOBAL%$goal_name$)			:i $GMan_QuickStartGoal$$goal_struct$ = %GLOBAL%$goal_struct$$goal_name$ = %GLOBAL%$goal_name$		:i endif	:i endif	:i endfunction]Script GMan_ShutDownGameModeGoal c908c1fc [	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $competitive$)		:i if (~$game_mode$ = $compmega$ OR ~$game_mode$ = $compmega_team$ OR ~$game_mode$ = $section_scoring$ OR ~$game_mode$ = $fest_mode$ OR ~$game_mode$ = $fest_mode_team$)			:i $GMan_QuickRemoveGoal$${StructQBKey goal_name = competitive}$		:i endif	:i elseif (%GLOBAL%$type$ = $quickplay$)		:i $GMan_QuickRemoveGoal$${StructQBKey goal_name = quickplay}$	:i endif	:i endfunction]Script GMan_ShutDownAllGoals 0x350d9d82 [	${StructQBKey except = null}$	:i $GMan_GetAllLoadedGoalIDs$	:i if NOT $GotParam$${StructQBKey loaded_goal_ids}$		:i return 	:i endif	:i $GetArraySize$%GLOBAL%$loaded_goal_ids$	:i if (%GLOBAL%$array_size$ = %i(0))		:i return 	:i endif	:i $i$ = %i(0)	:i while 	:i $cur_id$ = (%GLOBAL%$loaded_goal_ids$:a{%GLOBAL%$i$:a})	:i if (%GLOBAL%$cur_id$ !== %GLOBAL%$except$)		:i $GMan_QuickRemoveGoal$$goal_name$ = %GLOBAL%$cur_id$	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script goal_set_player_data_all_players 0x13b0ddab [	${		StructStruct params		{			StructHeader {}		}	}$		:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				goal				params			]		}		StructQBKey all	}$		:i $GetNumPlayersInGame$	:i if (%GLOBAL%$num_players$ > %i(0))		:i $GetFirstPlayer$		:i while 		:i $GMan_SetData$$goal$ = %GLOBAL%$goal$$player$ = %GLOBAL%$player$$params$ = %GLOBAL%$params$		:i $GetNextPlayer$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players$	:i endif	:i endfunction]Script GMan_SendCallbackToAllGoals b6265ef9 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				suffix			]		}		StructQBKey all	}$		:i $GMan_GetActivatedGoalIDs$	:i $FormatText$$textname$ = $final_suffix$%s("_%a")$a$ = %GLOBAL%$suffix$	:i $GetArraySize$%GLOBAL%$active_goal_ids$	:i if (%i(0) = %GLOBAL%$array_size$)		:i return 	:i endif	:i $i$ = (%GLOBAL%$array_size$ - %i(1))	:i while 	:i $cur_id$ = (%GLOBAL%$active_goal_ids$:a{%GLOBAL%$i$:a})	:i if $GMan_GoalIsActive$$goal$ = %GLOBAL%$cur_id$		:i $AppendSuffixToChecksum$$base$ = %GLOBAL%$cur_id$$suffixstring$ = %GLOBAL%$final_suffix$		:i if NOT $GotParam$${StructQBKey callback_data}$			:i %GLOBAL%$callback_data$ = :s{$goal_id$ = %GLOBAL%$cur_id$:s}		:i else 			:i %GLOBAL%$callback_data$ = (%GLOBAL%$callback_data$ + :s{$goal_id$ = %GLOBAL%$cur_id$:s})		:i endif		:i if $ScriptExists$%GLOBAL%$appended_id$			:i %GLOBAL%$appended_id$%GLOBAL%$callback_data$		:i endif		:i $FormatText$$checksumname$ = $suffix_checksum$%s("%d")$d$ = %GLOBAL%$suffix$		:i if $GMan_GetConstant$$goal$ = %GLOBAL%$cur_id$$name$ = %GLOBAL%$suffix_checksum$$return_name$ = $custom_callback$			:i if $ScriptExists$%GLOBAL%$custom_callback$				:i %GLOBAL%$custom_callback$%GLOBAL%$callback_data$			:i endif		:i endif	:i endif	:i $i$ = (%GLOBAL%$i$ - %i(1))	:i if (%GLOBAL%$i$ < %i(0))		:i continue	:i endif	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script goal_enable_bots 0x5430e85a [	:i $change$${		StructStruct goal_debug_bot_struct		{			StructHeader			{				StructString name = "bot"				StructQBKey type = bot				StructStruct bot_params				{					StructHeader					{						StructArray bots						{							ArrayStruct							[								StructHeader								{									StructInt player = 1									StructQBKey id = p1_bot									StructFloat hit_percent = 0.9099999666213989								}								StructHeader								{									StructInt player = 2									StructQBKey id = p2_bot									StructFloat hit_percent = 0.8799999952316284								}								StructHeader								{									StructInt player = 3									StructQBKey id = p3_bot									StructFloat hit_percent = 0.949999988079071								}								StructHeader								{									StructInt player = 4									StructQBKey id = p4_bot									StructFloat hit_percent = 0.8999999761581421								}							]						}					}				}			}		}	}$		:i endfunction]Script goal_disable_bots d5f0f075 [	:i $change$${		StructStruct goal_debug_bot_struct		{			StructHeader			{				StructString name = "bot"				StructQBKey type = bot				StructStruct bot_params				{					StructHeader					{						StructArray bots						{							Floats [0.00000, 0.00000]						}					}				}			}		}	}$		:i endfunction]SectionStruct goal_debug_bot_struct{	StructHeader	{		StructString name = "bot"		StructQBKey type = bot		StructStruct bot_params		{			StructHeader			{				StructArray bots				{					Floats [0.00000, 0.00000]				}			}		}	}}Script goal_get_data_sum_all_players 0x576a2b34 [	:i %GLOBAL%$data_sum$ = %i(0)	:i $GetNumPlayersInGame$	:i if (%GLOBAL%$num_players$ > %i(0))		:i $GetFirstPlayer$		:i while 		:i $GMan_GetData$$goal$ = %GLOBAL%$goal_id$$player$ = %GLOBAL%$player$$name$ = %GLOBAL%$data_name$		:i %GLOBAL%$data_sum$ = (%GLOBAL%$data_sum$ + isNull ->%GLOBAL%$data_name$)		:i $GetNextPlayer$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players$	:i endif	:i return $data_sum$ = %GLOBAL%$data_sum$	:i endfunction]Script debug_add_game_rules_text b6223262 [	:i %GLOBAL%$ruleset$ = (~$competitive_rules$)	:i if NOT $globalexists$$name$ = %GLOBAL%$ruleset$		:i $text$ = ^[d4876724]^	:i else 		:i $text$ = ((~%GLOBAL%$ruleset$)->$text$)	:i endif	:i if $GotParam$${StructQBKey override}$		:i $text$ = %GLOBAL%$override$	:i endif	:i if $GMan_GoalIsActive$${StructQBKey goal = competitive}$		:i $rgba$ = :a{%i(20)%i(220)%i(20)%i(255):a}	:i else 		:i $rgba$ = :a{%i(220)%i(20)%i(20)%i(255):a}	:i endif	:i if $ScreenElementExists$${StructQBKey id = debug_goals_text}$		:i $DestroyScreenElement$${StructQBKey id = debug_goals_text}$	:i endif	:i $CreateScreenElement$:s{		:i $type$ = $TextElement$		:i $just$ = :a{$top$$left$:a}		:i $parent$ = $root_window$		:i $type$ = $TextBlockElement$		:i $id$ = $debug_goals_text$		:i $text$ = %GLOBAL%$text$		:i $Pos$ = %vec2(100.0,100.0)		:i $Scale$ = %f(1.5)		:i $just$ = :a{$left$$top$:a}		:i $rgba$ = %GLOBAL%$rgba$		:i $fit_width$ = $expand dims$		:i $fit_height$ = $expand dims$		:i $font$ = $fontgrid_title_a1$	:i :s}	:i endfunction]Script get_goal_results_data 0x54e0aa4a [	:i $GMan_GetData$$goal$ = %GLOBAL%$goal$$name$ = %GLOBAL%$results_screen_goal_data$	:i if NOT $GotParam$${StructQBKey results_screen_goal_data}$		:i $scriptassert$^[8b1b399f]^$a$ = %GLOBAL%$goal$		:i return 	:i endif	:i $column_title$ = (%GLOBAL%$results_screen_goal_data$->$column_title$)	:i $goal_var_source$ = (%GLOBAL%$results_screen_goal_data$->$data_source$)	:i $goal_var_name$ = (%GLOBAL%$results_screen_goal_data$->$var_name$)	:i $is_band_data$ = %i(0)	:i $column_data$ = :a{:a}	:i if (%GLOBAL%$goal_var_source$ = $player_goal_data$)		:i $GetNumPlayersInGame$		:i if (%GLOBAL%$num_players$ > %i(0))			:i $GetFirstPlayer$			:i while 			:i $GMan_GetData$$goal$ = %GLOBAL%$goal$$player$ = %GLOBAL%$player$$name$ = %GLOBAL%$goal_var_name$$return_name$ = $recieved_data$			:i if NOT $GotParam$${StructQBKey recieved_data}$				:i $scriptassert$^[aa773e13]^$v$ = %GLOBAL%$goal_var_name$$s$ = %GLOBAL%$goal_var_source$				:i return 			:i endif			:i %GLOBAL%$column_data$ = (%GLOBAL%$column_data$ + (%GLOBAL%$recieved_data$))			:i $GetNextPlayer$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_players$		:i endif	:i elseif (%GLOBAL%$goal_var_source$ = $player_info_data$)		:i $GetNumPlayersInGame$		:i if (%GLOBAL%$num_players$ > %i(0))			:i $GetFirstPlayer$			:i while 			:i $getplayerinfo$%GLOBAL%$player$(%GLOBAL%$goal_var_name$)$out$ = $recieved_data$			:i %GLOBAL%$column_data$ = (%GLOBAL%$column_data$ + (%GLOBAL%$recieved_data$))			:i $GetNextPlayer$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_players$		:i endif	:i elseif (%GLOBAL%$goal_var_source$ = $player_goal_data_array$)		:i $GMan_GetData$$goal$ = %GLOBAL%$goal$$name$ = %GLOBAL%$goal_var_name$$return_name$ = $column_data$	:i elseif (%GLOBAL%$goal_var_source$ = $band_info_data$)		:i $is_band_data$ = %i(1)		:i $GetBandsStatus$		:i $GetArraySize$%GLOBAL%$bands$		:i $i$ = %i(0)		:i while 		:i if (%GLOBAL%$bands$:a{%GLOBAL%$i$:a}->$in_game$)			:i $GetBandInfo$(%GLOBAL%$i$ + %i(1))$Score$$out$ = $recieved_data$			:i %GLOBAL%$column_data$ = (%GLOBAL%$column_data$ + (%GLOBAL%$recieved_data$))		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return $goal_results_column_title$ = %GLOBAL%$column_title$$goal_results_column_data$ = %GLOBAL%$column_data$$is_band_data$ = %GLOBAL%$is_band_data$	:i endfunction]