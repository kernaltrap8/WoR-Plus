Unknown [1c000000000000000000116c0000000000000000]Script init_goal_manager b0d62e19 [	${StructQBKey game_mode = career}$	:i if (~$disable_goals$ = %i(1))		:i return 	:i endif	:i if (~$goal_goalmanager_uninitializing$ = %i(1))		:i $script_assert$${StructQBStringQs 0x6d0e6636}$		:i return 	:i endif	:i if (~$goals_for_gamemode_loaded$ = %i(0))		:i $change$${StructInt goals_for_gamemode_loaded = 1}$		:i $LoadPak$${			StructString 0x00000000 = "pak/goal_infos.pak"			StructQBKey localized			StructQBKey no_vram		}$				:i $change$${StructInt goals_for_career_loaded = 1}$		:i $PushMemProfile$${StructString 0x00000000 = "Goals script"}$		:i $GMan_AddGoals$$game_mode$ = %GLOBAL%$game_mode$		:i $PopMemProfile$		:i $UnloadPak$${			StructString 0x00000000 = "pak/goal_infos.pak"			StructQBKey localized		}$				:i $GMan_LoadGoalStates$		:i $GMan_SyncGoalsWithCareer$		:i $spawnscriptnow$${StructQBKey goal_wait_intializeallgoals}$		:i if (($ChecksumEquals$$a$ = %GLOBAL%$game_mode$$b$ = $career$) AND (~$goal_added_first_time$ = %i(0)))			:i $GMan_SaveGoalStates$			:i $change$${StructInt goal_added_first_time = 1}$		:i endif	:i endif	:i endfunction]Script goal_wait_intializeallgoals 0x1f491150 [	:i $GMan_InitializeAllGoals$	:i $GMan_SetCanStartGoal$${StructInt value = 1}$	:i endfunction]Script deinit_goal_manager cfe68153 [	:i $printf$${StructString 0x00000000 = "deinit_goal_manager - called"}$	:i if ((~$goals_for_gamemode_loaded$ = %i(1)) AND (~$goal_goalmanager_uninitializing$ = %i(0)))		:i $printf$${StructString 0x00000000 = "deinit_goal_manager - deiniting"}$		:i $spawnscriptnow$${StructQBKey deinit_goal_manager_catch_hang}$		:i $change$${StructInt goal_goalmanager_uninitializing = 1}$		:i $printf$${StructString 0x00000000 = "deinit_goal_manager - deactivating all goals"}$		:i $GMan_DeactivateAllGoals$		:i $GMan_BlockUntilAllGoalsDeactivated$		:i $printf$${StructString 0x00000000 = "deinit_goal_manager - uninitializing all goals"}$		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i $GMan_UninitializeAllGoals$		:i while 		:i if $GMan_AllGoalsUninitialized$			:i continue		:i endif		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i loop_to 		:i if $IsTrue$${StructQBString goals_for_career_loaded}$			:i $printf$${StructString 0x00000000 = "deinit_goal_manager - saving goal states"}$			:i $GMan_SaveGoalStates$		:i endif		:i $printf$${StructString 0x00000000 = "deinit_goal_manager - removing all goals"}$		:i $wait$${			StructInt 2			StructQBKey gameframes		}$				:i $GMan_RemoveAllGoals$		:i if $ExistsPakManMap$${StructQBKey map = missions}$			:i $SetPakManCurrentBlock$${				StructQBKey map = missions				StructQBKey pak = None				StructInt block_scripts = 1			}$						:i $DestroyPakManMap$${StructQBKey map = missions}$		:i endif		:i $change$${StructInt goals_for_gamemode_loaded = 0}$		:i $change$${StructInt goals_for_career_loaded = 0}$		:i $change$${StructInt goal_goalmanager_uninitializing = 0}$		:i $KillSpawnedScript$${StructQBKey name = deinit_goal_manager_catch_hang}$		:i $printf$${StructString 0x00000000 = "deinit_goal_manager - finished"}$	:i endif	:i endfunction]Script deinit_goal_manager_catch_hang 0x83b3d54d [	:i $wait$${		StructInt 30		StructQBKey seconds		StructQBKey ignoreslomo	}$		:i $goal_debug_print_states$${StructQBKey ignore_state = goal_uninited}$	:i $softassert$${StructQBStringQs reason = a9f56ac5}$	:i endfunction]Script goal_debug_print_states 0x342595cb [	${StructQBKey ignore_state = null}$	:i $printf$${StructString 0x00000000 = "-- goal_debug_print_states"}$	:i if (~$goals_for_gamemode_loaded$ = %i(1))		:i $GetArraySize$(~$goal_types$)		:i %GLOBAL%$num_types$ = %GLOBAL%$array_size$		:i %GLOBAL%$j$ = %i(0)		:i while 		:i %GLOBAL%$goal_type$ = (~$goal_types$:a{%GLOBAL%$j$:a})		:i $RemoveParameter$${StructQBKey goals_by_type}$		:i if $GMan_GetGoalsByType$$type$ = %GLOBAL%$goal_type$			:i $GetArraySize$%GLOBAL%$goals_by_type$			:i %GLOBAL%$num_goals$ = %GLOBAL%$array_size$			:i if (%GLOBAL%$num_goals$ > %i(0))				:i %GLOBAL%$i$ = %i(0)				:i while 				:i %GLOBAL%$goal$ = (%GLOBAL%$goals_by_type$:a{%GLOBAL%$i$:a})				:i if $GMan_GoalExists$$goal$ = %GLOBAL%$goal$					:i $GMan_GetGoalState$$goal$ = %GLOBAL%$goal$					:i if NOT $ChecksumEquals$$a$ = %GLOBAL%$ignore_state$$b$ = %GLOBAL%$goal_state$						:i $FormatText$$textname$ = $text$^[351ed798]^$g$ = %GLOBAL%$goal$$s$ = %GLOBAL%$goal_state$						:i $printf$%GLOBAL%$text$					:i endif				:i endif				:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))				:i loop_to %GLOBAL%$num_goals$			:i endif		:i endif		:i %GLOBAL%$j$ = (%GLOBAL%$j$ + %i(1))		:i loop_to %GLOBAL%$num_types$	:i else 		:i $printf$${StructString 0x00000000 = "-- goal_debug_print_states: $goals_for_gamemode_loaded = 0"}$	:i endif	:i endfunction]Script goal_initing fd5a20ac [	:i if (~$goal_debug_print$ = %i(1))		:i $printf$%s("goal_initing - %a")$a$ = %GLOBAL%$goal_id$	:i endif	:i $spawnscriptnow$$goal_initing_spawned$$params$ = isNull 	:i endfunction]Script goal_initing_spawned 0x8b6fe791 [	:i if (~$goal_debug_print$ = %i(1))		:i $printf$%s("goal_initing_spawned - %a")$a$ = %GLOBAL%$goal_id$	:i endif	:i if $GMan_HasWonGoal$$goal$ = %GLOBAL%$goal_id$		:i if $GMan_GoalIsSingleplay$$goal$ = %GLOBAL%$goal_id$			:i $scriptassert$%s("re-initializing %g, which has been beaten and is singleplay")$g$ = %GLOBAL%$goal_id$		:i endif	:i endif	:i $GMan_EndGoalTransition$$goal$ = %GLOBAL%$goal_id$$state$ = $goal_initing$$success$ = %i(1)	:i endfunction]Script goal_post_init 0x341fcc24 [	:i if (~$goal_debug_print$ = %i(1))		:i $printf$%s("goal_post_init - %a")$a$ = %GLOBAL%$goal_id$	:i endif	:i endfunction]Script goal_activating 0x0ff96402 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				goal_id			]		}		StructQBKey all	}$		:i $printf$%s("goal_activating - %a")$a$ = %GLOBAL%$goal_id$	:i $change$${StructInt goal_is_between_retries = 0}$	:i $spawnscriptnow$$goal_activating_spawned$$params$ = isNull 	:i endfunction]Script goal_activating_spawned aab87d69 [	:i $printf$%s("goal_activating_spawned - %a")$a$ = %GLOBAL%$goal_id$	:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal_id$$name$ = $pre_activate$		:i %GLOBAL%$pre_activate_script$ = %GLOBAL%$pre_activate$	:i else 		:i $GMan_GetGoalString$$goal$ = %GLOBAL%$goal_id$		:i $FormatText$$checksumname$ = $pre_activate_script$%s("%s_pre_activate")$s$ = %GLOBAL%$goal_string$	:i endif	:i if $ScriptExists$%GLOBAL%$pre_activate_script$		:i %GLOBAL%$pre_activate_script$$goal_id$ = %GLOBAL%$goal_id$	:i endif	:i if $ScreenElementExists$${StructQBKey id = goal_retry_anchor}$		:i $DestroyScreenElement$${StructQBKey id = goal_retry_anchor}$	:i endif	:i if $ScreenElementExists$${StructQBKey id = debug_goal_info_container}$		:i $DestroyScreenElement$${StructQBKey id = debug_goal_info_container}$	:i endif	:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal_id$$name$ = $has_pak$		:i if (%GLOBAL%$has_pak$ = $true$)			:i $PushMemProfile$${StructString 0x00000000 = "Mission Heap"}$			:i $MemPushContext$${StructQBKey mission}$			:i $SetPakManCurrentBlock$$map$ = $missions$$pak$ = %GLOBAL%$goal_id$$block_scripts$ = %i(1)			:i $MemPopContext$			:i $PopMemProfile$		:i endif	:i endif	:i $GMan_EndGoalTransition$$goal$ = %GLOBAL%$goal_id$$state$ = $goal_activating$$success$ = %i(1)	:i endfunction]Script goal_activated 0x8f5f879c [	:i $printf$%s("goal_activated - %g")$g$ = %GLOBAL%$goal_id$	:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal_id$$name$ = $post_activate$		:i %GLOBAL%$post_activate_script$ = %GLOBAL%$post_activate$	:i else 		:i $GMan_GetGoalString$$goal$ = %GLOBAL%$goal_id$		:i $FormatText$$checksumname$ = $post_activate_script$%s("%s_post_activate")$s$ = %GLOBAL%$goal_string$	:i endif	:i if $ScriptExists$%GLOBAL%$post_activate_script$		:i %GLOBAL%$post_activate_script$$goal_id$ = %GLOBAL%$goal_id$	:i endif	:i endfunction]Script goal_checkpoint_enter ffffffff [	:i endfunction]Script goal_checkpoint_exit ffffffff [	:i endfunction]Script goal_win 0x74a8f6b9 [	${StructQBStringQs goal_text = 0x9bef852f}$	:i $printf$%s("goal_win - %a")$a$ = %GLOBAL%$goal_id$	:i $broadcastevent$${StructQBKey type = goal_won}$	:i endfunction]Script goal_result 0x6e00a8e4 [	:i $printf$${StructString 0x00000000 = "goal_result"}$	:i $GMan_EndGoalTransition$$goal$ = %GLOBAL%$goal_id$$state$ = $goal_result$$success$ = %i(1)	:i endfunction]Script goal_give_rewards ffffffff [	:i endfunction]Script goal_lose ddab115d [	:i $printf$%s("goal_lose - %a")$a$ = %GLOBAL%$goal_id$	:i endfunction]Script goal_deactivating 0x763b8fae [	:i $printf$%s("goal_deactivating - %a")$a$ = %GLOBAL%$goal_id$	:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal_id$$name$ = $pre_deactivate$		:i %GLOBAL%$pre_deactivate_script$ = %GLOBAL%$pre_deactivate$	:i else 		:i $FormatText$$checksumname$ = $pre_deactivate_script$%s("%s_pre_deactivate")$s$ = %GLOBAL%$goal_string$	:i endif	:i if $ScriptExists$%GLOBAL%$pre_deactivate_script$		:i %GLOBAL%$pre_deactivate_script$$goal_id$ = %GLOBAL%$goal_id$	:i endif	:i $KillSpawnedScript$${StructQBKey name = goal_spawned_safe_pass_checkpoint}$	:i $KillSpawnedScript$${StructQBKey name = goal_spawned_safe_fail_checkpoint}$	:i $spawnscriptnow$$goal_deactivating_spawned$$params$ = isNull 	:i endfunction]Script goal_deactivating_spawned eccfc6bc [	:i if $GotParam$${StructQBKey cleanup_objects}$		:i $goal_deactivating_cleanup_objects$$cleanup_objects$ = %GLOBAL%$cleanup_objects$	:i endif	:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal_id$$name$ = $has_pak$		:i if (%GLOBAL%$has_pak$ = $true$)			:i $wait$${				StructInt 1				StructQBKey gameframe			}$						:i $SetPakManCurrentBlock$${				StructQBKey map = missions				StructQBKey pak = None				StructInt block_scripts = 1			}$					:i endif	:i endif	:i $GMan_EndGoalTransition$$goal$ = %GLOBAL%$goal_id$$state$ = $goal_deactivating$$success$ = %i(1)	:i endfunction]Script goal_deactivating_cleanup_objects 0x643821f0 [	:i $GetArraySize$%GLOBAL%$cleanup_objects$	:i %GLOBAL%$index$ = %i(0)	:i while 	:i if $IsCreated$(%GLOBAL%$cleanup_objects$:a{%GLOBAL%$index$:a})		:i if $CompositeObjectExists$$name$ = (%GLOBAL%$cleanup_objects$:a{%GLOBAL%$index$:a})			:i (%GLOBAL%$cleanup_objects$:a{%GLOBAL%$index$:a}).$Die$		:i else 			:i $Kill$$name$ = (%GLOBAL%$cleanup_objects$:a{%GLOBAL%$index$:a})		:i endif	:i endif	:i %GLOBAL%$index$ = (%GLOBAL%$index$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script goal_deactivated 0x0a9d83b3 [	:i if $GMan_GetConstant$$goal$ = %GLOBAL%$goal_id$$name$ = $post_deactivate$		:i %GLOBAL%$post_deactivate_script$ = %GLOBAL%$post_deactivate$	:i else 		:i $GMan_GetGoalString$$goal$ = %GLOBAL%$goal_id$		:i $FormatText$$checksumname$ = $post_deactivate_script$%s("%s_post_deactivate")$s$ = %GLOBAL%$goal_string$	:i endif	:i if $ScriptExists$%GLOBAL%$post_deactivate_script$		:i %GLOBAL%$post_deactivate_script$$goal_id$ = %GLOBAL%$goal_id$	:i endif	:i endfunction]Script goal_result_exit 0x83c1567c [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				goal_id				result_this_try			]		}		StructQBKey all	}$		:i $printf$%s("goal_result_exit - %g")$g$ = %GLOBAL%$goal_id$	:i $goal_deactivated$$goal_id$ = %GLOBAL%$goal_id$	:i endfunction]Script goal_uniniting 0x40dbd4b0 [	:i $printf$%s("goal_uniniting - %a")$a$ = %GLOBAL%$goal_id$	:i $GMan_GetData$$goal$ = %GLOBAL%$goal_id$	:i $spawnscriptnow$$goal_uniniting_spawned$$params$ = isNull 	:i endfunction]Script goal_uniniting_spawned 0x5dd34287 [	:i $printf$%s("goal_uniniting_spawned - %a")$a$ = %GLOBAL%$goal_id$	:i $GMan_EndGoalTransition$$goal$ = %GLOBAL%$goal_id$$state$ = $goal_uniniting$$success$ = %i(1)	:i endfunction]