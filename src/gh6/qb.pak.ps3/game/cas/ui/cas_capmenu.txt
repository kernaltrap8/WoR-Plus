Unknown [1c00000000000000000050900000000000000000]SectionInteger cas_max_layers 32SectionFloatsX2 color_bar_scale{	Floats [2.40000, 2.00000]}SectionArray color_bar_focus_rgba{	ArrayInteger	[		200		200		200		255	]}SectionArray color_bar_unfocus_rgba{	ArrayInteger	[		200		200		200		128	]}SectionFloatsX2 color_bar_pos{	Floats [300.000, 0.00000]}SectionFloatsX2 color_text_pos{	Floats [200.000, 0.00000]}SectionFloatsX2 color_arrow_pos_up{	Floats [300.000, 13.0000]}SectionFloatsX2 color_arrow_pos_down{	Floats [300.000, -10.0000]}SectionArray color_arrow_rgba{	ArrayInteger	[		100		90		80		255	]}SectionFloat color_nowrap_arrow_left -80.0000SectionFloat color_nowrap_arrow_right 80.0000SectionFloat color_wrap_arrow_left -80.0000SectionFloat color_wrap_arrow_right 80.0000SectionFloat color_arrow_scale 0.500000SectionFloat color_min_alpha 0.00000SectionFloat color_max_alpha 100.000SectionFloat max_trans 100.000SectionFloat min_trans -100.000SectionFloat max_skew 75.0000SectionFloat min_skew -75.0000SectionFloat max_rot 6283.00SectionFloat min_rot 0.00000SectionFloat max_scale 150.000SectionFloat min_scale 1.00000SectionFloat scale_increment 1.00000SectionFloat trans_increment 1.00000SectionFloat skew_increment 3.00000SectionFloat rot_increment 30.0000SectionInteger color_alpha_increment 5SectionInteger default_cap_alpha 100SectionInteger default_cap_scale 100SectionInteger default_cap_trans 0SectionInteger default_cap_rot 0SectionInteger default_cap_skew 0SectionInteger default_cap_red 250SectionInteger default_cap_green 250SectionInteger default_cap_blue 250Script cap_artist_layer_edit cf0830e4 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				section				mask_index			]		}		StructQBKey all	}$		:i $mask$ = (%GLOBAL%$section$->$mask$)	:i if NOT $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$no_color$		:i $cap_get_current_rgb$$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$		:i $colorwheel_add_item$:s{			:i $Scale$ = %f(0.6000000)			:i $pad_choose_script$ = $unfocus_color_wheel$			:i $pad_choose_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $increment_focus_script$ = $cap_artist_colorwheel_focus_change$			:i $increment_focus_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$:s}			:i $initial_rgb$ = %GLOBAL%$rgb$			:i $lookup_table$ = %GLOBAL%$color_wheel$			:i $special_exit_script$ = $restore_color_initial$			:i $special_exit_params$ = :s{$part$ = %GLOBAL%$part$$add_script$ = $cap_artist_colorwheel_focus_change$$add_params$ = :s{$color$ = %GLOBAL%$rgb$$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$:s}:s}			:i $special_choose_script$ = $widget_init_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$no_alpha$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $a$ = (~$default_cap_alpha$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$a$				:i $a$ = (%GLOBAL%$pre_layer$->$a$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$a$				:i $a$ = (%GLOBAL%$post_layer$->$a$)			:i endif		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $alpha_widget$			:i $text$ = ^[3d6d9684]^			:i $button_icon$ = $widget_transparency$			:i $start_value$ = %GLOBAL%$a$			:i $min$ = (~$color_min_alpha$)			:i $max$ = (~$color_max_alpha$)			:i $step$ = (~$color_alpha_increment$)			:i $pad_up_script$ = $cap_layer_set_alpha$			:i $pad_up_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_down_script$ = $cap_layer_set_alpha$			:i $pad_down_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $Bottom to Top$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$no_scale$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $x_scale$ = (~$default_cap_scale$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$x_scale$				:i $x_scale$ = (%GLOBAL%$pre_layer$->$x_scale$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$x_scale$				:i $x_scale$ = (%GLOBAL%$post_layer$->$x_scale$)			:i endif		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $x_scale_widget$			:i $text$ = ^[52052a00]^			:i $button_icon$ = $widget_uni_scale$			:i $start_value$ = %GLOBAL%$x_scale$			:i $min$ = (~$min_scale$)			:i $max$ = (~$max_scale$)			:i $step$ = (~$scale_increment$)			:i $pad_left_script$ = $cap_layer_set_x_scale$			:i $pad_left_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_right_script$ = $cap_layer_set_x_scale$			:i $pad_right_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $Center Left\Right$			:i $icon_rot$ = %i(90)			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $y_scale$ = (~$default_cap_scale$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$y_scale$				:i $y_scale$ = (%GLOBAL%$pre_layer$->$y_scale$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$y_scale$				:i $y_scale$ = (%GLOBAL%$post_layer$->$y_scale$)			:i endif		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $y_scale_widget$			:i $text$ = ^[ea1fd0c6]^			:i $button_icon$ = $widget_uni_scale$			:i $start_value$ = %GLOBAL%$y_scale$			:i $min$ = (~$min_scale$)			:i $max$ = (~$max_scale$)			:i $step$ = (~$scale_increment$)			:i $pad_up_script$ = $cap_layer_set_y_scale$			:i $pad_up_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_down_script$ = $cap_layer_set_y_scale$			:i $pad_down_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $Center Up\Down$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$no_translate$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $x_trans$ = (~$default_cap_trans$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$x_trans$				:i $x_trans$ = (%GLOBAL%$pre_layer$->$x_trans$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$x_trans$				:i $x_trans$ = (%GLOBAL%$post_layer$->$x_trans$)			:i endif		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $x_trans_widget$			:i $text$ = ^[c261e706]^			:i $button_icon$ = $widget_uni_move$			:i $start_value$ = %GLOBAL%$x_trans$			:i $min$ = (~$min_trans$)			:i $max$ = (~$max_trans$)			:i $step$ = (~$trans_increment$)			:i $pad_left_script$ = $cap_layer_set_x_trans$			:i $pad_left_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_right_script$ = $cap_layer_set_x_trans$			:i $pad_right_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $Center Left\Right$			:i $icon_rot$ = %i(90)			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $y_trans$ = (~$default_cap_trans$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$y_trans$				:i $y_trans$ = (%GLOBAL%$pre_layer$->$x_scale$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$y_trans$				:i $y_trans$ = (%GLOBAL%$post_layer$->$y_trans$)			:i endif		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $y_trans_widget$			:i $text$ = ^[bc37bc4e]^			:i $button_icon$ = $widget_uni_move$			:i $start_value$ = %GLOBAL%$y_trans$			:i $min$ = (~$min_trans$)			:i $max$ = (~$max_trans$)			:i $step$ = (~$trans_increment$)			:i $pad_up_script$ = $cap_layer_set_y_trans$			:i $pad_up_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_down_script$ = $cap_layer_set_y_trans$			:i $pad_down_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $Center Up\Down$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$no_skew$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $x_skew$ = (~$default_cap_skew$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$x_skew$				:i $x_skew$ = (%GLOBAL%$pre_layer$->$x_skew$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$x_skew$				:i $x_skew$ = (%GLOBAL%$post_layer$->$x_skew$)			:i endif		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $x_skew_widget$			:i $text$ = ^[c432bf92]^			:i $button_icon$ = $widget_shear$			:i $start_value$ = %GLOBAL%$x_skew$			:i $min$ = (~$min_skew$)			:i $max$ = (~$max_skew$)			:i $step$ = (~$skew_increment$)			:i $pad_left_script$ = $cap_layer_set_x_skew$			:i $pad_left_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_right_script$ = $cap_layer_set_x_skew$			:i $pad_right_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $Center Left\Right$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $y_skew$ = (~$default_cap_skew$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$y_skew$				:i $y_skew$ = (%GLOBAL%$pre_layer$->$y_skew$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$y_skew$				:i $y_skew$ = (%GLOBAL%$post_layer$->$y_skew$)			:i endif		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $y_skew_widget$			:i $text$ = ^[5ee97771]^			:i $button_icon$ = $widget_shear$			:i $start_value$ = %GLOBAL%$y_skew$			:i $min$ = (~$min_skew$)			:i $max$ = (~$max_skew$)			:i $step$ = (~$skew_increment$)			:i $pad_up_script$ = $cap_layer_set_y_skew$			:i $pad_up_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_down_script$ = $cap_layer_set_y_skew$			:i $pad_down_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $Center Up\Down$			:i $icon_rot$ = %i(90)			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$no_rotate$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $rot$ = (~$default_cap_rot$)		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$rot$				:i $rot$ = (%GLOBAL%$pre_layer$->$rot$)			:i endif		:i elseif $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$rot$				:i $rot$ = (%GLOBAL%$post_layer$->$rot$)			:i endif		:i endif		:i $rot_widget_add_item$:s{			:i $widget_id$ = $rot_widget$			:i $text$ = ^[63e34942]^			:i $button_icon$ = $widget_rotate$			:i $start_value$ = %GLOBAL%$rot$			:i $min$ = (~$min_rot$)			:i $max$ = (~$max_rot$)			:i $step$ = (~$rot_increment$)			:i $pad_up_script$ = $cap_layer_set_rot$			:i $pad_up_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $pad_down_script$ = $cap_layer_set_rot$			:i $pad_down_params$ = :s{$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$mask_index$$pre_layer$ = %GLOBAL%$pre_layer$$post_layer$ = %GLOBAL%$post_layer$:s}			:i $fill_type$ = $clockwise$			:i $wrap$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $init_script$ = $widget_init_cap$			:i $accept_script$ = $widget_accept_cap$			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}		:i $rotate_widget_set_value$$widget_id$ = $rot_widget$$new_value$ = %GLOBAL%$rot$	:i endif	:i $add_car_menu_icon_item$:s{		:i $icon$ = $widget_default$		:i $text$ = ^[675459e3]^		:i $pad_choose_sound$ = $UI_SFX$		:i $pad_select_sound_MenuState$ = $car$		:i $pad_select_sound_UIType$ = $select$		:i $pad_choose_script$ = $reset_to_default$		:i $pad_choose_params$ = :s{$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$:s}		:i $not_focusable$ = %GLOBAL%$not_focusable$		:i $scale_highlight_text$ = %i(0)	:i :s}	:i endfunction]Script edit_cas_layer 0x9874681f [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				cap_index				layer_index			]		}		StructQBKey all	}$		:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_color$		:i if (~$cas_override_object$ = $None$)			:i $pass_back_camera$ = %i(1)		:i endif		:i $add_car_menu_icon_item$:s{			:i $icon$ = $widget_color$			:i $text$ = ^[6149aa3d]^			:i $choose_state$ = $UIstate_cap_color_wheel$			:i $choose_state_data$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$color_wheel$ = %GLOBAL%$color_wheel$$camera_list$ = %GLOBAL%$camera_list$$zoom_camera$ = %GLOBAL%$zoom_camera$$pass_back_camera$ = %GLOBAL%$pass_back_camera$:s}		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_alpha$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$a$			:i $a$ = (%GLOBAL%$layer$->$a$)		:i else 			:i $a$ = (~$default_cap_alpha$)		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $alpha_widget$			:i $text$ = ^[3d6d9684]^			:i $button_icon$ = $widget_transparency$			:i $start_value$ = %GLOBAL%$a$			:i $min$ = (~$color_min_alpha$)			:i $max$ = (~$color_max_alpha$)			:i $step$ = (~$color_alpha_increment$)			:i $pad_up_script$ = $cap_layer_set_alpha$			:i $pad_up_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $pad_down_script$ = $cap_layer_set_alpha$			:i $pad_down_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $fill_type$ = $Bottom to Top$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $init_script$ = $widget_init_cap$			:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $accept_script$ = $widget_accept_cap$			:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_scale$		:i if $StructureContains$$structure$ = %GLOBAL%$mask$$uniform_scale$			:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$			:i if $StructureContains$$structure$ = %GLOBAL%$layer$$x_scale$				:i $x_scale$ = (%GLOBAL%$layer$->$x_scale$)			:i else 				:i $x_scale$ = (~$default_cap_scale$)			:i endif			:i if $StructureContains$$structure$ = %GLOBAL%$layer$$y_scale$				:i $y_scale$ = (%GLOBAL%$layer$->$y_scale$)			:i else 				:i $y_scale$ = (~$default_cap_scale$)			:i endif			:i %GLOBAL%$aspect_ratio$ = ((%f(1.0) * %GLOBAL%$x_scale$) / (%f(1.0) * %GLOBAL%$y_scale$))			:i $button_widget_add_item$:s{				:i $widget_id$ = $scale_widget$				:i $text$ = ^[7287553b]^				:i $button_icon$ = $widget_uni_scale$				:i $start_value$ = %GLOBAL%$y_scale$				:i $min$ = (~$min_scale$)				:i $max$ = (~$max_scale$)				:i $step$ = (~$scale_increment$)				:i $pad_left_script$ = $cap_layer_set_uniform_scale$				:i $pad_left_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$$aspect_ratio$ = %GLOBAL%$aspect_ratio$:s}				:i $pad_right_script$ = $cap_layer_set_uniform_scale$				:i $pad_right_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$$aspect_ratio$ = %GLOBAL%$aspect_ratio$:s}				:i $fill_type$ = $Center Out$				:i %GLOBAL%$no_cas_handlers$				:i $deinit_script$ = $widget_accept_cap$				:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $init_script$ = $widget_init_cap$				:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $accept_script$ = $widget_accept_cap$				:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $camera_list$ = %GLOBAL%$camera_list$				:i $zoom_camera$ = %GLOBAL%$zoom_camera$			:i :s}		:i else 			:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$			:i if $StructureContains$$structure$ = %GLOBAL%$layer$$x_scale$				:i $x_scale$ = (%GLOBAL%$layer$->$x_scale$)			:i else 				:i $x_scale$ = (~$default_cap_scale$)			:i endif			:i $button_widget_add_item$:s{				:i $widget_id$ = $x_scale_widget$				:i $text$ = ^[52052a00]^				:i $button_icon$ = $widget_uni_scale$				:i $start_value$ = %GLOBAL%$x_scale$				:i $min$ = (~$min_scale$)				:i $max$ = (~$max_scale$)				:i $step$ = (~$scale_increment$)				:i $pad_left_script$ = $cap_layer_set_x_scale$				:i $pad_left_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}				:i $pad_right_script$ = $cap_layer_set_x_scale$				:i $pad_right_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}				:i $fill_type$ = $Center Left\Right$				:i $icon_rot$ = %i(90)				:i %GLOBAL%$no_cas_handlers$				:i $deinit_script$ = $widget_accept_cap$				:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $init_script$ = $widget_init_cap$				:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $accept_script$ = $widget_accept_cap$				:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $camera_list$ = %GLOBAL%$camera_list$				:i $zoom_camera$ = %GLOBAL%$zoom_camera$			:i :s}			:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$			:i if $StructureContains$$structure$ = %GLOBAL%$layer$$y_scale$				:i $y_scale$ = (%GLOBAL%$layer$->$y_scale$)			:i else 				:i $y_scale$ = (~$default_cap_scale$)			:i endif			:i $button_widget_add_item$:s{				:i $widget_id$ = $y_scale_widget$				:i $text$ = ^[ea1fd0c6]^				:i $button_icon$ = $widget_uni_scale$				:i $start_value$ = %GLOBAL%$y_scale$				:i $min$ = (~$min_scale$)				:i $max$ = (~$max_scale$)				:i $step$ = (~$scale_increment$)				:i $pad_up_script$ = $cap_layer_set_y_scale$				:i $pad_up_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}				:i $pad_down_script$ = $cap_layer_set_y_scale$				:i $pad_down_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}				:i $fill_type$ = $Center Up\Down$				:i %GLOBAL%$no_cas_handlers$				:i $deinit_script$ = $widget_accept_cap$				:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $init_script$ = $widget_init_cap$				:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $accept_script$ = $widget_accept_cap$				:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}				:i $camera_list$ = %GLOBAL%$camera_list$				:i $zoom_camera$ = %GLOBAL%$zoom_camera$			:i :s}		:i endif	:i endif	:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_translate$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$x_trans$			:i $x_trans$ = (%GLOBAL%$layer$->$x_trans$)		:i else 			:i $x_trans$ = (~$default_cap_trans$)		:i endif		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$y_trans$			:i $y_trans$ = (%GLOBAL%$layer$->$y_trans$)		:i else 			:i $y_trans$ = (~$default_cap_trans$)		:i endif		:i $horiz_param$ = :s{			:i $widget_id$ = $x_trans_widget$			:i $pad_left_script$ = $cap_layer_set_x_trans$			:i $pad_right_script$ = $cap_layer_set_x_trans$			:i $start_value$ = %GLOBAL%$x_trans$		:i :s}		:i $vert_param$ = :s{			:i $widget_id$ = $y_trans_widget$			:i $pad_up_script$ = $cap_layer_set_y_trans$			:i $pad_down_script$ = $cap_layer_set_y_trans$			:i $start_value$ = %GLOBAL%$y_trans$		:i :s}		:i if $StructureContains$$structure$ = %GLOBAL%$section$$ui_rotated_90$			:i $horiz_param$ = :s{				:i $widget_id$ = $y_trans_widget$				:i $pad_left_script$ = $cap_layer_set_y_trans$				:i $pad_right_script$ = $cap_layer_set_y_trans$				:i $start_value$ = %GLOBAL%$y_trans$				:i $invert$			:i :s}			:i $vert_param$ = :s{				:i $widget_id$ = $x_trans_widget$				:i $pad_up_script$ = $cap_layer_set_x_trans$				:i $pad_down_script$ = $cap_layer_set_x_trans$				:i $start_value$ = %GLOBAL%$x_trans$			:i :s}		:i elseif $StructureContains$$structure$ = %GLOBAL%$section$$ui_rotated_180$			:i $horiz_param$ = :s{				:i %GLOBAL%$horiz_param$				:i $invert$			:i :s}			:i $vert_param$ = :s{				:i %GLOBAL%$vert_param$				:i $invert$			:i :s}		:i elseif $StructureContains$$structure$ = %GLOBAL%$section$$ui_rotated_270$			:i $horiz_param$ = :s{				:i $widget_id$ = $y_trans_widget$				:i $pad_left_script$ = $cap_layer_set_y_trans$				:i $pad_right_script$ = $cap_layer_set_y_trans$				:i $start_value$ = %GLOBAL%$y_trans$			:i :s}			:i $vert_param$ = :s{				:i $widget_id$ = $x_trans_widget$				:i $pad_up_script$ = $cap_layer_set_x_trans$				:i $pad_down_script$ = $cap_layer_set_x_trans$				:i $start_value$ = %GLOBAL%$x_trans$				:i $invert$			:i :s}		:i endif		:i $button_widget_add_item$:s{			:i $text$ = ^[c261e706]^			:i $button_icon$ = $widget_uni_move$			:i $min$ = (~$min_trans$)			:i $max$ = (~$max_trans$)			:i $step$ = (~$trans_increment$)			:i $pad_left_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $pad_right_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $fill_type$ = $Center Left\Right$			:i $icon_rot$ = %i(90)			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $init_script$ = $widget_init_cap$			:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $accept_script$ = $widget_accept_cap$			:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$			:i %GLOBAL%$horiz_param$		:i :s}		:i $button_widget_add_item$:s{			:i $text$ = ^[bc37bc4e]^			:i $button_icon$ = $widget_uni_move$			:i $min$ = (~$min_trans$)			:i $max$ = (~$max_trans$)			:i $step$ = (~$trans_increment$)			:i $pad_up_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $pad_down_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $fill_type$ = $Center Up\Down$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $init_script$ = $widget_init_cap$			:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $accept_script$ = $widget_accept_cap$			:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$			:i %GLOBAL%$vert_param$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_skew$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$x_skew$			:i $x_skew$ = (%GLOBAL%$layer$->$x_skew$)		:i else 			:i $x_skew$ = (~$default_cap_skew$)		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $x_skew_widget$			:i $text$ = ^[c432bf92]^			:i $button_icon$ = $widget_shear$			:i $start_value$ = %GLOBAL%$x_skew$			:i $min$ = (~$min_skew$)			:i $max$ = (~$max_skew$)			:i $step$ = (~$skew_increment$)			:i $pad_left_script$ = $cap_layer_set_x_skew$			:i $pad_left_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $pad_right_script$ = $cap_layer_set_x_skew$			:i $pad_right_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $fill_type$ = $Center Left\Right$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $init_script$ = $widget_init_cap$			:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $accept_script$ = $widget_accept_cap$			:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$y_skew$			:i $y_skew$ = (%GLOBAL%$layer$->$y_skew$)		:i else 			:i $y_skew$ = (~$default_cap_skew$)		:i endif		:i $button_widget_add_item$:s{			:i $widget_id$ = $y_skew_widget$			:i $text$ = ^[5ee97771]^			:i $button_icon$ = $widget_shear$			:i $start_value$ = %GLOBAL%$y_skew$			:i $min$ = (~$min_skew$)			:i $max$ = (~$max_skew$)			:i $step$ = (~$skew_increment$)			:i $pad_up_script$ = $cap_layer_set_y_skew$			:i $pad_up_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $pad_down_script$ = $cap_layer_set_y_skew$			:i $pad_down_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $fill_type$ = $Center Up\Down$			:i $icon_rot$ = %i(90)			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $init_script$ = $widget_init_cap$			:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $accept_script$ = $widget_accept_cap$			:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_rotate$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$rot$			:i $rot$ = (%GLOBAL%$layer$->$rot$)		:i else 			:i $rot$ = (~$default_cap_rot$)		:i endif		:i $rot_widget_add_item$:s{			:i $widget_id$ = $rot_widget$			:i $text$ = ^[63e34942]^			:i $button_icon$ = $widget_rotate$			:i $start_value$ = %GLOBAL%$rot$			:i $min$ = (~$min_rot$)			:i $max$ = (~$max_rot$)			:i $step$ = (~$rot_increment$)			:i $pad_up_script$ = $cap_layer_set_rot$			:i $pad_up_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $pad_down_script$ = $cap_layer_set_rot$			:i $pad_down_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$:s}			:i $fill_type$ = $Counter Clockwise$			:i $wrap$			:i %GLOBAL%$no_cas_handlers$			:i $deinit_script$ = $widget_accept_cap$			:i $deinit_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $init_script$ = $widget_init_cap$			:i $init_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $accept_script$ = $widget_accept_cap$			:i $accept_params$ = :s{$part$ = %GLOBAL%$part$:s}			:i $camera_list$ = %GLOBAL%$camera_list$			:i $zoom_camera$ = %GLOBAL%$zoom_camera$		:i :s}		:i $rotate_widget_set_value$$widget_id$ = $rot_widget$$new_value$ = %GLOBAL%$rot$	:i endif	:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_u_flip$		:i if $is_flip_layer_horizontal$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$			:i $horiz_on$ = $true$		:i endif		:i $add_generic_menu_button_icon_item$:s{			:i $id$ = $flip_horiz_widget$			:i $icon$ = $widget_flip$			:i $text$ = ^[c619fe8a]^			:i $pad_choose_sound$ = $UI_SFX$			:i $pad_select_sound_MenuState$ = $car$			:i $pad_select_sound_UIType$ = $select$			:i $pad_choose_script$ = $flip_layer_horizontal$			:i $pad_choose_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$:s}			:i $icon_rot$ = %i(90)			:i $on$ = %GLOBAL%$horiz_on$			:i $font$ = $fontgrid_text_a1$		:i :s}	:i endif	:i if NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_v_flip$		:i if $is_flip_layer_vertical$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$			:i $vert_on$ = $true$		:i endif		:i $add_generic_menu_button_icon_item$:s{			:i $id$ = $flip_vert_widget$			:i $icon$ = $widget_flip$			:i $text$ = ^[2916c9f2]^			:i $pad_choose_sound$ = $UI_SFX$			:i $pad_select_sound_MenuState$ = $car$			:i $pad_select_sound_UIType$ = $select$			:i $pad_choose_script$ = $flip_layer_vertical$			:i $pad_choose_params$ = :s{$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$:s}			:i $on$ = %GLOBAL%$vert_on$			:i $font$ = $fontgrid_text_a1$		:i :s}	:i endif	:i $add_car_menu_icon_item$:s{		:i $icon$ = $widget_default$		:i $text$ = ^[675459e3]^		:i $pad_choose_sound$ = $UI_SFX$		:i $pad_select_sound_MenuState$ = $car$		:i $pad_select_sound_UIType$ = $select$		:i $pad_choose_script$ = $reset_layer_to_default$		:i $pad_choose_params$ = :s{$mask$ = %GLOBAL%$mask$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$section$ = %GLOBAL%$section$$mask$ = %GLOBAL%$mask$:s}	:i :s}	:i endfunction]Script cap_layer_set_alpha 0x7ae5ceb7 [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $a$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $a$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $a$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_uniform_scale a0069f93 [	:i $x_scale$ = (%GLOBAL%$aspect_ratio$ * %GLOBAL%$value$)	:i $y_scale$ = %GLOBAL%$value$	:i $CastToInteger$${StructQBKey x_scale}$	:i $CastToInteger$${StructQBKey y_scale}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$			:i $x_scale$ = %GLOBAL%$x_scale$		:i $y_scale$ = %GLOBAL%$y_scale$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$			:i $x_scale$ = %GLOBAL%$x_scale$		:i $y_scale$ = %GLOBAL%$y_scale$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$			:i $x_scale$ = %GLOBAL%$x_scale$		:i $y_scale$ = %GLOBAL%$y_scale$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_x_scale ce4eb8bf [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $x_scale$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $x_scale$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $x_scale$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_y_scale 0x91797f03 [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $y_scale$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $y_scale$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $y_scale$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_x_trans 0x5123a6bd [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $x_trans$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $x_trans$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $x_trans$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_y_trans 0x0e146101 [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $y_trans$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $y_trans$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $y_trans$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_x_skew 0x34536d7f [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $x_skew$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $x_skew$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $x_skew$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_y_skew 0x061cd946 [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $y_skew$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $y_skew$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $y_skew$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script cap_layer_set_rot 0x93e99be0 [	:i $CastToInteger$${StructQBKey value}$	:i if $GotParam$${StructQBKey pre_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $rot$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $rot$ = %GLOBAL%$value$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey layer}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $layer$ = :s{%GLOBAL%$layer$		:i $rot$ = %GLOBAL%$value$:s}		:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script get_CAP 0x945915da [	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $mask$ = (%GLOBAL%$section$->$mask$)	:i $set_cap_flags$$mask$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})	:i if $GotParam$${StructQBKey cap}$		:i $GetArraySize$($cap$)		:i $capsize$ = %GLOBAL%$array_size$		:i $i$ = %i(0)		:i while 		:i if $is_matching_section$$cap$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$section$ = %GLOBAL%$section$			:i if $StructureContains$$structure$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$pre_layer$				:i if $StructureContains$$structure$ = %GLOBAL%$section$$pre_userlayer$					:i $cap_populate_layer$$cap_entry$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$)$mask_entry$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$flags$ = %GLOBAL%$flags$					:i if $GotParam$${StructQBKey layer}$						:i return $pre_layer$ = %GLOBAL%$layer$					:i endif				:i endif			:i endif			:i if $StructureContains$$structure$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$post_layer$				:i if $StructureContains$$structure$ = %GLOBAL%$section$$post_userlayer$					:i $cap_populate_layer$$cap_entry$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$)$mask_entry$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$flags$ = %GLOBAL%$flags$					:i if $GotParam$${StructQBKey layer}$						:i return $post_layer$ = %GLOBAL%$layer$					:i endif				:i endif			:i endif		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$capsize$	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$pre_userlayer$		:i $cap_new_artist_layer$$section$ = %GLOBAL%$section$$mask_entry$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$flags$ = %GLOBAL%$flags$		:i return $pre_layer$ = %GLOBAL%$layer$	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$post_userlayer$		:i $cap_new_artist_layer$$section$ = %GLOBAL%$section$$mask_entry$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$flags$ = %GLOBAL%$flags$		:i return $post_layer$ = %GLOBAL%$layer$	:i endif	:i endfunction]Script set_CAP 0x3c3c4780 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				section				part			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $mask$ = (%GLOBAL%$section$->$mask$)	:i if $GotParam$${StructQBKey cap}$		:i $found_section$ = %i(0)		:i $GetArraySize$($cap$)		:i $cap_array_size$ = %GLOBAL%$array_size$		:i $i$ = %i(0)		:i while 		:i $name$ = (%GLOBAL%$section$->$base_tex$)		:i if $is_matching_section$$cap$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$section$ = %GLOBAL%$section$			:i $found_section$ = %i(1)			:i $found_tex$ = %i(0)			:i $capstruct$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})			:i if (($GotParam$$pre_layer$) AND ($StructureContains$$structure$ = %GLOBAL%$capstruct$$pre_layer$))				:i $GetArraySize$((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$)				:i $mat_array_size$ = %GLOBAL%$array_size$				:i if (%GLOBAL%$mat_array_size$ > %i(0))					:i $j$ = %i(0)					:i while 					:i if $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$pattern$						:i $name$ = (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$pattern$)						:i if $in_tex_same_section$$section$ = %GLOBAL%$section$$prev_tex$ = %GLOBAL%$name$$new_tex$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$):a{%GLOBAL%$j$:a})->$texture$)							:i $found_tex$ = %i(1)							:i $pre_layers$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$)							:i $SetArrayElement$$arrayName$ = $pre_layers$$index$ = %GLOBAL%$j$$newValue$ = %GLOBAL%$pre_layer$							:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{								:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})								:i $pre_layer$ = %GLOBAL%$pre_layers$							:i :s}							:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$							:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$							:i return 						:i endif					:i elseif $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$font$						:i if $in_font_same_section$$section$ = %GLOBAL%$section$$prev_text$ = (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$text$)$new_text$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$):a{%GLOBAL%$j$:a})->$text$)							:i $found_tex$ = %i(1)							:i $pre_layers$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$)							:i $SetArrayElement$$arrayName$ = $pre_layers$$index$ = %GLOBAL%$j$$newValue$ = %GLOBAL%$pre_layer$							:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{								:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})								:i $pre_layer$ = %GLOBAL%$pre_layers$							:i :s}							:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$							:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$							:i return 						:i endif					:i endif					:i $j$ = (%GLOBAL%$j$ + %i(1))					:i loop_to %GLOBAL%$mat_array_size$				:i endif				:i $get_proper_location$$section$ = %GLOBAL%$section$$pre_layer$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$)$part$ = %GLOBAL%$part$				:i if $GotParam$${StructQBKey index}$					:i $InsertArrayElement$$array$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$)$element$ = %GLOBAL%$pre_layer$$index$ = %GLOBAL%$index$					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $pre_layer$ = %GLOBAL%$array$					:i :s}				:i else 					:i $AddArrayElement$$array$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$)$element$ = %GLOBAL%$pre_layer$					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $pre_layer$ = %GLOBAL%$array$					:i :s}				:i endif				:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$				:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$				:i return 			:i elseif (($GotParam$$post_layer$) AND ($StructureContains$$structure$ = %GLOBAL%$capstruct$$post_layer$))				:i $GetArraySize$((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$)				:i $mat_array_size$ = %GLOBAL%$array_size$				:i if (%GLOBAL%$mat_array_size$ > %i(0))					:i $j$ = %i(0)					:i while 					:i if $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$pattern$						:i $name$ = (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$pattern$)						:i if $in_tex_same_section$$section$ = %GLOBAL%$section$$prev_tex$ = %GLOBAL%$name$$new_tex$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$):a{%GLOBAL%$j$:a})->$texture$)							:i $found_tex$ = %i(1)							:i $post_layers$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$)							:i $SetArrayElement$$arrayName$ = $post_layers$$index$ = %GLOBAL%$j$$newValue$ = %GLOBAL%$post_layer$							:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{								:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})								:i $post_layer$ = %GLOBAL%$post_layers$							:i :s}							:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$							:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$							:i return 						:i endif					:i elseif $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$font$						:i if $in_font_same_section$$section$ = %GLOBAL%$section$$prev_text$ = (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$text$)$new_text$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$):a{%GLOBAL%$j$:a})->$text$)							:i $found_tex$ = %i(1)							:i $post_layer$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$)							:i $SetArrayElement$$arrayName$ = $post_layer$$index$ = %GLOBAL%$j$$newValue$ = %GLOBAL%$post_layer$							:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{								:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})								:i $post_layer$ = %GLOBAL%$post_layer$							:i :s}							:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$							:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$							:i return 						:i endif					:i endif					:i $j$ = (%GLOBAL%$j$ + %i(1))					:i loop_to %GLOBAL%$mat_array_size$				:i endif				:i $get_proper_location$$section$ = %GLOBAL%$section$$post_layer$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$)$part$ = %GLOBAL%$part$				:i if $GotParam$${StructQBKey index}$					:i $InsertArrayElement$$array$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$)$element$ = %GLOBAL%$post_layer$$index$ = %GLOBAL%$index$					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $post_layer$ = %GLOBAL%$array$					:i :s}				:i else 					:i $AddArrayElement$$array$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$)$element$ = %GLOBAL%$post_layer$					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $post_layer$ = %GLOBAL%$array$					:i :s}				:i endif				:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$				:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$				:i return 			:i else 				:i $printf$${StructQBStringQs 0x1aff5f9d}$				:i if $GotParam$${StructQBKey pre_layer}$					:i $printf$${StructQBStringQs 0x1305fce1}$					:i $pre_layers$ = :a{:s{%GLOBAL%$pre_layer$:s}:a}					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $pre_layer$ = %GLOBAL%$pre_layers$					:i :s}				:i endif				:i if $GotParam$${StructQBKey post_layer}$					:i $printf$${StructQBStringQs 0x4af2b10e}$					:i $post_layers$ = :a{:s{%GLOBAL%$post_layer$:s}:a}					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $post_layer$ = %GLOBAL%$post_layers$					:i :s}				:i endif				:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$				:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$				:i return 			:i endif		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$cap_array_size$		:i if (%GLOBAL%$found_section$ = %i(0))			:i $name$ = (%GLOBAL%$section$->$base_tex$)			:i if $GotParam$${StructQBKey pre_layer}$				:i $new_select$ = :a{:s{%GLOBAL%$pre_layer$:s}:a}				:i $entry$ = :s{					:i $base_tex$ = %GLOBAL%$name$					:i $pre_layer$ = %GLOBAL%$new_select$				:i :s}			:i endif			:i if $GotParam$${StructQBKey post_layer}$				:i $new_select$ = :a{:s{%GLOBAL%$post_layer$:s}:a}				:i $entry$ = :s{					:i $base_tex$ = %GLOBAL%$name$					:i $post_layer$ = %GLOBAL%$new_select$				:i :s}			:i endif			:i $AddArrayElement$$array$ = %GLOBAL%$cap$$element$ = %GLOBAL%$entry$			:i %GLOBAL%$cap$ = %GLOBAL%$array$			:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$			:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$			:i return 		:i endif	:i else 		:i $name$ = (%GLOBAL%$section$->$base_tex$)		:i if $GotParam$${StructQBKey pre_layer}$			:i $new_select$ = :a{:s{%GLOBAL%$pre_layer$:s}:a}			:i $entry$ = :s{				:i $base_tex$ = %GLOBAL%$name$				:i $pre_layer$ = %GLOBAL%$new_select$			:i :s}			:i $cap$ = :a{:s{%GLOBAL%$entry$:s}:a}		:i endif		:i if $GotParam$${StructQBKey post_layer}$			:i $new_select$ = :a{:s{%GLOBAL%$post_layer$:s}:a}			:i $entry$ = :s{				:i $base_tex$ = %GLOBAL%$name$				:i $post_layer$ = %GLOBAL%$new_select$			:i :s}			:i $cap$ = :a{:s{%GLOBAL%$entry$:s}:a}		:i endif		:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$		:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$		:i return 	:i endif	:i endfunction]Script in_tex_same_section 0x3b490785 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				prev_tex				new_tex				section			]		}		StructQBKey all	}$		:i $mask$ = (%GLOBAL%$section$->$mask$)	:i $match_prev_tex$ = %i(0)	:i $match_new_tex$ = %i(0)	:i $GetArraySize$(%GLOBAL%$mask$)	:i $j$ = %i(0)	:i while 	:i $name$ = (((%GLOBAL%$mask$):a{%GLOBAL%$j$:a})->$pattern$)	:i if (%GLOBAL%$name$ = %GLOBAL%$prev_tex$)		:i $match_prev_tex$ = %i(1)	:i endif	:i if (%GLOBAL%$name$ = %GLOBAL%$new_tex$)		:i $match_new_tex$ = %i(1)	:i endif	:i $j$ = (%GLOBAL%$j$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i if (%GLOBAL%$match_prev_tex$ = %i(1))		:i if (%GLOBAL%$match_new_tex$ = %i(1))			:i return ${StructQBKey true}$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script in_font_same_section 0x240eb3a0 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				prev_text				new_text				section			]		}		StructQBKey all	}$		:i $mask$ = (%GLOBAL%$section$->$mask$)	:i $match_prev_text$ = %i(0)	:i $match_new_text$ = %i(0)	:i $GetArraySize$(%GLOBAL%$mask$)	:i $j$ = %i(0)	:i while 	:i $name$ = (((%GLOBAL%$mask$):a{%GLOBAL%$j$:a})->$text$)	:i if (%GLOBAL%$name$ = %GLOBAL%$prev_text$)		:i $match_prev_text$ = %i(1)	:i endif	:i if (%GLOBAL%$name$ = %GLOBAL%$new_text$)		:i $match_new_text$ = %i(1)	:i endif	:i $j$ = (%GLOBAL%$j$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i if (%GLOBAL%$match_prev_text$ = %i(1))		:i if (%GLOBAL%$match_new_text$ = %i(1))			:i return ${StructQBKey true}$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script reset_to_default 0x5af53f26 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				section				mask_index			]		}		StructQBKey all	}$		:i $mask$ = (%GLOBAL%$section$->$mask$)	:i $set_cap_flags$$mask$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})	:i if $StructureContains$$structure$ = %GLOBAL%$section$$pre_userlayer$		:i $reset_to_default_helper$$mask_entry$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$flags$ = %GLOBAL%$flags$$section$ = %GLOBAL%$section$		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$post_userlayer$		:i $reset_to_default_helper$$mask_entry$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$flags$ = %GLOBAL%$flags$$section$ = %GLOBAL%$section$		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i $reset_widgets$	:i endfunction]Script reset_to_default_helper 0x3aeb41b7 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				mask_entry				flags				section			]		}		StructQBKey all	}$		:i if $StructureContains$$structure$ = %GLOBAL%$mask_entry$$pattern$		:i $name$ = (%GLOBAL%$mask_entry$->$pattern$)		:i $layer$ = :s{$texture$ = %GLOBAL%$name$:s}	:i elseif $StructureContains$$structure$ = %GLOBAL%$mask_entry$$font$		:i $layer$ = :s{$font$ = (%GLOBAL%$mask_entry$->$font$)		:i $text$ = (%GLOBAL%$mask_entry$->$text$):s}	:i endif	:i if NOT (%GLOBAL%$flags$ = %i(0))		:i $layer$ = :s{%GLOBAL%$layer$		:i $flags$ = %GLOBAL%$flags$:s}	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$initial_values$		:i $layer$ = :s{%GLOBAL%$layer$(%GLOBAL%$section$->$initial_values$):s}	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$mask_entry$$initial_values$		:i $layer$ = :s{%GLOBAL%$layer$(%GLOBAL%$mask_entry$->$initial_values$):s}	:i endif	:i return $layer$ = %GLOBAL%$layer$	:i endfunction]Script set_default_rotation_on_layer 0x83397ce5 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				layer				section				mask			]		}		StructQBKey all	}$		:i if $StructureContains$$structure$ = %GLOBAL%$section$$ui_rotated_90$		:i if $StructureContains$$structure$ = %GLOBAL%$mask$$pattern$			:i return $layer$ = :s{%GLOBAL%$layer$$rot$ = %i(1573):s}		:i else 			:i return $layer$ = :s{%GLOBAL%$layer$$rot$ = %i(4723):s}		:i endif	:i elseif $StructureContains$$structure$ = %GLOBAL%$section$$ui_rotated_180$		:i if $StructureContains$$structure$ = %GLOBAL%$mask$$pattern$			:i return $layer$ = :s{%GLOBAL%$layer$$rot$ = %i(3146):s}		:i else 			:i return $layer$ = :s{%GLOBAL%$layer$$rot$ = %i(3146):s}		:i endif	:i elseif $StructureContains$$structure$ = %GLOBAL%$section$$ui_rotated_270$		:i if $StructureContains$$structure$ = %GLOBAL%$mask$$pattern$			:i return $layer$ = :s{%GLOBAL%$layer$$rot$ = %i(4723):s}		:i else 			:i return $layer$ = :s{%GLOBAL%$layer$$rot$ = %i(1573):s}		:i endif	:i endif	:i return $layer$ = %GLOBAL%$layer$	:i endfunction]Script add_layer_to_profile 0x1be3b676 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				section				mask				part			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $set_cap_flags$$mask$ = (%GLOBAL%$mask$)	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$pattern$		:i $name$ = (%GLOBAL%$mask$->$pattern$)		:i $layer$ = :s{$texture$ = %GLOBAL%$name$:s}	:i elseif $StructureContains$$structure$ = %GLOBAL%$mask$$font$		:i $layer$ = :s{$font$ = (%GLOBAL%$mask$->$font$)		:i $text$ = (%GLOBAL%$mask$->$text$):s}	:i endif	:i if NOT (%GLOBAL%$flags$ = %i(0))		:i $layer$ = :s{%GLOBAL%$layer$		:i $flags$ = %GLOBAL%$flags$:s}	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$initial_values$		:i $initial_values$ = (%GLOBAL%$section$->$initial_values$)		:i $layer$ = :s{%GLOBAL%$layer$		:i %GLOBAL%$initial_values$:s}		:i if (($StructureContains$$structure$ = $initial_values$$x_trans$) OR ($StructureContains$$structure$ = $initial_values$$y_trans$))			:i $no_average$ = %i(1)		:i endif	:i endif	:i $set_default_rotation_on_layer$$section$ = %GLOBAL%$section$$mask$ = %GLOBAL%$mask$$layer$ = %GLOBAL%$layer$	:i if $StructureContains$$structure$ = (%GLOBAL%$mask$)$initial_values$		:i $initial_values$ = ((%GLOBAL%$mask$)->$initial_values$)		:i $layer$ = :s{%GLOBAL%$layer$		:i ((%GLOBAL%$mask$)->$initial_values$):s}		:i if (($StructureContains$$structure$ = $initial_values$$x_trans$) OR ($StructureContains$$structure$ = $initial_values$$y_trans$))			:i $no_average$ = %i(1)		:i endif	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$center$		:i $x_trans$ = (%i(50) - (%GLOBAL%$section$->$center$:a{%i(0):a}))		:i $y_trans$ = (%i(50) - (%GLOBAL%$section$->$center$:a{%i(1):a}))		:i $CastToInteger$${StructQBKey x_trans}$		:i $CastToInteger$${StructQBKey y_trans}$		:i if NOT (%GLOBAL%$x_trans$ = %i(0))			:i $layer$ = :s{%GLOBAL%$layer$			:i $x_trans$ = %GLOBAL%$x_trans$:s}		:i endif		:i if NOT (%GLOBAL%$y_trans$ = %i(0))			:i $layer$ = :s{%GLOBAL%$layer$			:i $y_trans$ = %GLOBAL%$y_trans$:s}		:i endif	:i endif	:i if $GotParam$${StructQBKey cap}$		:i $GetArraySize$($cap$)		:i $cap_array_size$ = %GLOBAL%$array_size$		:i if (%GLOBAL%$cap_array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i $name$ = (%GLOBAL%$section$->$base_tex$)			:i if $is_matching_section$$cap$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$section$ = %GLOBAL%$section$				:i if $StructureContains$$structure$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$layers$					:i $GetArraySize$(((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$layers$))					:i $AddArrayElement$$array$ = ((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$layers$)$element$ = %GLOBAL%$layer$					:i $new_layers$ = %GLOBAL%$array$					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $layers$ = %GLOBAL%$new_layers$					:i :s}					:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$					:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$$flush_assets$ = %i(0)					:i return $cap_index$ = %GLOBAL%$i$$layer_index$ = %GLOBAL%$array_size$				:i else 					:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = :s{						:i (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})						:i $layers$ = :a{:s{%GLOBAL%$layer$:s}:a}					:i :s}					:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$					:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$$flush_assets$ = %i(0)					:i return $cap_index$ = %GLOBAL%$i$$layer_index$ = %i(0)				:i endif			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$cap_array_size$		:i endif		:i $name$ = (%GLOBAL%$section$->$base_tex$)		:i $entry$ = :s{			:i $base_tex$ = %GLOBAL%$name$			:i $layers$ = :a{:s{%GLOBAL%$layer$:s}:a}		:i :s}		:i $AddArrayElement$$array$ = %GLOBAL%$cap$$element$ = %GLOBAL%$entry$		:i %GLOBAL%$cap$ = %GLOBAL%$array$		:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$		:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$$flush_assets$ = %i(0)		:i return $cap_index$ = (%GLOBAL%$cap_array_size$)$layer_index$ = %i(0)	:i endif	:i $name$ = (%GLOBAL%$section$->$base_tex$)	:i $new_layers$ = :a{:s{%GLOBAL%$layer$:s}:a}	:i $entry$ = :s{		:i $base_tex$ = %GLOBAL%$name$		:i $layers$ = %GLOBAL%$new_layers$	:i :s}	:i $cap$ = :a{:s{%GLOBAL%$entry$:s}:a}	:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$	:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$$flush_assets$ = %i(0)	:i return ${		StructInt cap_index = 0		StructInt layer_index = 0	}$		:i endfunction]Script match_layers_texture 0x9507aa87 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				prof_texture				sections			]		}		StructQBKey all	}$		:i $GetArraySize$($sections$)	:i $sections_size$ = %GLOBAL%$array_size$	:i $i$ = %i(0)	:i while 	:i if $StructureContains$$structure$ = (%GLOBAL%$sections$:a{%GLOBAL%$i$:a})$mask$		:i $mask$ = (%GLOBAL%$sections$:a{%GLOBAL%$i$:a}->$mask$)		:i $GetArraySize$($mask$)		:i $mask_size$ = %GLOBAL%$array_size$		:i $j$ = %i(0)		:i while 		:i if $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$j$:a})$pattern$			:i $name$ = ((%GLOBAL%$mask$):a{%GLOBAL%$j$:a}->$pattern$)			:i if (%GLOBAL%$name$ = %GLOBAL%$prof_texture$)				:i return $mask$ = ((%GLOBAL%$mask$):a{%GLOBAL%$j$:a})$section_index$ = %GLOBAL%$i$$mask_index$ = %GLOBAL%$j$			:i endif		:i endif		:i $j$ = (%GLOBAL%$j$ + %i(1))		:i loop_to %GLOBAL%$mask_size$	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$sections_size$	:i endfunction]Script match_layers_font 0x3ec7ac5d [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				prof_font				prof_text				sections			]		}		StructQBKey all	}$		:i $GetArraySize$($sections$)	:i $sections_size$ = %GLOBAL%$array_size$	:i $i$ = %i(0)	:i while 	:i if $StructureContains$$structure$ = (%GLOBAL%$sections$:a{%GLOBAL%$i$:a})$mask$		:i $mask$ = (%GLOBAL%$sections$:a{%GLOBAL%$i$:a}->$mask$)		:i $GetArraySize$($mask$)		:i $mask_size$ = %GLOBAL%$array_size$		:i $j$ = %i(0)		:i while 		:i if $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$j$:a})$font$			:i if $ChecksumEquals$$a$ = ((%GLOBAL%$mask$):a{%GLOBAL%$j$:a}->$font$)$b$ = %GLOBAL%$prof_font$				:i if (%GLOBAL%$prof_text$ = ((%GLOBAL%$mask$):a{%GLOBAL%$j$:a}->$text$))					:i return $mask$ = ((%GLOBAL%$mask$):a{%GLOBAL%$j$:a})$section_index$ = %GLOBAL%$i$$mask_index$ = %GLOBAL%$j$				:i endif			:i endif		:i endif		:i $j$ = (%GLOBAL%$j$ + %i(1))		:i loop_to %GLOBAL%$mask_size$	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$sections_size$	:i endfunction]Script GetLayer 0x7ec93883 [	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i if NOT $cd$		:i $GetArraySize$%GLOBAL%$cap$		:i if (%GLOBAL%$cap_index$ > (%GLOBAL%$array_size$%i(4294967295)))			:i $scriptassert$${StructQBStringQs 0x69c75a7f}$		:i endif		:i $GetArraySize$((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$)		:i if (%GLOBAL%$layer_index$ > (%GLOBAL%$array_size$%i(4294967295)))			:i $scriptassert$${StructQBStringQs d06c9a70}$		:i endif	:i endif	:i if $GotParam$${StructQBKey cap}$		:i if $StructureContains$$structure$ = (((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})$texture$			:i $layer$ = :s{$texture$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$texture$):s}		:i elseif $StructureContains$$structure$ = (((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})$font$			:i $layer$ = :s{$font$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$font$)				:i $text$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$text$):s}		:i endif		:i $layer$ = :s{			:i %GLOBAL%$layer$			:i $color$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$color$)			:i $a$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$a$)			:i $x_trans$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$x_trans$)			:i $y_trans$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$y_trans$)			:i $x_skew$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$x_skew$)			:i $y_skew$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$y_skew$)			:i $x_scale$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$x_scale$)			:i $y_scale$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$y_scale$)			:i $rot$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$rot$)			:i $flags$ = ((((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})->$flags$)		:i :s}		:i return $layer$ = %GLOBAL%$layer$	:i endif	:i return ${		StructStruct layer		{			StructHeader {}		}	}$		:i endfunction]Script SetLayer c5db8f6d [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				layer_index				cap_index				part				layer			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i if $GotParam$${StructQBKey cap}$		:i $old_layers$ = ((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$)		:i $SetArrayElement$$arrayName$ = $old_layers$$index$ = %GLOBAL%$layer_index$$newValue$ = %GLOBAL%$layer$		:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$cap_index$$newValue$ = :s{			:i (%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})			:i $layers$ = %GLOBAL%$old_layers$		:i :s}		:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$		:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$$flush_assets$ = %i(0)	:i endif	:i endfunction]Script reset_layer_to_default 0x5e190515 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				mask				layer_index				cap_index				part				section			]		}		StructQBKey all	}$		:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$	:i $set_cap_flags$$mask$ = (%GLOBAL%$mask$)	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$pattern$		:i $name$ = (%GLOBAL%$mask$->$pattern$)		:i $layer$ = :s{$texture$ = %GLOBAL%$name$:s}	:i elseif $StructureContains$$structure$ = %GLOBAL%$mask$$font$		:i $layer$ = :s{$font$ = (%GLOBAL%$mask$->$font$)$text$ = (%GLOBAL%$mask$->$text$):s}	:i endif	:i if NOT (%GLOBAL%$flags$ = %i(0))		:i $layer$ = :s{%GLOBAL%$layer$		:i $flags$ = %GLOBAL%$flags$:s}	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$initial_values$		:i $layer$ = :s{%GLOBAL%$layer$(%GLOBAL%$section$->$initial_values$):s}	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$initial_values$		:i $layer$ = :s{%GLOBAL%$layer$(%GLOBAL%$mask$->$initial_values$):s}	:i endif	:i $set_default_rotation_on_layer$$section$ = %GLOBAL%$section$$mask$ = %GLOBAL%$mask$$layer$ = %GLOBAL%$layer$	:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i $reset_widgets$$layer$ = %GLOBAL%$layer$	:i $reset_flip_buttons$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$	:i endfunction]Script delete_layer ae9c2058 [	${Unknown [0001240037b80c00696969690000001800012400f4e615cf696969690000002800012600b6f08f396969696900000000]}$	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i if $GotParam$${StructQBKey cap}$		:i $RemoveArrayElement$$array$ = ((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$)$index$ = %GLOBAL%$layer_index$		:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$cap_index$$newValue$ = :s{			:i (%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})			:i $layers$ = %GLOBAL%$array$		:i :s}		:i $GetArraySize$($array$)		:i if (%GLOBAL%$array_size$ = %i(0))			:i $remove_layers_struct_from_cap$:s{				:i $part$ = %GLOBAL%$part$				:i $cap$ = %GLOBAL%$cap$				:i $cap_index$ = %GLOBAL%$cap_index$			:i :s}		:i else 			:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$		:i endif		:i if NOT $GotParam$${StructQBKey skip_build}$			:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$		:i endif	:i endif	:i endfunction]Script remove_layers_struct_from_cap 0x95fd32b5 [	${Unknown [00012600b6f08f39696969690000001800012c0066cc784e69696969000000280001240037b80c006969696900000000]}$	:i $cap_struct$ = (%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})	:i if (($StructureContains$$structure$ = %GLOBAL%$cap_struct$$pre_layer$) OR ($StructureContains$$structure$ = %GLOBAL%$cap_struct$$post_layer$))		:i $capstruct$ = (%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})		:i $RemoveComponent$${			StructQBKey name = layers			StructQBKey structure_name = capstruct		}$				:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$cap_index$$newValue$ = %GLOBAL%$capstruct$		:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$	:i else 		:i $RemoveArrayElement$$array$ = (%GLOBAL%$cap$)$index$ = %GLOBAL%$cap_index$		:i $GetArraySize$($array$)		:i if (%GLOBAL%$array_size$ = %i(0))			:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$		:i else 			:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$array$		:i endif	:i endif	:i endfunction]Script has_user_layers 0x762ce6f0 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				sections			]		}		StructQBKey all	}$		:i $GetArraySize$($sections$)	:i $i$ = %i(0)	:i while 	:i if NOT $StructureContains$$structure$ = (%GLOBAL%$sections$:a{%GLOBAL%$i$:a})$pre_userlayer$		:i return ${StructQBKey true}$	:i endif	:i if NOT $StructureContains$$structure$ = (%GLOBAL%$sections$:a{%GLOBAL%$i$:a})$post_userlayer$		:i return ${StructQBKey true}$	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i return ${StructQBKey false}$	:i endfunction]Script get_proper_location 0x2291809e [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				section				part			]		}		StructQBKey all	}$		:i if $GotParam$${StructQBKey pre_layer}$		:i $GetArraySize$($pre_layer$)		:i if (%GLOBAL%$array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i if NOT $is_pre_layer_before_section$$section$ = %GLOBAL%$section$$pre_layer$ = (%GLOBAL%$pre_layer$:a{%GLOBAL%$i$:a})$part$ = %GLOBAL%$part$				:i return $index$ = %GLOBAL%$i$			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $GetArraySize$($post_layer$)		:i if (%GLOBAL%$array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i if NOT $is_pre_layer_before_section$$section$ = %GLOBAL%$section$$post_layer$ = (%GLOBAL%$post_layer$:a{%GLOBAL%$i$:a})$part$ = %GLOBAL%$part$				:i return $index$ = %GLOBAL%$i$			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i endfunction]Script is_pre_layer_before_section 0x3bf06eaf [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part			]		}		StructQBKey all	}$		:i if $GotParam$${StructQBKey pre_layer}$		:i $get_section_index_of_pre_layer$$pre_layer$ = %GLOBAL%$pre_layer$$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $get_section_index_of_pre_layer$$post_layer$ = %GLOBAL%$post_layer$$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$	:i endif	:i if (($GotParam$$pre_layer_section_index$) AND ($GotParam$$section_index$))		:i if (%GLOBAL%$pre_layer_section_index$ < %GLOBAL%$section_index$)			:i return ${StructQBKey true}$		:i else 			:i return ${StructQBKey false}$		:i endif	:i endif	:i endfunction]Script get_section_index_of_pre_layer ed405471 [	:i if $GetCAPSectionsArray$$appearance$ = ~$cas_current_appearance$$part$ = %GLOBAL%$part$		:i if $GotParam$${StructQBKey pre_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$texture$				:i $match_layers_texture$$prof_texture$ = (%GLOBAL%$pre_layer$->$texture$)$sections$ = %GLOBAL%$sections$			:i elseif $StructureContains$$structure$ = %GLOBAL%$pre_layer$$font$				:i $match_layers_font$$prof_font$ = (%GLOBAL%$pre_layer$->$font$)$prof_text$ = (%GLOBAL%$pre_layer$->$text$)$sections$ = %GLOBAL%$sections$			:i endif			:i $GetArraySize$($sections$)			:i $i$ = %i(0)			:i while 			:i if ((%GLOBAL%$sections$:a{%GLOBAL%$i$:a}->$mask$) = (%GLOBAL%$section$->$mask$))				:i return $pre_layer_section_index$ = %GLOBAL%$section_index$$section_index$ = %GLOBAL%$i$			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif		:i if $GotParam$${StructQBKey post_layer}$			:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$texture$				:i $match_layers_texture$$prof_texture$ = (%GLOBAL%$post_layer$->$texture$)$sections$ = %GLOBAL%$sections$			:i elseif $StructureContains$$structure$ = %GLOBAL%$post_layer$$font$				:i $match_layers_font$$prof_font$ = (%GLOBAL%$post_layer$->$font$)$prof_text$ = (%GLOBAL%$post_layer$->$text$)$sections$ = %GLOBAL%$sections$			:i endif			:i $GetArraySize$($sections$)			:i $i$ = %i(0)			:i while 			:i if ((%GLOBAL%$sections$:a{%GLOBAL%$i$:a}->$mask$) = (%GLOBAL%$section$->$mask$))				:i return $pre_layer_section_index$ = %GLOBAL%$section_index$$section_index$ = %GLOBAL%$i$			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i else 		:i $scriptassert$${StructQBStringQs 0x8ed8529e}$	:i endif	:i endfunction]Script set_cap_flags 0x892a7a68 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				mask			]		}		StructQBKey all	}$		:i $flags$ = %i(0)	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$clamp_u$		:i $flags$ = (%GLOBAL%$flags$ OR %i(1))	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$clamp_v$		:i $flags$ = (%GLOBAL%$flags$ OR %i(2))	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$clamp_uv$		:i $flags$ = %i(3)	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$static_alpha$		:i $flags$ = (%GLOBAL%$flags$ OR %i(4))	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$mask$$wrap_texture$		:i $flags$ = (%GLOBAL%$flags$ OR %i(32))	:i endif	:i return $flags$ = %GLOBAL%$flags$	:i endfunction]Script flip_layer_horizontal 0x1f2b161f [	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $layer$ = (((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})	:i if $GotParam$${StructQBKey cap}$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$flags$			:i if ((%GLOBAL%$layer$->$flags$) AND %i(8))				:i $newflags$ = ((%GLOBAL%$layer$->$flags$) AND %i(4294967287))				:i $layer$ = :s{%GLOBAL%$layer$				:i $flags$ = %GLOBAL%$newflags$:s}			:i else 				:i $newflags$ = ((%GLOBAL%$layer$->$flags$) OR %i(8))				:i $layer$ = :s{%GLOBAL%$layer$				:i $flags$ = %GLOBAL%$newflags$:s}			:i endif		:i else 			:i $layer$ = :s{%GLOBAL%$layer$			:i $flags$ = %i(8):s}		:i endif	:i endif	:i $old_layers$ = ((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$)	:i $SetArrayElement$$arrayName$ = $old_layers$$index$ = %GLOBAL%$layer_index$$newValue$ = %GLOBAL%$layer$	:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$cap_index$$newValue$ = :s{		:i (%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})		:i $layers$ = %GLOBAL%$old_layers$	:i :s}	:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$	:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$	:i endfunction]Script is_flip_layer_horizontal 0x14990c7a [	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $layer$ = (((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})	:i if $GotParam$${StructQBKey cap}$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$flags$			:i if ((%GLOBAL%$layer$->$flags$) AND %i(8))				:i return ${StructQBKey true}$			:i endif		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script flip_layer_vertical 0x0772a72b [	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $layer$ = (((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})	:i if $GotParam$${StructQBKey cap}$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$flags$			:i if ((%GLOBAL%$layer$->$flags$) AND %i(16))				:i $newflags$ = ((%GLOBAL%$layer$->$flags$) AND %i(4294967279))				:i $layer$ = :s{%GLOBAL%$layer$				:i $flags$ = %GLOBAL%$newflags$:s}			:i else 				:i $newflags$ = ((%GLOBAL%$layer$->$flags$) OR %i(16))				:i $layer$ = :s{%GLOBAL%$layer$				:i $flags$ = %GLOBAL%$newflags$:s}			:i endif		:i else 			:i $layer$ = :s{%GLOBAL%$layer$			:i $flags$ = %i(8):s}		:i endif	:i endif	:i $old_layers$ = ((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$)	:i $SetArrayElement$$arrayName$ = $old_layers$$index$ = %GLOBAL%$layer_index$$newValue$ = %GLOBAL%$layer$	:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$cap_index$$newValue$ = :s{		:i (%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})		:i $layers$ = %GLOBAL%$old_layers$	:i :s}	:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$	:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$	:i endfunction]Script is_flip_layer_vertical 0x698471ed [	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $layer$ = (((%GLOBAL%$cap$:a{%GLOBAL%$cap_index$:a})->$layers$):a{%GLOBAL%$layer_index$:a})	:i if $GotParam$${StructQBKey cap}$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$flags$			:i if ((%GLOBAL%$layer$->$flags$) AND %i(16))				:i return ${StructQBKey true}$			:i endif		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script UpdateCASModelCAP c9a0fb39 [	:i if NOT $GotParam$${StructQBKey part}$		:i $scriptassert$${StructString 0x00000000 = "This requires a part parameter, updating CAP on everything at once isn't a great idea!"}$	:i endif	:i $UpdateCurrentCASModel$$buildscript$ = $modelbuilder_update_single_cap_texture$$flush_assets$ = %GLOBAL%$flush_assets$$buildscriptparams$ = :s{$part$ = %GLOBAL%$part$:s}	:i endfunction]Script is_matching_section c577d3f5 [	:i if ((%GLOBAL%$cap$->$base_tex$) = (%GLOBAL%$section$->$base_tex$))		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script is_target_in_div c38abe5e [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				target				part			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i if NOT $GetActualCASOptionStruct$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$		:i $scriptassert$%s("%s %t not found")$s$ = %GLOBAL%$part$$t$ = %GLOBAL%$desc_id$	:i endif	:i if NOT $GotParam$${StructQBKey divisions}$		:i return ${StructQBKey true}$	:i elseif NOT $GotParam$${StructQBKey div_id}$		:i return ${StructQBKey true}$	:i else 		:i $GetArraySize$${StructQBKey divisions}$		:i if (%GLOBAL%$array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i if ((%GLOBAL%$divisions$:a{%GLOBAL%$i$:a}->$desc_id$) = %GLOBAL%$div_id$)				:i if ((%GLOBAL%$target$->$base_tex$) = (%GLOBAL%$divisions$:a{%GLOBAL%$i$:a}->$base_tex$))					:i return ${StructQBKey true}$				:i endif			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script get_div_info b0df0695 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part			]		}		StructQBKey all	}$		:i if NOT $GotParam$${StructQBKey div_id}$		:i return ${StructQBKey false}$	:i endif	:i if NOT $GotParam$${StructQBKey desc_id}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$			:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$		:i endif	:i endif	:i if NOT $GetActualCASOptionStruct$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$		:i $scriptassert$%s("%s %t not found")$s$ = %GLOBAL%$part$$t$ = %GLOBAL%$desc_id$	:i endif	:i if $GotParam$${StructQBKey divisions}$		:i $GetArraySize$${StructQBKey divisions}$		:i if (%GLOBAL%$array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i if ((%GLOBAL%$divisions$:a{%GLOBAL%$i$:a}->$desc_id$) = %GLOBAL%$div_id$)				:i return $true$$base_tex$ = (%GLOBAL%$divisions$:a{%GLOBAL%$i$:a}->$base_tex$)			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script add_default_cap_array_to_newstruct 0x73c06651 [	${Unknown [00012600b6f08f39696969690000001800012b0037c387906969696900000000]}$	:i if NOT $GetActualCASOptionStruct$$part$ = %GLOBAL%$part$$desc_id$ = (%GLOBAL%$newstruct$->$desc_id$)		:i $scriptassert$%s("%s %t not found")$s$ = %GLOBAL%$part$$t$ = (%GLOBAL%$newstruct$->$desc_id$)	:i endif	:i if $GotParam$${StructQBKey default_cap}$		:i return $newstruct$ = :s{			:i %GLOBAL%$newstruct$			:i $cap$ = %GLOBAL%$default_cap$		:i :s}	:i endif	:i endfunction]Script cap_artist_colorwheel_focus_change e5bb8607 [	:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$	:i if $GotParam$${StructQBKey pre_layer}$		:i $pre_layer$ = :s{%GLOBAL%$pre_layer$		:i $color$ = %GLOBAL%$color$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i if $GotParam$${StructQBKey post_layer}$		:i $post_layer$ = :s{%GLOBAL%$post_layer$		:i $color$ = %GLOBAL%$color$:s}		:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$	:i endif	:i endfunction]Script unfocus_color_wheel f1f9300a [	:i $color_slice_back$	:i $color_wheel_back$${StructQBKey skip_exit_script}$	:i $widget_accept_cap$$part$ = %GLOBAL%$part$	:i endfunction]Script cap_get_current_rgb 0x9ce475df [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				section				mask_index			]		}		StructQBKey all	}$		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$	:i if $GotParam$${StructQBKey pre_layer}$		:i if $StructureContains$$structure$ = %GLOBAL%$pre_layer$$color$			:i $rgba$ = (((~$color_lookup_table$)->(%GLOBAL%$pre_layer$->$color$))->$diffuse$)		:i else 			:i $AddArrayElement$$array$ = :a{:a}$element$ = (~$default_cap_red$)			:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = (~$default_cap_green$)			:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = (~$default_cap_blue$)			:i $rgba$ = %GLOBAL%$array$		:i endif	:i else 		:i if $StructureContains$$structure$ = %GLOBAL%$post_layer$$color$			:i $rgba$ = (((~$color_lookup_table$)->(%GLOBAL%$post_layer$->$color$))->$diffuse$)		:i else 			:i $AddArrayElement$$array$ = :a{:a}$element$ = (~$default_cap_red$)			:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = (~$default_cap_green$)			:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = (~$default_cap_blue$)			:i $rgba$ = %GLOBAL%$array$		:i endif	:i endif	:i return $rgb$ = %GLOBAL%$rgba$	:i endfunction]Script average_layer_translation cc2115d0 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				layers			]		}		StructQBKey all	}$		:i $GetArraySize$%GLOBAL%$layers$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $sum_x$ = %i(0)		:i $sum_y$ = %i(0)		:i $i$ = %i(0)		:i while 		:i if $StructureContains$$structure$ = (%GLOBAL%$layers$:a{%GLOBAL%$i$:a})$x_trans$			:i $x_trans$ = ((%GLOBAL%$layers$:a{%GLOBAL%$i$:a})->$x_trans$)			:i $sum_x$ = (%GLOBAL%$sum_x$ + %GLOBAL%$x_trans$)		:i endif		:i if $StructureContains$$structure$ = (%GLOBAL%$layers$:a{%GLOBAL%$i$:a})$y_trans$			:i $y_trans$ = ((%GLOBAL%$layers$:a{%GLOBAL%$i$:a})->$y_trans$)			:i $sum_y$ = (%GLOBAL%$sum_y$ + %GLOBAL%$y_trans$)		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$		:i return $x_trans$ = (%GLOBAL%$sum_x$ / %GLOBAL%$array_size$)$y_trans$ = (%GLOBAL%$sum_y$ / %GLOBAL%$array_size$)	:i endif	:i endfunction]Script cap_no_transforms d271a433 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				mask			]		}		StructQBKey all	}$		:i if $StructureContains$$structure$ = %GLOBAL%$mask$$no_edit_options$		:i return ${StructQBKey true}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_color$		:i return ${StructQBKey false}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_alpha$		:i return ${StructQBKey false}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_translate$		:i return ${StructQBKey false}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_scale$		:i return ${StructQBKey false}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_rotate$		:i return ${StructQBKey false}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_skew$		:i return ${StructQBKey false}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_u_flip$		:i return ${StructQBKey false}$	:i elseif NOT $StructureContains$$structure$ = %GLOBAL%$mask$$no_v_flip$		:i return ${StructQBKey false}$	:i else 		:i return ${StructQBKey true}$	:i endif	:i endfunction]Script cap_populate_layer 0x792b19e8 [	:i $GetArraySize$%GLOBAL%$cap_entry$	:i $j$ = %i(0)	:i if (%GLOBAL%$array_size$ > %i(0))		:i while 		:i $cap_entry_struct$ = (%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})		:i if (($StructureContains$$structure$ = %GLOBAL%$cap_entry_struct$$texture$) AND ($StructureContains$$structure$ = %GLOBAL%$mask_entry$$pattern$))			:i $name$ = (%GLOBAL%$mask_entry$->$pattern$)			:i if (((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$texture$) = %GLOBAL%$name$)				:i $name$ = (%GLOBAL%$mask_entry$->$pattern$)				:i $layer$ = :s{					:i $texture$ = %GLOBAL%$name$					:i $color$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$color$)					:i $a$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$a$)					:i $x_trans$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$x_trans$)					:i $y_trans$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$y_trans$)					:i $x_scale$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$x_scale$)					:i $y_scale$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$y_scale$)					:i $rot$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$rot$)					:i $flags$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$flags$)					:i $x_skew$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$x_skew$)					:i $y_skew$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$y_skew$)				:i :s}				:i if NOT (%GLOBAL%$flags$ = %i(0))					:i $layer$ = :s{%GLOBAL%$layer$					:i $flags$ = %GLOBAL%$flags$:s}				:i endif				:i return $layer$ = %GLOBAL%$layer$			:i endif		:i elseif (($StructureContains$$structure$ = %GLOBAL%$cap_entry_struct$$font$) AND ($StructureContains$$structure$ = %GLOBAL%$mask_entry$$font$))			:i $layer$ = :s{				:i $font$ = (%GLOBAL%$mask_entry$->$font$)				:i $text$ = (%GLOBAL%$mask_entry$->$text$)				:i $color$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$color$)				:i $a$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$a$)				:i $x_trans$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$x_trans$)				:i $y_trans$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$y_trans$)				:i $x_scale$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$x_scale$)				:i $y_scale$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$y_scale$)				:i $rot$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$rot$)				:i $flags$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$flags$)				:i $x_skew$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$x_skew$)				:i $y_skew$ = ((%GLOBAL%$cap_entry$:a{%GLOBAL%$j$:a})->$y_skew$)			:i :s}			:i if NOT (%GLOBAL%$flags$ = %i(0))				:i $layer$ = :s{%GLOBAL%$layer$				:i $flags$ = %GLOBAL%$flags$:s}			:i endif			:i return $layer$ = %GLOBAL%$layer$		:i endif		:i $j$ = (%GLOBAL%$j$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i endfunction]Script cap_new_artist_layer f9864ebf [	:i if $StructureContains$$structure$ = %GLOBAL%$mask_entry$$pattern$		:i $name$ = (%GLOBAL%$mask_entry$->$pattern$)		:i $layer$ = :s{$texture$ = %GLOBAL%$name$:s}	:i elseif $StructureContains$$structure$ = %GLOBAL%$mask_entry$$font$		:i $layer$ = :s{$font$ = (%GLOBAL%$mask_entry$->$font$)$text$ = (%GLOBAL%$mask_entry$->$text$):s}	:i endif	:i if NOT (%GLOBAL%$flags$ = %i(0))		:i $layer$ = :s{%GLOBAL%$layer$		:i $flags$ = %GLOBAL%$flags$:s}	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$section$$center$		:i $x_trans$ = (%i(50) - (%GLOBAL%$section$->$center$:a{%i(0):a}))		:i $y_trans$ = (%i(50) - (%GLOBAL%$section$->$center$:a{%i(1):a}))		:i $CastToInteger$${StructQBKey x_trans}$		:i $CastToInteger$${StructQBKey y_trans}$		:i if NOT (%GLOBAL%$x_trans$ = %i(0))			:i $layer$ = :s{%GLOBAL%$layer$			:i $x_trans$ = %GLOBAL%$x_trans$:s}		:i endif		:i if NOT (%GLOBAL%$y_trans$ = %i(0))			:i $layer$ = :s{%GLOBAL%$layer$			:i $y_trans$ = %GLOBAL%$y_trans$:s}		:i endif	:i endif	:i return $layer$ = %GLOBAL%$layer$	:i endfunction]Script cap_color_wheel_focus_change_color abb748ee [	:i $GetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$	:i $layer$ = :s{%GLOBAL%$layer$	:i $color$ = %GLOBAL%$color$:s}	:i $SetLayer$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$$layer$ = %GLOBAL%$layer$	:i endfunction]Script reset_widgets 0x3f764cb6 [	:i $reset_widget_with_layer$$widget_id$ = $x_scale_widget$$param$ = $x_scale$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_scale$)	:i $reset_widget_with_layer$$widget_id$ = $y_scale_widget$$param$ = $y_scale$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_scale$)	:i $reset_widget_with_layer$$widget_id$ = $x_trans_widget$$param$ = $x_trans$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_trans$)	:i $reset_widget_with_layer$$widget_id$ = $y_trans_widget$$param$ = $y_trans$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_trans$)	:i $reset_widget_with_layer$$widget_id$ = $x_skew_widget$$param$ = $x_skew$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_skew$)	:i $reset_widget_with_layer$$widget_id$ = $y_skew_widget$$param$ = $y_skew$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_skew$)	:i $reset_widget_with_layer$$widget_id$ = $alpha_widget$$param$ = $a$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_alpha$)	:i $reset_widget_with_layer$$widget_id$ = $rot_widget$$param$ = $rot$$layer$ = %GLOBAL%$layer$$default$ = (~$default_cap_rot$)$rotate_widget$	:i endfunction]Script reset_widget_with_layer e32fd257 [	:i $value$ = %GLOBAL%$default$	:i if $GotParam$${StructQBKey layer}$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$%GLOBAL%$param$			:i $value$ = (%GLOBAL%$layer$->%GLOBAL%$param$)		:i endif	:i endif	:i if $GotParam$${StructQBKey rotate_widget}$		:i $rotate_widget_set_value$$widget_id$ = %GLOBAL%$widget_id$$new_value$ = %GLOBAL%$value$	:i else 		:i $button_widget_set_value$$widget_id$ = %GLOBAL%$widget_id$$new_value$ = %GLOBAL%$value$	:i endif	:i endfunction]Script reset_flip_buttons d97b76b7 [	:i if $is_flip_layer_horizontal$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $button_generic_set_value$${			StructQBKey id = flip_horiz_widget			StructQBKey new_value = true		}$			:i else 		:i $button_generic_set_value$${			StructQBKey id = flip_horiz_widget			StructQBKey new_value = false		}$			:i endif	:i if $is_flip_layer_vertical$$part$ = %GLOBAL%$part$$cap_index$ = %GLOBAL%$cap_index$$layer_index$ = %GLOBAL%$layer_index$		:i $button_generic_set_value$${			StructQBKey id = flip_vert_widget			StructQBKey new_value = true		}$			:i else 		:i $button_generic_set_value$${			StructQBKey id = flip_vert_widget			StructQBKey new_value = false		}$			:i endif	:i endfunction]Script widget_restore_cap 0x677ad28b [	:i $widget_accept_cap$ isNull 	:i endfunction]Script widget_init_cap 0x58680904 [	:i $ui_event_get_param_from_top$${StructQBKey param = state_device}$	:i $clean_up_user_control_helpers$	:i if $GotParam$${StructQBKey part}$		:i if $ChecksumEquals$$a$ = %GLOBAL%$part$$b$ = $CAS_Band_Logo$			:i $menu_finish$$car_helper_text_cancel$$no_rotate_zoom_text$$controller$ = %GLOBAL%$state_device$		:i else 			:i $menu_finish$$car_helper_text_cancel$$controller$ = %GLOBAL%$state_device$		:i endif	:i else 		:i $menu_finish$$car_helper_text_cancel$$controller$ = %GLOBAL%$state_device$	:i endif	:i endfunction]Script widget_accept_cap a38cc2cf [	:i $ui_event_get_param_from_top$${StructQBKey param = state_device}$	:i $clean_up_user_control_helpers$	:i if $GotParam$${StructQBKey part}$		:i if $ChecksumEquals$$a$ = %GLOBAL%$part$$b$ = $CAS_Band_Logo$			:i $menu_finish$$car_helper_text_back$$no_rotate_zoom_text$$controller$ = %GLOBAL%$state_device$		:i else 			:i $menu_finish$$car_helper_text_back$$controller$ = %GLOBAL%$state_device$		:i endif	:i else 		:i $menu_finish$$car_helper_text_back$$controller$ = %GLOBAL%$state_device$	:i endif	:i endfunction]Script restore_color_initial ca96d5bf [	:i $ui_event_get_param_from_top$${StructQBKey param = state_device}$	:i $clean_up_user_control_helpers$	:i if $StructureContains$${			StructQBKey structure = add_params			StructQBKey part		}$				:i if $ChecksumEquals$$a$ = (%GLOBAL%$add_params$->$part$)$b$ = $CAS_Band_Logo$			:i $menu_finish$$car_helper_text_back$$no_rotate_zoom_text$$controller$ = %GLOBAL%$state_device$		:i else 			:i $menu_finish$$car_helper_text_back$$controller$ = %GLOBAL%$state_device$		:i endif	:i else 		:i $menu_finish$$car_helper_text_back$$controller$ = %GLOBAL%$state_device$	:i endif	:i endfunction]