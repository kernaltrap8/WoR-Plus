Unknown [1c0000000000000000000ad40000000000000000]Script BuildCASModel 0x48db0a58 [	${		Unknown [00012b00554c7d6f6969696900000018]		StructQBKey buildscript = modelbuilder_build_model		Unknown [00012b007a3d505b69696969000000380001240090e07c796969696900000048]		StructInt use_cache = 0		Unknown [000126007dc1c2296969696900000000]	}$		:i $change$${StructInt safe_to_free_cas_temporaries = 0}$	:i $change$${StructInt g_cas_model_build_success = 0}$	:i $build_incremental$ = %i(0)	:i if $StructureContains$$structure$ = %GLOBAL%$buildscriptparams$$build_incremental$		:i $build_incremental$ = %i(1)	:i endif	:i $GetTrueStartTime$	:i $OnExitRun$$BuildCASModel_Cleanup$$params$ = :s{$starttime$ = %GLOBAL%$starttime$$build_incremental$ = %GLOBAL%$build_incremental$:s}	:i if $StructureContains$${			StructQBKey structure = buildscriptparams			StructQBKey Instrument		}$				:i $Instrument$ = (%GLOBAL%$buildscriptparams$->$Instrument$)	:i else 		:i $Instrument$ = $None$	:i endif	:i $printscriptinfo$%s("BuildCASModel %a")$a$ = %GLOBAL%$async$$DoNotResolve$	:i $getsingletag$${StructQBKey asset_heap}$	:i $getsingletag$${StructQBKey lightgroup}$	:i $GetHatHairChoice$	:i if (%GLOBAL%$Instrument$ = $drum$)		:i $use_body_skeleton2$ = $true$	:i endif	:i $FilterAppearance$$appearance_name$ = $appearance$$part_set$ = ~$instrument_part_sets$$chosen_set$ = %GLOBAL%$Instrument$	:i $FilterAppearance$$appearance_name$ = $appearance$$part_set$ = ~$hair_part_sets$$chosen_set$ = %GLOBAL%$hat_hair_choice$	:i $buildscriptparams$ = :s{		:i %GLOBAL%$buildscriptparams$		:i $lightgroup$ = %GLOBAL%$lightgroup$		:i $temporary_heap$ = $heap_cas_build$		:i $hat_hair_choice$ = %GLOBAL%$hat_hair_choice$		:i $use_body_skeleton2$ = %GLOBAL%$use_body_skeleton2$	:i :s}	:i $change$${StructInt cancelled_model_build = 0}$	:i $WaitUnloadGroup$$cas$$async$ = %GLOBAL%$async$	:i $modelbuilder_waitforavatar$:s{		:i $async$ = %GLOBAL%$async$	:i :s}	:i if (~$cancelled_model_build$ = %i(1))		:i return ${StructQBKey false}$	:i endif	:i $ArchiveCancelLoading$${StructQBKey cas_building_cache}$	:i $ArchiveWaitLoading$$cas_building_cache$$async$ = %GLOBAL%$async$	:i $original_async$ = %GLOBAL%$async$	:i if (%GLOBAL%$use_cache$ = %i(1))		:i $CASCacheFlushVRAM$		:i if (~$cancelled_model_build$ = %i(1))			:i return ${StructQBKey false}$		:i endif		:i $CASCacheModel$:s{			:i $appearance$ = %GLOBAL%$appearance$			:i $buildscript$ = %GLOBAL%$buildscript$			:i $buildscriptparams$ = %GLOBAL%$buildscriptparams$			:i $async$ = %GLOBAL%$async$			:i $global_storage$ = %GLOBAL%$asset_heap$		:i :s}		:i if (~$cancelled_model_build$ = %i(1))			:i return ${StructQBKey false}$		:i endif		:i $async$ = %i(0)	:i endif	:i if (%GLOBAL%$async$ = %i(1))		:i $hide$	:i endif	:i $ArchiveCancelLoading$${StructQBKey cas}$	:i $CASCancelAvatars$	:i $ArchiveWaitLoading$${StructQBKey cas}$	:i $modelbuilder_preload$:s{		:i $async$ = %GLOBAL%$async$		:i $appearance$ = %GLOBAL%$appearance$		:i $buildscript$ = %GLOBAL%$buildscript$		:i $buildscriptparams$ = %GLOBAL%$buildscriptparams$	:i :s}	:i if (~$cancelled_model_build$ = %i(1))		:i return ${StructQBKey false}$	:i endif	:i $modelbuilder_loadassets$:s{		:i $async$ = %GLOBAL%$async$	:i :s}	:i if (~$cancelled_model_build$ = %i(1))		:i $printf$${StructString 0x00000000 = "CancelledLoadAssets-beforeprocess"}$		:i $modelbuilder_processassets$		:i $printf$${StructString 0x00000000 = "CancelledLoadAssets-afterprocess"}$		:i return ${StructQBKey false}$	:i endif	:i $modelbuilder_waitforavatar$:s{		:i $async$ = %GLOBAL%$async$	:i :s}	:i $modelbuilder_processassets$	:i if (~$cancelled_model_build$ = %i(1))		:i return ${StructQBKey false}$	:i endif	:i $modelbuilder_build$:s{		:i $appearance$ = %GLOBAL%$appearance$		:i $buildscript$ = %GLOBAL%$buildscript$		:i $buildscriptparams$ = %GLOBAL%$buildscriptparams$	:i :s}	:i if $StructureContains$$structure$ = %GLOBAL%$buildscriptparams$$new_object$		:i $ModelBuilder_RestoreNewObjectLightCache$	:i endif	:i $BuildCASModel_CompositeWait$$async$ = %GLOBAL%$original_async$	:i if (~$cancelled_model_build$ = %i(1))		:i return ${StructQBKey false}$	:i endif	:i if (%GLOBAL%$build_incremental$ = %i(0))		:i $FlushAllCompositeTextures$${StructQBKey no_block}$	:i endif	:i $settags$$appearance_checksum$ = %GLOBAL%$appearance_checksum$	:i if (~$g_face_preset_glitch_fix_hack$ = %i(1))		:i $hide_glitch$${StructInt num_frames = 1}$	:i endif	:i if (%GLOBAL%$async$ = %i(1))		:i $wait$${			StructInt 2			StructQBKey gameframes		}$			:i endif	:i $unhide$	:i $ForceInstanceUpdate$	:i $change$${StructInt g_cas_model_build_success = 1}$	:i return ${StructQBKey true}$	:i endfunction]Script BuildCASModel_Cleanup d88c16d5 [	:i $change$${StructInt safe_to_free_cas_temporaries = 1}$	:i $CASTemporariesFlush$	:i if (%GLOBAL%$build_incremental$ = %i(0))		:i $BuildCASModel_CompositeWait$${StructInt async = 0}$		:i $FlushAllCompositeTextures$	:i endif	:i endfunction]Script BuildCASModel_CompositeWait bbd92797 [	:i if (%GLOBAL%$async$ = %i(1))		:i $CASWaitForComposite$	:i else 		:i $CasBlockForComposite$	:i endif	:i endfunction]Script CASWaitForComposite 0x7c238cb6 [	:i if $ModelBuilderIsCompositingActive$		:i while 		:i $printf$${StructString 0x00000000 = "Waiting for Compositing..."}$		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i if NOT $ModelBuilderIsCompositingActive$			:i continue		:i endif		:i loop_to 	:i endif	:i endfunction]Script CasBlockForComposite 0x8b44c6bc [	:i if $ModelBuilderIsCompositingActive$		:i $ModelBuilderBlockForCompositing$	:i endif	:i endfunction]Script CasCancelLoading 0x067f020b [	:i $ArchiveCancelLoading$${StructQBKey cas}$	:i $CASCancelAvatars$	:i $cas_queue_cancel_loading$	:i $change$${StructInt cancelled_model_build = 1}$	:i endfunction]Script CasBlockForLoading ad96c9d5 [	:i $ArchiveWaitLoading$${		StructQBKey cas		StructInt async = 0	}$		:i endfunction]Script RebuildCurrentCASModel d2163296 [03015416229640c3070e4b1610812d290f01040116f4d929330301166f7d4c55070e4b165d6a21bf0f01169a85e667070e4b1645403e030f0116229640c3072d16229640c3011618d94a73072d1618d94a7301160fd9d12b01040124]Script UpdateCurrentCASModel ac501665 [0301541652e39e290159165b503d7a070304015416229640c3070e4b1610812d290f01521636bb45de0717010000000152161894b8be07170100000001040147a600167f8b67504a18000000000001000000000800010d0000000000544994440000000001160ec6e82d4a600000000000000100000000080001030000000000000000180000000055706461746543757272656e744341534d6f64656c3a20446f696e672066756c6c20726566726573682c2043415320717565756520697320616c726561647920776f726b696e67000116fdb5714816229640c3072d16229640c30129012801162dc00dcd4a180000000001000000000800010d00a1dc81f9e5689942000000000116f75afa1916429968e5160cf131700703011652e39e29072d1652e39e2901165b503d7a072d165b503d7a0116229640c3072d16229640c3011636bb45de072d1636bb45de01161894b8be072d161894b8be01040124]Script UpdateCurrentCASModelSpawned 0x86b323ba [	${Unknown [00012600c3409622696969690000001800012400de45bb36696969690000002800012400beb894186969696900000000]}$	:i $printscriptinfo$${StructString 0x00000000 = "UpdateCurrentCASModelSpawned"}$	:i $ArchiveWaitLoading$${		StructQBKey cas		StructInt async = 0	}$		:i $CASWaitForComposite$	:i if NOT (~$cas_override_object$ = $None$)		:i %GLOBAL%$cache$ = %i(0)		:i $cas_object$ = (~$cas_override_object$)	:i else 		:i $GetCurrentCASObject$	:i endif	:i if $GotParam$${StructQBKey cas_object}$		:i if $CompositeObjectExists$$name$ = %GLOBAL%$cas_object$			:i $change$${StructInt safe_to_free_cas_temporaries = 0}$			:i $OnExitRun$$UpdateCurrentCASModelSpawned_Cleanup$$params$ = :s{$flush_assets$ = %GLOBAL%$flush_assets$:s}			:i %GLOBAL%$cas_object$.$getsingletag$$lightgroup$			:i %GLOBAL%$cas_object$.$getsingletag$$asset_heap$			:i $appearance$ = (~$cas_current_appearance$)			:i $get_appearance_checksum$:s{$appearance$ = %GLOBAL%$appearance$$Instrument$ = %GLOBAL%$Instrument$$mic$ = %i(0):s}			:i $GetHatHairChoice$			:i $FilterAppearance$$appearance_name$ = $appearance$$part_set$ = ~$instrument_part_sets$$chosen_set$ = %GLOBAL%$Instrument$			:i $FilterAppearance$$appearance_name$ = $appearance$$part_set$ = ~$hair_part_sets$$chosen_set$ = %GLOBAL%$hat_hair_choice$			:i if (%GLOBAL%$Instrument$ = $drum$)				:i $use_body_skeleton2$ = $true$			:i endif			:i $buildscriptparams$ = :s{				:i %GLOBAL%$buildscriptparams$				:i $temporary_heap$ = $heap_cas_build$				:i $Instrument$ = %GLOBAL%$Instrument$				:i $lightgroup$ = %GLOBAL%$lightgroup$				:i $hat_hair_choice$ = %GLOBAL%$hat_hair_choice$				:i $use_body_skeleton2$ = %GLOBAL%$use_body_skeleton2$				:i $no_parts_added_or_removed$			:i :s}			:i if (%GLOBAL%$cache$ = %i(1))				:i $CASCacheModel$:s{					:i $async$ = %i(0)					:i $appearance$ = %GLOBAL%$appearance$					:i $global_storage$ = %GLOBAL%$asset_heap$					:i $buildscript$ = %GLOBAL%$buildscript$					:i $buildscriptparams$ = %GLOBAL%$buildscriptparams$				:i :s}			:i endif			:i %GLOBAL%$cas_object$.$settags$$appearance_checksum$ = %GLOBAL%$new_appearance_checksum$			:i %GLOBAL%$cas_object$.$modelbuilder_preload$:s{				:i $async$ = %i(0)				:i $appearance$ = %GLOBAL%$appearance$				:i $buildscript$ = %GLOBAL%$buildscript$				:i $buildscriptparams$ = %GLOBAL%$buildscriptparams$			:i :s}			:i %GLOBAL%$cas_object$.$modelbuilder_loadassets$:s{				:i $async$ = %i(0)			:i :s}			:i %GLOBAL%$cas_object$.$modelbuilder_processassets$			:i %GLOBAL%$cas_object$.$modelbuilder_build$:s{				:i $appearance$ = %GLOBAL%$appearance$				:i $buildscript$ = %GLOBAL%$buildscript$				:i $buildscriptparams$ = %GLOBAL%$buildscriptparams$			:i :s}			:i $ForceInstanceUpdate$		:i endif	:i endif	:i endfunction]Script UpdateCurrentCASModelSpawned_Cleanup 0x4bd9d93e [	${Unknown [00012400de45bb366969696900000000]}$	:i $change$${StructInt safe_to_free_cas_temporaries = 1}$	:i if (%GLOBAL%$flush_assets$ = %i(1))		:i $CASTemporariesFlush$	:i endif	:i endfunction]