Unknown [1c0000000000000000000e740000000000000000]SectionString g_loading_screen_movie "none"SectionInteger g_in_loading_screen 0SectionInteger g_loading_screen_is_for_invite 0Script create_venue_loading_screen 0x32290655 [	${Unknown [00012b0089f66c796969696900000000]}$	:i $printscriptinfo$${StructString 0x00000000 = "create_venue_loading_screen"}$	:i $create_loading_screen$${StructQBKey loading_screen_type = static}$	:i endfunction]Script create_empty_loading_screen c3788921 [	${StructQBKey use_ui_element = None}$	:i $create_loading_screen$:s{		:i $loading_screen_type$ = $empty$		:i $use_ui_element$ = %GLOBAL%$use_ui_element$	:i :s}	:i endfunction]Script create_loading_screen ad2949f0 [	${		StructQBKey mode = play_song		StructString bink = "generic_load"		StructQBKey bink_heap = heap_bink		StructQBKey bink_heap_ps3 = heap_bink_vram		StructQBKey pause_script = nothing		StructQBKey use_ui_element = None		StructQBKey loading_screen_type = static		StructInt for_invite = 0	}$		:i $printscriptinfo$${StructString 0x00000000 = "create_loading_screen"}$	:i $disable_pause$	:i $change$$g_loading_screen_is_for_invite$ = %GLOBAL%$for_invite$	:i if (~$is_changing_levels$ = %i(1))		:i return 	:i endif	:i if $ScreenElementExists$${StructQBKey id = loading_screen_container}$		:i return 	:i endif	:i if (~$g_in_loading_screen$ = %i(1))		:i return 	:i endif	:i if $ObjectExists$${StructQBKey id = musicstudio_mainobj}$		:i $musicstudio_mainobj$.$musicstudio_pauseall$${			StructQBKey stack_id = load_screen			StructQBKey Pause = true		}$			:i endif	:i $change$${StructInt is_changing_levels = 1}$	:i $change$${StructInt g_in_loading_screen = 1}$	:i $PushUnsafeForShutdown$${StructQBKey context = loading_screen}$	:i if (%GLOBAL%$loading_screen_type$ = $static$)		:i $spawnscriptnow$${			StructQBKey show_static_loading_screen_spawned			StructStruct params			{				StructHeader				{					StructStruct display_params					{						StructHeader						{							StructString 0x00000000 = "ingame_loading"							StructString spin3d_texture = "load_wheel"							StructInt spin_x = 1015							StructInt spin_y = 192							StructFloat Scale = 0.07000000029802322							StructInt Speed = -2							StructQBKey localized						}					}				}			}		}$				:i return 	:i endif	:i if (%GLOBAL%$loading_screen_type$ = $empty$)		:i if (%GLOBAL%$use_ui_element$ !== $None$)			:i $AssignAlias$$id$ = %GLOBAL%$use_ui_element$$alias$ = $loading_screen_container$		:i endif		:i return 	:i endif	:i if (%GLOBAL%$loading_screen_type$ !== $bink$)		:i $scriptassert$%s("loading_screen_type is invalid: %a")$a$ = %GLOBAL%$loading_screen_type$	:i endif	:i $movie$ = %GLOBAL%$bink$	:i $change$$g_loading_screen_movie$ = %GLOBAL%$movie$	:i $movie_path$ = %GLOBAL%$movie$	:i $desc$ = %s("loading")	:i $buffer_slot$ = %i(0)	:i $textureslot$ = %i(2)	:i $loading_text$ = ^[fab8f6e7]^	:i if $GotParam$${StructQBKey leaderboard}$		:i $loading_text$ = ^[10ce7efd]^	:i endif	:i if (%GLOBAL%$use_ui_element$ = $None$)		:i $CreateScreenElement$:s{			:i $type$ = $descinterface$			:i $parent$ = $root_window$			:i $desc$ = %GLOBAL%$desc$			:i $id$ = $loading_screen_container$			:i $loading_text$ = ^[03ac90f0]^			:i $tip_text$ = ^[03ac90f0]^			:i $z_priority$ = %i(500000)		:i :s}	:i else 		:i $AssignAlias$$id$ = %GLOBAL%$use_ui_element$$alias$ = $loading_screen_container$	:i endif	:i $loading_screen_container$.$settags$:s{		:i $movie$ = %GLOBAL%$movie$		:i $movie_path$ = %GLOBAL%$movie_path$		:i $buffer_slot$ = %GLOBAL%$buffer_slot$		:i $textureslot$ = %GLOBAL%$textureslot$		:i $loading_text$ = %GLOBAL%$loading_text$		:i $tip_text$ = ^[03ac90f0]^		:i $loop_start$ = %GLOBAL%$loop_start$		:i $loop_end$ = %GLOBAL%$loop_end$	:i :s}	:i if $IsPS3$		:i $bink_heap$ = %GLOBAL%$bink_heap_ps3$	:i endif	:i if $GotParam$${StructQBKey spawn}$		:i $loading_screen_container$.$obj_spawnscriptnow$$create_bink_loading_screen_spawned$$params$ = :s{			:i $bink_heap$ = %GLOBAL%$bink_heap$			:i $pause_script$ = %GLOBAL%$pause_script$		:i :s}	:i else 		:i $create_bink_loading_screen_spawned$:s{			:i $bink_heap$ = %GLOBAL%$bink_heap$			:i $pause_script$ = %GLOBAL%$pause_script$		:i :s}	:i endif	:i endfunction]Script create_bink_loading_screen_spawned c00d016b [	${Unknown [000126003b53942569696969000000180001260008a151486969696900000000]}$	:i $setscriptcannotpause$	:i $OnExitRun$${StructQBKey loading_screen_premature_end_script}$	:i $loading_screen_container$.$gettags$	:i $PushDisableRendering$${StructQBKey context = loading_screen_create_bink}$	:i $KillAllMovies$	:i if NOT $IsMovieInBuffer$$movie$ = %GLOBAL%$movie$		:i $FreeMovieBuffer$$buffer_slot$ = %GLOBAL%$buffer_slot$		:i if (%GLOBAL%$bink_heap$ !== $heap_cas_cache$)			:i $destroy_bink_sub_heaps$		:i endif		:i $finalprintf$%s("create_loading_screen_spawned: Loading %a into %b")$a$ = %GLOBAL%$movie_path$$b$ = %GLOBAL%$buffer_slot$		:i $MemPushContext$%GLOBAL%$bink_heap$$debug_text$ = $AllocateMovieBuffer$		:i $AllocateMovieBuffer$$buffer_slot$ = %GLOBAL%$buffer_slot$$movie$ = %GLOBAL%$movie_path$		:i $MemPopContext$		:i $GetTrueStartTime$		:i $LoadMovieIntoBufferAsync$$buffer_slot$ = %GLOBAL%$buffer_slot$$movie$ = %GLOBAL%$movie$		:i while 		:i if $IsMovieInBuffer$$movie$ = %GLOBAL%$movie$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 	:i endif	:i $PauseSpawnedScript$%GLOBAL%$pause_script$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i if $GotParam$${StructQBKey loop_start}$		:i $movie_flags$ = :s{			:i $loop_start$ = %GLOBAL%$loop_start$			:i $loop_end$ = %GLOBAL%$loop_end$		:i :s}	:i else 		:i $movie_flags$ = :s{$no_looping$$no_hold$:s}	:i endif	:i $PlayMovie$:s{		:i $buffer_slot$ = %GLOBAL%$buffer_slot$		:i $textureslot$ = %GLOBAL%$textureslot$		:i $texturepri$ = %i(200000)		:i %GLOBAL%$movie_flags$	:i :s}	:i $unpausespawnedscript$%GLOBAL%$pause_script$	:i while 	:i if $IsMoviePlaying$$textureslot$ = %GLOBAL%$textureslot$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe		StructQBKey ignoreslomo	}$		:i loop_to 	:i $wait$${		StructInt 4		StructQBKey gameframes		StructQBKey ignoreslomo	}$		:i $PopDisableRendering$${StructQBKey context = loading_screen_create_bink}$	:i if $ScreenElementExists$${StructQBKey id = loading_screen_container}$		:i $loading_screen_container$.$se_setprops$:s{			:i $loading_text$ = %GLOBAL%$loading_text$		:i :s}	:i endif	:i $OnExitRun$${StructQBKey NullScript}$	:i endfunction]Script destroy_loading_screen 0x73445506 [	${StructInt wait_for_end = 0}$	:i $printscriptinfo$${StructString 0x00000000 = "destroy_loading_screen"}$	:i if (~$autolaunch_go$ !== %i(4294967295))		:i %GLOBAL%$wait_for_end$ = %i(0)	:i endif	:i if $ObjectExists$${StructQBKey id = musicstudio_mainobj}$		:i $musicstudio_mainobj$.$musicstudio_pauseall$${			StructQBKey stack_id = load_screen			StructQBKey Pause = false		}$			:i endif	:i if (~$g_in_loading_screen$ = %i(1))		:i if NOT $ScriptIsRunning$${StructQBKey destroy_loading_screen_spawned}$			:i $finalprintf$${StructString 0x00000000 = "destroy_loading_screen - $g_in_loading_screen = 1 ... destroying"}$			:i $spawnscriptnow$$destroy_loading_screen_spawned$$params$ = :s{$wait_for_end$ = %GLOBAL%$wait_for_end$:s}			:i $hideloadingscreen$			:i if (~$playing_song$ = %i(0) OR ~$end_credits$ = %i(1))				:i $change$${StructInt is_changing_levels = 0}$			:i endif		:i endif	:i endif	:i if $GotParam$${StructQBKey wait_for_unload}$		:i $BlockForScript$${StructQBKey destroy_loading_screen_spawned}$	:i endif	:i endfunction]Script destroy_loading_screen_spawned f24562a1 [	${		StructFloat time = 0.10000000149011612		Unknown [00012400b71cc6b26969696900000000]	}$		:i $finalprintf$${StructString 0x00000000 = "destroy_loading_screen_spawned"}$	:i $setscriptcannotpause$	:i if $ScreenElementExists$${StructQBKey id = loading_screen_container}$		:i $loading_screen_container$.$gettags$	:i endif	:i $OnExitRun$${StructQBKey loading_screen_premature_end_script}$	:i if $GotParam$${StructQBKey textureslot}$		:i if $IsMoviePlaying$$textureslot$ = %GLOBAL%$textureslot$			:i if (%GLOBAL%$wait_for_end$ = %i(1))				:i while 				:i if (~$q_boot_scanning_finished$ = %i(1))					:i continue				:i endif				:i if NOT $IsMoviePlaying$$textureslot$ = %GLOBAL%$textureslot$					:i continue				:i endif				:i $wait$${					StructInt 1					StructQBKey gameframe				}$								:i loop_to 				:i while 				:i if NOT $IsMoviePlaying$$textureslot$ = %GLOBAL%$textureslot$					:i continue				:i endif				:i $wait$${					StructInt 1					StructQBKey gameframe				}$								:i loop_to 				:i $clean_up_user_control_helpers$			:i endif			:i $KillMovie$$textureslot$ = %GLOBAL%$textureslot$		:i endif		:i $PushDisableRendering$${StructQBKey context = loading_screen_destroy_bink}$		:i if $ScreenElementExists$${StructQBKey id = loading_screen_container}$			:i $loading_screen_container$.$se_setprops$${StructInt alpha = 0}$		:i endif		:i $DumpMovieBuffers$		:i $finalprintf$%s("$g_loading_screen_movie = %a")$a$ = (~$g_loading_screen_movie$)		:i if (~$g_loading_screen_movie$ !== %s("none"))			:i while 			:i if $IsMovieInBuffer$${StructQBString movie = g_loading_screen_movie}$				:i $finalprintf$%s("Freeing movie buffer %s %d")$s$ = (~$g_loading_screen_movie$)$d$ = %GLOBAL%$buffer_slot$				:i $FreeMovieBuffer$$buffer_slot$ = %GLOBAL%$buffer_slot$				:i $freed_movie$ = %i(1)				:i continue			:i else 				:i $finalprintf$%s("%s not found in a buffer... waiting.")$s$ = (~$g_loading_screen_movie$)			:i endif			:i $wait$${				StructInt 1				StructQBKey gameframe			}$						:i loop_to %i(300)			:i if NOT $GotParam$${StructQBKey freed_movie}$				:i $i$ = %i(0)				:i while 				:i $finalprintf$%s("Forcing free of buffer %a")$a$ = %GLOBAL%$i$				:i $FreeMovieBuffer$$buffer_slot$ = %GLOBAL%$i$				:i $i$ = (%GLOBAL%$i$ + %i(1))				:i loop_to %i(8)			:i endif		:i endif	:i endif	:i $create_bink_sub_heaps$	:i $change$${StructString g_loading_screen_movie = "none"}$	:i if $GotParam$${StructQBKey textureslot}$		:i $PopDisableRendering$${StructQBKey context = loading_screen_destroy_bink}$	:i endif	:i $PopUnsafeForShutdown$${StructQBKey context = loading_screen}$	:i $hide_glitch$${StructInt num_frames = 5}$	:i $OnExitRun$${StructQBKey NullScript}$	:i $change$${StructInt g_in_loading_screen = 0}$	:i $change$${StructInt g_loading_screen_is_for_invite = 0}$	:i $finalprintf$${StructString 0x00000000 = "destroy_loading_screen_spawned - Done!"}$	:i if $ScreenElementExists$${StructQBKey id = loading_screen_container}$		:i $loading_screen_container$.$Die$	:i endif	:i endfunction]Script show_static_loading_screen_spawned 0x50a958a6 [	${Unknown [00012b0047e89ae76969696900000000]}$	:i $setscriptcannotpause$	:i $OnExitRun$${StructQBKey loading_screen_premature_end_script}$	:i $DisplayLoadingScreen$%GLOBAL%$display_params$	:i $OnExitRun$${StructQBKey NullScript}$	:i endfunction]Script loading_screen_premature_end_script bcc0c6bf [	:i $scriptassert$${StructString 0x00000000 = "Loading screen ended too soon! Probably a killed off spawn script?"}$	:i endfunction]Script debug_callback_is_loading_screen_shown f017c8af [	:i if $ScriptIsRunning$${StructQBKey guitar_startup_spawned}$		:i return ${StructQBKey false}$	:i endif	:i if $IsTrue$${StructQBString g_in_loading_screen}$		:i return ${StructQBKey true}$	:i endif	:i if $IsLoadingScreenActive$		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script debug_handle_infinite_loading_screen 0x3b666cdf [	:i $printf$${StructString 0x00000000 = "--------------------------------------------------------------------------------"}$	:i $printf$${StructString 0x00000000 = ""}$	:i $printf$${StructString 0x00000000 = "Possible infinite loading screen detected"}$	:i $printf$${StructString 0x00000000 = ""}$	:i $dumpspawnedscriptstatus$	:i $printf$${StructString 0x00000000 = ""}$	:i $printf$${StructString 0x00000000 = ""}$	:i $ui_print_states$	:i $printf$${StructString 0x00000000 = ""}$	:i $printf$${StructString 0x00000000 = "Possible infinite loading screen detected"}$	:i $printf$${StructString 0x00000000 = ""}$	:i $printf$${StructString 0x00000000 = "--------------------------------------------------------------------------------"}$	:i endfunction]