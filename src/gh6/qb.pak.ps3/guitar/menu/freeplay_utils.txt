Unknown [1c00000000000000000038200000000000000000]Script freeplay_refresh_UI_setup 0x383e5f07 [	${StructInt async = 0}$	:i $GetMaxLocalPlayers$	:i $check_hud_exists$	:i if (%GLOBAL%$hud_exists$ = %i(0))		:i return 	:i endif	:i $freeplay_get_num_active_vocalists$	:i $freeplay_get_num_playing_vocalists$	:i $freeplay_get_primary_vocalist$	:i $num_dropped_players$ = %i(0)	:i $num_paused_players$ = %i(0)	:i $num_joining_players$ = %i(0)	:i $num_playing_players$ = %i(0)	:i $player$ = %i(1)	:i while 	:i $freeplay_update_player_hiding$$player$ = %GLOBAL%$player$	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i switch %GLOBAL%$freeplay_state$		:i case $dropped$			:i $num_dropped_players$ = (%GLOBAL%$num_dropped_players$ + %i(1))			:i endcase		case $joining$			:i $num_joining_players$ = (%GLOBAL%$num_joining_players$ + %i(1))			:i endcase		case $paused$			:i $num_paused_players$ = (%GLOBAL%$num_paused_players$ + %i(1))			:i endcase		case $playing$			:i $num_playing_players$ = (%GLOBAL%$num_playing_players$ + %i(1))			:i $freeplay_init_menu_state_stack$$player$ = %GLOBAL%$player$	:i end_switch	:i switch %GLOBAL%$freeplay_state$		:i case $joining$			:i endcase		case $paused$			:i $SetPlayerInfo$%GLOBAL%$player$$guitar_volume$ = %i(100)			:i $SetAllDrumStates$$player$ = %GLOBAL%$player$$volume$ = %i(100)	:i end_switch	:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $freeplay_update_vocals_highway$:s{			:i $player$ = %GLOBAL%$player$			:i $primary_vocalist$ = %GLOBAL%$primary_vocalist$			:i $freeplay_state$ = %GLOBAL%$freeplay_state$		:i :s}	:i endif	:i if $freeplay_setup_highway_menu_background$$player$ = %GLOBAL%$player$		:i if (%GLOBAL%$freeplay_state$ = $joining$ OR %GLOBAL%$freeplay_state$ = $paused$)			:i %GLOBAL%$menu_background_id$.$se_setprops$$light_box_alpha$ = %f(0.4500000)$time$ = %f(0.3000000)		:i else 			:i %GLOBAL%$menu_background_id$.$se_setprops$$light_box_alpha$ = %i(0)		:i endif	:i endif	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i if (%GLOBAL%$controller$ < %i(4))		:i switch %GLOBAL%$freeplay_state$			:i case $joining$				:i endcase			case $paused$				:i endcase			case $playing$				:i $NetSessionFunc$$func$ = $addcontrollers$$params$ = :s{$controller$ = %GLOBAL%$controller$:s}				:i endcase			case $dropped$				:i $NetSessionFunc$$func$ = $removecontroller$$params$ = :s{$controller$ = %GLOBAL%$controller$:s}		:i end_switch	:i endif	:i switch %GLOBAL%$freeplay_state$		:i case $playing$			:i $getplayerinfo$%GLOBAL%$player$$star_power_usable$			:i if (%GLOBAL%$star_power_usable$ = %i(0))				:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$				:i if NOT %GLOBAL%$menu_parent$.$getsingletag$$freeplay_debounce_starpower_active$					:i %GLOBAL%$menu_parent$.$obj_killspawnedscript$$name$ = $freeplay_debounce_starpower$					:i %GLOBAL%$menu_parent$.$obj_spawnscript$$freeplay_debounce_starpower$$params$ = :s{$player$ = %GLOBAL%$player$:s}				:i endif			:i endif			:i endcase		case $joining$			:i endcase		case $paused$			:i endcase		case $dropped$			:i $SetPlayerInfo$%GLOBAL%$player$$star_power_usable$ = %i(0)	:i end_switch	:i if (%GLOBAL%$async$ = %i(1))		:i $wait$${			StructInt 1			StructQBKey gameframe		}$			:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i if (%GLOBAL%$num_playing_vocalists$ !== %i(1))		:i $primitive$ = $OG_Vocal_Comet_4P_freeplay$	:i else 		:i $primitive$ = $OG_Vocal_Comet$	:i endif	:i if $ScreenFX_FXInstanceExists$${			StructQBKey viewport = vocals_visualizer_freeplay			StructQBKey name = vocals_visualizer_fx_freeplay		}$				:i $ScreenFX_UpdateFXInstanceParams$:s{			:i $viewport$ = $vocals_visualizer_freeplay$			:i $name$ = $vocals_visualizer_fx_freeplay$			:i $scefName$ = $vocals_visualizer_fx_freeplay$			:i $type$ = $AudioVisualize$			:i $highway_index$ = %i(1)			:i $on$ = %i(1)			:i $clearcolor$ = :a{%i(0)%i(0)%i(0)%i(255):a}			:i $primitives$ = (~%GLOBAL%$primitive$)		:i :s}	:i endif	:i if (%GLOBAL%$num_active_vocalists$ > %i(0))		:i $vocals_highway_root$.$se_setprops$${			StructInt alpha = 1			StructQBKey motion = ease_out			StructFloat time = 0.5		}$			:i else 		:i if $ScreenElementExists$${StructQBKey id = vocals_highway_root}$			:i $vocals_highway_root$.$se_setprops$${StructInt alpha = 0}$		:i endif	:i endif	:i if $ScreenElementExists$${StructQBKey id = attract_screen}$		:i if (%GLOBAL%$num_dropped_players$ = %GLOBAL%$max_players$)			:i $attract_screen$.$se_setprops$${				StructQBKey unhide				StructInt alpha = 1			}$					:i else 			:i $attract_screen$.$se_setprops$${				StructQBKey unhide				StructInt alpha = 0			}$					:i endif	:i endif	:i if (%GLOBAL%$async$ = %i(1))		:i $wait$${			StructInt 1			StructQBKey gameframe		}$			:i endif	:i $freeplay_setup_root_helper_pills$	:i $old_sound_state$ = (~$attract_sound_state$)	:i if (%GLOBAL%$num_playing_players$ > %i(0))		:i $new_sound_state$ = $playing$	:i elseif (%GLOBAL%$num_paused_players$ > %i(0))		:i $new_sound_state$ = $paused$	:i elseif (%GLOBAL%$num_joining_players$ > %i(0))		:i $new_sound_state$ = $joining$	:i else 		:i $new_sound_state$ = $attract$	:i endif	:i if NOT (%GLOBAL%$new_sound_state$ = %GLOBAL%$old_sound_state$)		:i $transition_array$ = (~$sound_transitions$->%GLOBAL%$old_sound_state$->%GLOBAL%$new_sound_state$)		:i if NOT $GotParam$${StructQBKey transition_array}$			:i $scriptassert$^[155b7e0b]^$a$ = %GLOBAL%$old_sound_state$$b$ = %GLOBAL%$new_sound_state$		:i endif		:i $GetArraySize$${StructQBKey transition_array}$		:i $idx$ = %i(0)		:i while 		:i $transition_type$ = (%GLOBAL%$transition_array$:a{%GLOBAL%$idx$:a})		:i $spawnscriptnow$$audio_freeplay_music_and_crowd_transitions$$params$ = :s{$transition$ = %GLOBAL%$transition_type$:s}		:i $idx$ = (%GLOBAL%$idx$ + %i(1))		:i loop_to %GLOBAL%$array_size$		:i $change$$attract_sound_state$ = %GLOBAL%$new_sound_state$	:i endif	:i if (%GLOBAL%$async$ = %i(1))		:i $wait$${			StructInt 1			StructQBKey gameframe		}$			:i endif	:i $spawnscriptnow$${StructQBKey freeplay_refresh_player_streams}$	:i endfunction]Script freeplay_refresh_player_streams 0x54d544b4 [	:i if (~$playing_song$ = %i(1))		:i $SongAudioSetupDSP$${StructQBKey respect_freeplay}$		:i $UpdateGuitarVolume$		:i $GetMaxLocalPlayers$		:i $player$ = %i(1)		:i while 		:i if NOT $playerinfoequals$%GLOBAL%$player$$freeplay_state$ = $dropped$			:i $RestoreAllDrumStates$$player$ = %GLOBAL%$player$		:i endif		:i $player$ = (%GLOBAL%$player$ + %i(1))		:i loop_to %GLOBAL%$max_players$	:i endif	:i endfunction]Script freeplay_update_vocalists_interactivity db207e54 [	${Unknown [00012600c44777f36969696900000000]}$	:i $freeplay_get_num_playing_vocalists$	:i switch %GLOBAL%$reason$		:i case $vocalist_started_playing$			:i if (%GLOBAL%$num_playing_vocalists$ > %i(0))				:i $GetMaxLocalPlayers$				:i $player$ = %i(1)				:i while 				:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$					:i $SetPlayerInfo$%GLOBAL%$player$$interactive$ = %i(1)				:i endif				:i $player$ = (%GLOBAL%$player$ + %i(1))				:i loop_to %GLOBAL%$max_players$			:i endif			:i endcase		case $vocalist_stopped_playing$			:i $freeplay_get_num_playing_vocalists$			:i if (%GLOBAL%$num_playing_vocalists$ = %i(0))				:i $GetMaxLocalPlayers$				:i $player$ = %i(1)				:i while 				:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$					:i $LaunchGemEvent$$event$ = $kill_objects_and_switch_player_non_interactive$$player$ = %GLOBAL%$player$				:i endif				:i $player$ = (%GLOBAL%$player$ + %i(1))				:i loop_to %GLOBAL%$max_players$			:i endif			:i endcase		default 			:i $scriptassert$^[4e6c8ac2]^$s$ = %GLOBAL%$reason$	:i end_switch	:i endfunction]Script freeplay_update_primary_vocalist afb690d8 [	${Unknown [0001240067e6859a696969690000001800012600c44777f36969696900000000]}$	:i switch %GLOBAL%$reason$		:i case $vocalist_joined$			:i if (~$freeplay_primary_vocalist$ = %i(4294967295))				:i $change$$freeplay_primary_vocalist$ = %GLOBAL%$player$			:i endif			:i endcase		case $vocalist_dropped$			:i if (~$freeplay_primary_vocalist$ = %GLOBAL%$player$)				:i $change$${StructInt freeplay_primary_vocalist = -1}$				:i $GetMaxLocalPlayers$				:i $loop_player$ = %i(1)				:i while 				:i if $playerinfoequals$%GLOBAL%$loop_player$$part$ = $Vocals$					:i if NOT $playerinfoequals$%GLOBAL%$loop_player$$freeplay_state$ = $dropped$						:i $change$$freeplay_primary_vocalist$ = %GLOBAL%$loop_player$						:i continue					:i endif				:i endif				:i $loop_player$ = (%GLOBAL%$loop_player$ + %i(1))				:i loop_to %GLOBAL%$max_players$			:i endif			:i endcase		default 			:i $scriptassert$^[4e6c8ac2]^$s$ = %GLOBAL%$reason$	:i end_switch	:i endfunction]Script freeplay_update_vocals_highway fded100b [	${Unknown [0001240067e6859a696969690000001800012400e3dded71696969690000002800012600a047f73b6969696900000000]}$	:i $VocalsHighway_GetId$$player$ = %GLOBAL%$player$	:i if (%GLOBAL%$player$ = %GLOBAL%$primary_vocalist$)		:i $Vocals_SetActiveHighwayPlayerIndex$$highway$ = %i(1)$player$ = %GLOBAL%$player$		:i $safe_show$$id$ = %GLOBAL%$vocals_highway_id$	:i else 		:i $safe_hide$$id$ = %GLOBAL%$vocals_highway_id$	:i endif	:i if (~$cheat_performancemode$ = %i(1))		:i $safe_hide$$id$ = %GLOBAL%$vocals_highway_id$	:i endif	:i if (%GLOBAL%$freeplay_state$ = $dropped$)		:i $getplayerinfo$%GLOBAL%$player$$controller$		:i if (%GLOBAL%$controller$ < %i(4))			:i $SetPlayerInfo$%GLOBAL%$player$$mic_type$ = $None$			:i $Vocals_DeinitMic$$controller$ = %GLOBAL%$controller$		:i endif	:i endif	:i endfunction]Script freeplay_has_players 0x3b0427a9 [	:i $GetMaxLocalPlayers$	:i $num_active_players$ = %i(0)	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ !== $dropped$)		:i $num_active_players$ = (%GLOBAL%$num_active_players$ + %i(1))	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i if (%GLOBAL%$num_active_players$ > %i(0))		:i return ${StructQBKey true}$	:i else 		:i return ${StructQBKey false}$	:i endif	:i endfunction]Script freeplay_get_primary_vocalist 0x59440a58 [	:i return $primary_vocalist$ = (~$freeplay_primary_vocalist$)	:i endfunction]Script freeplay_get_num_active_vocalists 0x6d4f24c0 [	:i $GetMaxLocalPlayers$	:i $num_active_vocalists$ = %i(0)	:i $player$ = %i(1)	:i while 	:i if NOT $playerinfoequals$%GLOBAL%$player$$freeplay_state$ = $dropped$		:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$			:i $num_active_vocalists$ = (%GLOBAL%$num_active_vocalists$ + %i(1))		:i endif	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i return $num_active_vocalists$ = %GLOBAL%$num_active_vocalists$	:i endfunction]Script freeplay_get_num_playing_vocalists f3a67382 [	:i $GetMaxLocalPlayers$	:i $num_playing_vocalists$ = %i(0)	:i $player$ = %i(1)	:i while 	:i if $playerinfoequals$%GLOBAL%$player$$freeplay_state$ = $playing$		:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$			:i $num_playing_vocalists$ = (%GLOBAL%$num_playing_vocalists$ + %i(1))		:i endif	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i return $num_playing_vocalists$ = %GLOBAL%$num_playing_vocalists$	:i endfunction]Script freeplay_get_num_active_players 0x2e4bbb58 [	:i $GetMaxLocalPlayers$	:i $num_active_players$ = %i(0)	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ !== $dropped$)		:i $num_active_players$ = (%GLOBAL%$num_active_players$ + %i(1))	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i return $num_active_players$ = %GLOBAL%$num_active_players$	:i endfunction]Script freeplay_get_num_playing_players 0x8f599996 [	:i $GetMaxLocalPlayers$	:i $num_playing_players$ = %i(0)	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ = $playing$)		:i $num_playing_players$ = (%GLOBAL%$num_playing_players$ + %i(1))	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i return $num_playing_players$ = %GLOBAL%$num_playing_players$	:i endfunction]Script freeplay_get_first_active_player 0x8a53dcd4 [	:i $GetMaxLocalPlayers$	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ !== $dropped$)		:i return $player$ = %GLOBAL%$player$	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i return ${StructInt player = -1}$	:i endfunction]Script freeplay_get_next_active_player da5a0f6e [	${Unknown [0001240067e6859a6969696900000000]}$	:i $GetMaxLocalPlayers$	:i while 	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i if (%GLOBAL%$player$ > %GLOBAL%$max_players$)		:i return ${StructInt player = -1}$	:i endif	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ !== $dropped$)		:i return $player$ = %GLOBAL%$player$	:i endif	:i loop_to 	:i endfunction]Script freeplay_update_player_hiding 0x71e00571 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i switch %GLOBAL%$freeplay_state$		:i case $dropped$			:i $should_hide_comet$ = $true$			:i $should_hide_player$ = $true$			:i endcase		case $joining$			:i endcase		case $paused$			:i $should_hide_comet$ = $true$			:i $should_hide_player$ = $false$			:i endcase		case $playing$			:i $should_hide_comet$ = $false$			:i $should_hide_player$ = $false$	:i end_switch	:i if NOT $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $should_hide_comet$ = $true$	:i endif	:i if (~$cheat_performancemode$ = %i(1))		:i $should_hide_player$ = $true$	:i endif	:i if (%GLOBAL%$should_hide_player$ = $true$)		:i $freeplay_hide_player$$player$ = %GLOBAL%$player$	:i else 		:i $freeplay_unhide_player$$player$ = %GLOBAL%$player$	:i endif	:i if (%GLOBAL%$should_hide_comet$ = $true$)		:i $Vocals_SetPlayerHighwayIndex$$player$ = %GLOBAL%$player$$highway$ = %i(0)	:i else 		:i $Vocals_SetPlayerHighwayIndex$$player$ = %GLOBAL%$player$$highway$ = %i(1)	:i endif	:i endfunction]Script freeplay_hide_player b28e9281 [	${Unknown [0001240067e6859a6969696900000000]}$	:i if NOT $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $freeplay_hide_highway_hud$$player$ = %GLOBAL%$player$		:i $FormatText$$checksumname$ = $name$%s("highway_containerp%p")$p$ = %GLOBAL%$player$		:i $safe_hide$$id$ = %GLOBAL%$name$	:i else 		:i $getplayerinfo$%GLOBAL%$player$$combo_meter_id$		:i $safe_hide$$id$ = %GLOBAL%$combo_meter_id$	:i endif	:i endfunction]Script freeplay_unhide_player e17e244b [	${Unknown [0001240067e6859a6969696900000000]}$	:i if NOT $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $freeplay_show_highway_hud$$player$ = %GLOBAL%$player$		:i $FormatText$$checksumname$ = $name$%s("highway_containerp%p")$p$ = %GLOBAL%$player$		:i $safe_show$$id$ = %GLOBAL%$name$	:i else 		:i $getplayerinfo$%GLOBAL%$player$$combo_meter_id$		:i if (~$Cheat_HUDFreeMode$ !== %i(1))			:i $safe_show$$id$ = %GLOBAL%$combo_meter_id$		:i endif	:i endif	:i endfunction]Script freeplay_start_jump_player_in 0x71e9a4d8 [	${Unknown [0001240067e6859a696969690000001800012400b30d9965696969690000002800012600e4bdf7246969696900000000]}$	:i $SetPlayerInfo$%GLOBAL%$player$$interactive$ = %i(0)	:i $SetPlayerInfo$%GLOBAL%$player$$freeplay_state$ = $joining$	:i $GetControllerType$$controller$ = %GLOBAL%$controller$	:i if (%GLOBAL%$controller_type$ = $controller$)		:i if (~$allow_controller_for_all_instruments$ = %i(1))			:i $controller_type$ = $guitar$		:i else 			:i $controller_type$ = $Vocals$		:i endif	:i endif	:i $SetPlayerInfo$%GLOBAL%$player$$difficulty$ = $medium$	:i $SetPlayerInfo$%GLOBAL%$player$$double_kick_drum$ = %i(0)	:i if $ScreenElementExists$${StructQBKey id = freeplay_join_event_handler}$		:i $freeplay_join_event_handler$.$se_setprops$${StructQBKey block_events}$	:i endif	:i $freeplay_init_player$$player$ = %GLOBAL%$player$$new_part$ = %GLOBAL%$controller_type$$auto_join$ = %GLOBAL%$auto_join$	:i if $ScreenElementExists$${StructQBKey id = freeplay_join_event_handler}$		:i $freeplay_join_event_handler$.$se_setprops$${StructQBKey unblock_events}$	:i endif	:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $freeplay_update_vocalists_interactivity$${StructQBKey reason = vocalist_started_playing}$		:i $freeplay_update_primary_vocalist$$reason$ = $vocalist_joined$$player$ = %GLOBAL%$player$	:i endif	:i $freeplay_refresh_UI_setup$	:i $toggleBotDebugWidget$${StructQBKey action = Off}$	:i switch %GLOBAL%$controller_type$		:i case $guitar$			:i if $freeplay_condition_instrument$$player$ = %GLOBAL%$player$				:i $create_freeplay_instrument_menu$$player$ = %GLOBAL%$player$			:i else 				:i $create_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$$back_target$ = $dropped$			:i endif			:i endcase		case $drum$			:i $create_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$$back_target$ = $dropped$			:i endcase		case $Vocals$			:i $create_freeplay_mic_preference_menu$$player$ = %GLOBAL%$player$			:i endcase		default 			:i $scriptassert$^[971cd48d]^$s$ = %GLOBAL%$controller_type$	:i end_switch	:i endfunction]Script freeplay_instrument_jump_player_in 0x0b5e2298 [	${Unknown [0001240067e6859a696969690000001800012600c34096226969696900000000]}$	:i $destroy_freeplay_instrument_menu$$player$ = %GLOBAL%$player$	:i $freeplay_set_player_part$$player$ = %GLOBAL%$player$$part$ = %GLOBAL%$Instrument$	:i $create_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$$back_target$ = $Instrument$	:i endfunction]Script freeplay_mic_preference_jump_player_in 0x5371e859 [	${Unknown [0001240067e6859a696969690000001800012400c9428a08696969690000002800012600966ce6c36969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$bot_play$	:i if NOT (%GLOBAL%$bot_play$ = %i(1))		:i switch %GLOBAL%$mic_preference$			:i case $mic$				:i if NOT $freeplay_is_any_mic_free$					:i $UI_SFX$${						StructQBKey menustate = freeplay						StructQBKey uitype = negativeselect					}$										:i return 				:i endif				:i endcase			case $headset$				:i if NOT $controller_has_headset$$controller$ = %GLOBAL%$device_num$					:i $UI_SFX$${						StructQBKey menustate = freeplay						StructQBKey uitype = negativeselect					}$										:i return 				:i endif		:i end_switch	:i endif	:i $destroy_freeplay_mic_preference_menu$$player$ = %GLOBAL%$player$	:i $SetPlayerInfo$%GLOBAL%$player$$mic_type$ = $None$	:i $SetPlayerInfo$%GLOBAL%$player$$mic_preference$ = %GLOBAL%$mic_preference$	:i $vocals_distribute_mics$	:i $VocalsInput_ReinitMic$$player$ = %GLOBAL%$player$	:i $ui_options_audio_update_mic_volume$$player$ = %GLOBAL%$player$	:i if $freeplay_is_headset_allowed_for_vocals$		:i $create_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$$back_target$ = $mic$	:i else 		:i $create_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$$back_target$ = $dropped$	:i endif	:i endfunction]Script freeplay_finish_jump_player_in b32624cf [	${Unknown [0001240067e6859a696969690000001800012600449490106969696900000000]}$	:i $destroy_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$	:i $toggleBotDebugWidget$${StructQBKey action = on}$	:i if (%GLOBAL%$difficulty$ = $expert_plus$)		:i $SetPlayerInfo$%GLOBAL%$player$$double_kick_drum$ = %i(1)		:i $difficulty$ = $expert$	:i else 		:i $SetPlayerInfo$%GLOBAL%$player$$double_kick_drum$ = %i(0)	:i endif	:i $SetPlayerInfo$%GLOBAL%$player$$difficulty$ = %GLOBAL%$difficulty$	:i $SetPlayerInfo$%GLOBAL%$player$$freeplay_state$ = $playing$	:i if NOT $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $SetPlayerInfo$%GLOBAL%$player$$interactive$ = %i(1)		:i $getsongtimems$		:i $SetPlayerInfo$%GLOBAL%$player$$last_noninteractive_end_time$ = %GLOBAL%$time$	:i else 		:i $SetPlayerInfo$%GLOBAL%$player$$scoring$ = %i(1)		:i $freeplay_update_vocalists_interactivity$${StructQBKey reason = vocalist_started_playing}$	:i endif	:i $freeplay_refresh_UI_setup$	:i $PlayerSetVolume$$player$ = %GLOBAL%$player$$volume$ = %i(100)$include_drums$ = %i(1)	:i endfunction]Script freeplay_drop_player_out 0x62811b8a [	${Unknown [0001240067e6859a6969696900000000]}$	:i $spawnscriptnow$${StructQBKey audio_auto_mic_check}$	:i $SetPlayerInfo$%GLOBAL%$player$$interactive$ = %i(0)	:i $SetPlayerInfo$%GLOBAL%$player$$scoring$ = %i(0)	:i $SetPlayerInfo$%GLOBAL%$player$$freeplay_state$ = $dropped$	:i $freeplay_destroy_all_possible_menus$$player$ = %GLOBAL%$player$	:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $SetPlayerInfo$%GLOBAL%$player$$mic_type$ = $None$		:i $getplayerinfo$%GLOBAL%$player$$controller$		:i $Vocals_DeinitMic$$controller$ = %GLOBAL%$controller$		:i if $playerinfoequals$%GLOBAL%$player$$star_power_used$ = %i(1)			:i $star_power_deactivate$$player$ = %GLOBAL%$player$		:i endif		:i $freeplay_update_vocalists_interactivity$$reason$ = $vocalist_stopped_playing$$player$ = %GLOBAL%$player$		:i $freeplay_update_primary_vocalist$$reason$ = $vocalist_dropped$$player$ = %GLOBAL%$player$	:i endif	:i $WhammyFXOffAll$$player$ = %GLOBAL%$player$	:i $freeplay_refresh_UI_setup$	:i $freeplay_refresh_highway_positions$$old_guy$ = %GLOBAL%$player$	:i $freeplay_reset_hyperspeed$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_pause_player f8d23959 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $SetPlayerInfo$%GLOBAL%$player$$freeplay_state$ = $paused$	:i $toggleBotDebugWidget$${StructQBKey action = Off}$	:i if NOT $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $LaunchGemEvent$$event$ = $kill_objects_and_switch_player_non_interactive$$player$ = %GLOBAL%$player$	:i else 		:i $SetPlayerInfo$%GLOBAL%$player$$scoring$ = %i(0)		:i $freeplay_update_vocalists_interactivity$${StructQBKey reason = vocalist_stopped_playing}$	:i endif	:i $freeplay_refresh_UI_setup$	:i $WhammyFXOffAll$$player$ = %GLOBAL%$player$	:i $create_freeplay_pause_menu$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_resume_player 0x5e6ee292 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $SetPlayerInfo$%GLOBAL%$player$$freeplay_state$ = $playing$	:i $toggleBotDebugWidget$${StructQBKey action = on}$	:i if NOT $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $SetPlayerInfo$%GLOBAL%$player$$interactive$ = %i(1)		:i $getsongtimems$		:i $SetPlayerInfo$%GLOBAL%$player$$last_noninteractive_end_time$ = %GLOBAL%$time$	:i else 		:i $SetPlayerInfo$%GLOBAL%$player$$scoring$ = %i(1)		:i $freeplay_update_vocalists_interactivity$${StructQBKey reason = vocalist_started_playing}$	:i endif	:i $freeplay_refresh_UI_setup$	:i $PlayerSetVolume$$player$ = %GLOBAL%$player$$volume$ = %i(100)$include_drums$ = %i(1)	:i endfunction]Script freeplay_next_song a6505e50 [	${StructQBKey initial_song_list = false}$	:i if (%GLOBAL%$initial_song_list$ = $false$)		:i $spawnscriptnow$${StructQBKey audio_skip_song_in_freeplay_sfx}$		:i $Playlist_GetCurrentSong$		:i $freeplay$.$FreeplayUIStack_MarkSongAsPlayed$$song_name$ = %GLOBAL%$current_song$	:i endif	:i if (%GLOBAL%$initial_song_list$ = $true$)		:i $Playlist_Populate$${			StructInt play_list_size = 1			StructQBKey filter_songs_script = IsSongSelectable		}$			:i else 		:i $Playlist_Populate$${			StructInt play_list_size = 2			StructQBKey filter_songs_script = freeplay_filter_songs		}$			:i endif	:i $Playlist_SwitchToNextSong$	:i $Playlist_RemovePlayedSongs$	:i endfunction]Script freeplay_filter_songs ec68fac0 [	${		Unknown [00012600cc12115e6969696900000018]		StructInt panic = 0	}$		:i if (%GLOBAL%$panic$ = %i(1))		:i $freeplay$.$FreeplayUIStack_MarkOldestSongAsUnplayed$		:i return 	:i endif	:i if NOT $IsSongSelectable$$song$ = %GLOBAL%$song$		:i return ${StructQBKey false}$	:i else 		:i if $freeplay$.$FreeplayUIStack_IsSongPlayed$$song_name$ = %GLOBAL%$song$			:i return ${StructQBKey false}$		:i else 			:i return ${StructQBKey true}$		:i endif	:i endif	:i endfunction]Script freeplay_end_of_song 0x582fa6b0 [	:i $gamemode_gettype$	:i if NOT (%GLOBAL%$type$ = $freeplay$)		:i return 	:i endif	:i $freeplay_disable_menus$	:i $star_power_kill_highway_fx_immedately$${StructInt player = 1}$	:i $star_power_kill_highway_fx_immedately$${StructInt player = 2}$	:i $star_power_kill_highway_fx_immedately$${StructInt player = 3}$	:i $star_power_kill_highway_fx_immedately$${StructInt player = 4}$	:i $destroy_all_big_bolts$	:i $reset_all_touch_glow$	:i endfunction]Script freeplay_skip_song 0x84391d9c [	${Unknown [0001240067e6859a6969696900000000]}$	:i $UI_SFX$${		StructQBKey menustate = freeplay		StructQBKey uitype = select	}$		:i $spawnscriptnow$${StructQBKey audio_skip_song_in_freeplay_sfx}$	:i $freeplay_disable_menus$	:i $hide_glitch$${StructInt num_frames = 25}$	:i $kill_gem_scroller$${		StructQBKey restarting		StructQBKey freeplay_visualizer_hack	}$		:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $freeplay_resume_player$$player$ = %GLOBAL%$player$	:i $freeplay_next_song$	:i $freeplay_end_of_song$	:i $change$${StructInt gameplay_restart_song = 1}$	:i $change$${StructInt gameplay_loading_transition = 1}$	:i $generic_event_back$${StructQBKey state = UIState_Gameplay}$	:i endfunction]Script freeplay_restart_song a69a0de7 [	${Unknown [0001240067e6859a6969696900000000]}$	:i if NOT $GotParam$${StructQBKey no_sound}$		:i $UI_SFX$${			StructQBKey menustate = freeplay			StructQBKey uitype = select		}$			:i endif	:i $stoprendering$	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $freeplay_resume_player$$player$ = %GLOBAL%$player$	:i $freeplay_end_of_song$	:i $change$${StructInt gameplay_restart_song = 1}$	:i $generic_event_back$${StructQBKey state = UIState_Gameplay}$	:i endfunction]Script freeplay_change_venue ba6e81ec [	${Unknown [0001240067e6859a6969696900000018000126005f143ff86969696900000000]}$	:i $UI_SFX$${		StructQBKey menustate = freeplay		StructQBKey uitype = select	}$		:i $spawnscriptnow$${StructQBKey audio_crowd_kill_quiet_crowd_one_shots}$	:i $spawnscriptnow$${StructQBKey audio_quiet_crowd_quickly_to_change_venue_freeplay}$	:i $PushDisableRendering$${		StructQBKey context = freeplay_venue_change		StructQBKey type = unchecked	}$		:i $change$$current_level$ = %GLOBAL%$zone$	:i $freeplay$.$FreeplayUIStack_ClearNumSongsSinceVenueChange$	:i $create_loading_screen$	:i $freeplay_restart_song$$player$ = %GLOBAL%$player$$no_sound$	:i endfunction]Script freeplay_set_player_part 0x3e21f0c0 [	${Unknown [0001240067e6859a696969690000001800012600b6f08f396969696900000000]}$	:i $printf$^[ad6a0e0d]^$i$ = %GLOBAL%$player$$p$ = %GLOBAL%$part$$channel$ = $persistent_band$	:i $SetPlayerInfo$%GLOBAL%$player$$part$ = %GLOBAL%$part$	:i $extendcrcplayer$$restart_gem_array_events$%GLOBAL%$player$$out$ = $event_type$	:i $broadcastevent$$type$ = %GLOBAL%$event_type$	:i $difficultyChange$$player$ = %GLOBAL%$player$	:i $usefourlanehighway$$player$ = %GLOBAL%$player$$reset$	:i $setup_instrument_stored_part$	:i $single_player_check_song_for_zero_difficulty$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_dropout_player_if_inactive 0x5f047fd5 [	:i $ResetTimeSinceLastInputInteraction$$player$ = %GLOBAL%$player$	:i while 	:i $wait$${		StructInt 5		StructQBKey seconds	}$		:i %GLOBAL%$dropout$ = %i(0)	:i if $playerinfoequals$%GLOBAL%$player$$freeplay_state$ = $dropped$		:i return 	:i endif	:i if NOT $GetTimeSinceLastInputInteraction$$player$ = %GLOBAL%$player$		:i return 	:i endif	:i if $playerinfoequals$%GLOBAL%$player$$freeplay_state$ = $paused$		:i if (%GLOBAL%$time_since_last_input_interaction$ > ~$freeplay_time_before_automatic_dropout_in_menu$)			:i %GLOBAL%$dropout$ = %i(1)		:i endif	:i endif	:i if $playerinfoequals$%GLOBAL%$player$$freeplay_state$ = $joining$		:i if (%GLOBAL%$time_since_last_input_interaction$ > ~$freeplay_time_before_automatic_dropout_in_menu$)			:i %GLOBAL%$dropout$ = %i(1)		:i endif	:i endif	:i if (%GLOBAL%$time_since_last_input_interaction$ > ~$freeplay_time_before_automatic_dropout$)		:i %GLOBAL%$dropout$ = %i(1)	:i endif	:i if (%GLOBAL%$dropout$ = %i(1))		:i $freeplay_drop_player_out$$player$ = %GLOBAL%$player$		:i return 	:i endif	:i loop_to 	:i endfunction]Script freeplay_init_player 0x2ab01808 [	${Unknown [0001240067e6859a696969690000001800012600421d3be4696969690000002800012600e4bdf7246969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $getplayerinfo$%GLOBAL%$player$$part$$out$ = $old_part$	:i if (%GLOBAL%$new_part$ !== $Vocals$)		:i $lefty_flip_part$ = %GLOBAL%$new_part$		:i if (%GLOBAL%$lefty_flip_part$ = $Bass$)			:i $lefty_flip_part$ = $guitar$		:i endif		:i $get_progression_instrument_user_option$$controller$ = %GLOBAL%$controller$$part$ = %GLOBAL%$lefty_flip_part$$option$ = %s("lefty_flip")		:i if (%GLOBAL%$user_option$ = %i(1))			:i $SetPlayerInfo$%GLOBAL%$player$$lefty_flip$ = %i(1)		:i else 			:i $SetPlayerInfo$%GLOBAL%$player$$lefty_flip$ = %i(0)		:i endif		:i $guitar_init_lefty_highway$$player$ = %GLOBAL%$player$	:i endif	:i $FormatText$$checksumname$ = $widget_context$%s("player%i_hud")$i$ = %GLOBAL%$player$	:i $DetachHudWidget$$context$ = %GLOBAL%$widget_context$	:i if (%GLOBAL%$old_part$ !== $Vocals$)		:i if (%GLOBAL%$new_part$ !== $Vocals$)			:i $freeplay_switch_player_normal_to_normal$$player$ = %GLOBAL%$player$$new_part$ = %GLOBAL%$new_part$		:i else 			:i $freeplay_switch_player_normal_to_vocals$$player$ = %GLOBAL%$player$$new_part$ = %GLOBAL%$new_part$		:i endif	:i else 		:i if (%GLOBAL%$new_part$ !== $Vocals$)			:i $freeplay_switch_player_vocals_to_normal$$player$ = %GLOBAL%$player$$new_part$ = %GLOBAL%$new_part$		:i else 			:i $freeplay_switch_player_vocals_to_vocals$$player$ = %GLOBAL%$player$$new_part$ = %GLOBAL%$new_part$		:i endif	:i endif	:i if (%GLOBAL%$auto_join$ = $false$)		:i $VocalsHighway_GetId$$player$ = %GLOBAL%$player$		:i $ResolveScreenElementID$$id$ = :s{%GLOBAL%$vocals_highway_id$$child$ = %i(0):s}$param$ = $root$		:i $safe_show$$id$ = %GLOBAL%$root$	:i endif	:i $freeplay_vocals_init_starpower$$player$ = %GLOBAL%$player$	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ = $joining$)		:i $freeplay_refresh_highway_positions$$new_guy$ = %GLOBAL%$player$	:i endif	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i %GLOBAL%$menu_parent$.$obj_killspawnedscript$$name$ = $freeplay_dropout_player_if_inactive$	:i %GLOBAL%$menu_parent$.$obj_spawnscript$$freeplay_dropout_player_if_inactive$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i %GLOBAL%$menu_parent$.$obj_killspawnedscript$$name$ = $freeplay_controller_pulling_observer$	:i %GLOBAL%$menu_parent$.$obj_spawnscript$$freeplay_controller_pulling_observer$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i $reset_score$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_add_player_server_input 0x4f48ec74 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $Playlist_GetCurrentSong$	:i $getplayerinfo$%GLOBAL%$player$$server_id$	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $get_song_prefix$$song$ = %GLOBAL%$current_song$	:i $FormatText$$checksumname$ = $guitar_stream$%s("%s_guitar")$s$ = %GLOBAL%$song_prefix$$addtostringlookup$ = $true$	:i $getplayerinfo$%GLOBAL%$player$$check_time_early$	:i $get_lag_values$	:i $input_offset$ = (~$time_input_offset$ - %GLOBAL%$audio_offset$)	:i $AddPlayerServerInput$:s{		:i $id$ = %GLOBAL%$server_id$		:i $player$ = %GLOBAL%$player$		:i $controller$ = %GLOBAL%$controller$		:i $guitar_stream$ = %GLOBAL%$guitar_stream$		:i $time_offset$ = ((%GLOBAL%$check_time_early$ * %f(1000.0)) + %GLOBAL%$input_offset$)		:i $song_name$ = %GLOBAL%$current_song$	:i :s}	:i $SetPlayerInfo$%GLOBAL%$player$$mic_type$ = $None$	:i endfunction]Script freeplay_add_player_server_highway 0x8343fd7a [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$server_id$	:i $easy_scroll_time$ = (~$difficulty_list_props$->$easy$->$scroll_time$)	:i $get_lag_values$	:i $gem_offset$ = (~$time_gem_offset$ - %GLOBAL%$video_offset$)	:i $fill_input_offset$ = (((%GLOBAL%$easy_scroll_time$ - ~$destroy_time$) * %i(1000)) + %GLOBAL%$gem_offset$ + %i(1000))	:i $CastToInteger$${StructQBKey fill_input_offset}$	:i $AddPlayerServerHighway$$id$ = %GLOBAL%$server_id$$player$ = %GLOBAL%$player$$create_highway_only$ = $true$$fill_input_offset$ = %GLOBAL%$fill_input_offset$	:i endfunction]Script freeplay_add_player_server_fretbar cd335507 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $Playlist_GetCurrentSong$	:i $getplayerinfo$%GLOBAL%$player$$server_id$	:i $getplayerinfo$%GLOBAL%$player$$scroll_time$	:i $AddPlayerServerFretbarIterator$:s{		:i $fretbar_id$ = $CreateFretbar$		:i $id$ = %GLOBAL%$server_id$		:i $player$ = %GLOBAL%$player$		:i $thin_fretbars$		:i $use_player_info_time_offset$		:i $fretbar_function$ = $create2dfretbar$		:i $skipleadin$ = (%GLOBAL%$scroll_time$ * %f(1000.0))		:i $song_name$ = %GLOBAL%$current_song$	:i :s}	:i endfunction]Script freeplay_switch_player_normal_to_normal 0x51c2098a [	${Unknown [0001240067e6859a696969690000001800012600421d3be46969696900000000]}$	:i $freeplay_set_player_part$$player$ = %GLOBAL%$player$$part$ = %GLOBAL%$new_part$	:i $RemovePlayerServerHighway$$player$ = %GLOBAL%$player$	:i $FormatText$$checksumname$ = $name$%s("highway_containerp%p")$p$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = %GLOBAL%$name$	:i $destroy_highway_hud$$player$ = %GLOBAL%$player$	:i $RemovePlayerServerInput$$player$ = %GLOBAL%$player$	:i $getplayerinfo$%GLOBAL%$player$$server_id$	:i $RemovePlayerServerFretbarIterator$$fretbar_id$ = $CreateFretbar$$id$ = %GLOBAL%$server_id$	:i $freeplay_add_player_server_fretbar$$player$ = %GLOBAL%$player$	:i $setup_highway$$player$ = %GLOBAL%$player$$skip_highway_move$ = $true$	:i $freeplay_add_player_server_highway$$player$ = %GLOBAL%$player$	:i $morph_scroll_speed$$player$ = %GLOBAL%$player$$difficulty$ = $medium$$blend_time$ = %i(0)	:i $freeplay_add_player_server_input$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_switch_player_vocals_to_vocals b0e4ea87 [	${Unknown [0001240067e6859a696969690000001800012600421d3be46969696900000000]}$	:i $RemovePlayerServerHighway$$player$ = %GLOBAL%$player$	:i $RemovePlayerServerInput$$player$ = %GLOBAL%$player$	:i $vocal_highway_hud_destroy_combo_meter$$player$ = %GLOBAL%$player$	:i $vocals_destroy_highway$$player$ = %GLOBAL%$player$	:i $freeplay_add_player_server_input$$player$ = %GLOBAL%$player$	:i $freeplay_add_player_server_highway$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_switch_player_normal_to_vocals 0x08b5ec86 [	${Unknown [0001240067e6859a696969690000001800012600421d3be46969696900000000]}$	:i $destroy_highway_hud$$player$ = %GLOBAL%$player$	:i $freeplay_set_player_part$$player$ = %GLOBAL%$player$$part$ = %GLOBAL%$new_part$	:i $RemovePlayerServerHighway$$player$ = %GLOBAL%$player$	:i $RemovePlayerServerInput$$player$ = %GLOBAL%$player$	:i $freeplay_add_player_server_input$$player$ = %GLOBAL%$player$	:i $getplayerinfo$%GLOBAL%$player$$server_id$	:i $RemovePlayerServerFretbarIterator$$fretbar_id$ = $CreateFretbar$$id$ = %GLOBAL%$server_id$	:i $FormatText$$checksumname$ = $name$%s("highway_containerp%p")$p$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = %GLOBAL%$name$	:i $freeplay_add_player_server_highway$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_switch_player_vocals_to_normal f0133cf1 [	${Unknown [0001240067e6859a696969690000001800012600421d3be46969696900000000]}$	:i $vocals_destroy_highway$$player$ = %GLOBAL%$player$	:i $freeplay_set_player_part$$player$ = %GLOBAL%$player$$part$ = %GLOBAL%$new_part$	:i $RemovePlayerServerHighway$$player$ = %GLOBAL%$player$	:i $RemovePlayerServerInput$$player$ = %GLOBAL%$player$	:i $vocal_highway_hud_destroy_combo_meter$$player$ = %GLOBAL%$player$	:i $freeplay_add_player_server_fretbar$$player$ = %GLOBAL%$player$	:i $setup_highway$$player$ = %GLOBAL%$player$$skip_highway_move$ = $true$	:i $freeplay_add_player_server_highway$$player$ = %GLOBAL%$player$	:i $morph_scroll_speed$$player$ = %GLOBAL%$player$$difficulty$ = $medium$$blend_time$ = %i(0)	:i $freeplay_add_player_server_input$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_refresh_highway_positions 0x6e35d24f [	${		StructInt new_guy = -1		StructInt old_guy = -1	}$		:i $GetMaxLocalPlayers$	:i if (%GLOBAL%$new_guy$ !== %i(4294967295))		:i $getplayerinfo$%GLOBAL%$new_guy$$part$$out$ = $new_guy_part$		:i $player$ = %i(1)		:i while 		:i if (%GLOBAL%$player$ = %GLOBAL%$new_guy$)			:i $freeplay_update_logical_position_for_jump_in$$player$ = %GLOBAL%$player$$new_guy$ = %i(1)		:i else 			:i $getplayerinfo$%GLOBAL%$player$$part$			:i $new_guy_highway_type_matches_player_highway$ = $false$			:i if (%GLOBAL%$new_guy_part$ = $Vocals$)				:i if (%GLOBAL%$part$ = $Vocals$)					:i $new_guy_highway_type_matches_player_highway$ = $true$				:i endif			:i else 				:i if (%GLOBAL%$part$ !== $Vocals$)					:i $new_guy_highway_type_matches_player_highway$ = $true$				:i endif			:i endif			:i if (%GLOBAL%$new_guy_highway_type_matches_player_highway$ = $true$)				:i $freeplay_update_logical_position_for_jump_in$$player$ = %GLOBAL%$player$$new_guy$ = %i(0)			:i endif		:i endif		:i $player$ = (%GLOBAL%$player$ + %i(1))		:i loop_to %GLOBAL%$max_players$	:i elseif (%GLOBAL%$old_guy$ !== %i(4294967295))		:i $getplayerinfo$%GLOBAL%$old_guy$$part$		:i if (%GLOBAL%$part$ !== $Vocals$)			:i $getplayerinfo$%GLOBAL%$old_guy$$highway_position$		:i else 			:i $getplayerinfo$%GLOBAL%$old_guy$$vocals_slot$		:i endif		:i $player$ = %i(1)		:i while 		:i $freeplay_update_logical_position_for_jump_out$$player$ = %GLOBAL%$player$$free_highway_position$ = %GLOBAL%$highway_position$$free_vocals_slot$ = %GLOBAL%$vocals_slot$		:i $player$ = (%GLOBAL%$player$ + %i(1))		:i loop_to %GLOBAL%$max_players$	:i endif	:i $force_highways_to_actual_positions$$new_guy$ = %GLOBAL%$new_guy$	:i endfunction]Script freeplay_update_logical_position_for_jump_in 0x1e2dcf1d [	${		StructInt new_guy = 0		Unknown [0001240067e6859a6969696900000000]	}$		:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i if (%GLOBAL%$new_guy$ = %i(1))		:i $freeplay_state$ = $new_guy$	:i endif	:i if NOT (%GLOBAL%$part$ = $Vocals$)		:i $freeplay_get_num_visible_highways$		:i $getplayerinfo$%GLOBAL%$player$$highway_position$		:i switch %GLOBAL%$freeplay_state$			:i case $dropped$				:i switch %GLOBAL%$num_highways$					:i case %i(1)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$						:i endcase					case %i(2)						:i endcase					case %i(3)						:i endcase					case %i(4)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $RIGHT$				:i end_switch				:i endcase			case $new_guy$				:i switch %GLOBAL%$num_highways$					:i case %i(1)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$						:i endcase					case %i(2)						:i endcase					case %i(3)						:i endcase					case %i(4)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $RIGHT$				:i end_switch				:i endcase			case $joining$				:i endcase			case $paused$				:i endcase			case $playing$				:i switch %GLOBAL%$num_highways$					:i case %i(1)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$						:i endcase					case %i(2)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $left$						:i endcase					case %i(3)						:i switch %GLOBAL%$highway_position$							:i case $RIGHT$								:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$								:i endcase							case $left$								:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $left$						:i end_switch						:i endcase					case %i(4)						:i switch %GLOBAL%$highway_position$							:i case $center$								:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $leftcenter$								:i endcase							case $RIGHT$								:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $rightcenter$								:i endcase							case $left$								:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $left$						:i end_switch				:i end_switch		:i end_switch	:i else 		:i $freeplay_get_num_active_vocalists$		:i $getplayerinfo$%GLOBAL%$player$$vocals_slot$		:i switch %GLOBAL%$freeplay_state$			:i case $dropped$				:i $SetPlayerInfo$%GLOBAL%$player$$vocals_slot$ = %i(0)				:i endcase			case $new_guy$				:i $SetPlayerInfo$%GLOBAL%$player$$vocals_slot$ = (%GLOBAL%$num_active_vocalists$ - %i(1))				:i endcase			case $joining$				:i endcase			case $paused$				:i endcase			case $playing$				:i $SetPlayerInfo$%GLOBAL%$player$$vocals_slot$ = %GLOBAL%$vocals_slot$		:i end_switch		:i $getplayerinfo$%GLOBAL%$player$$vocals_slot$		:i if (%GLOBAL%$vocals_slot$ < %i(0))			:i $dbreak$		:i endif	:i endif	:i endfunction]Script freeplay_update_logical_position_for_jump_out e279e247 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i if NOT (%GLOBAL%$part$ = $Vocals$)		:i if NOT $GotParam$${StructQBKey free_highway_position}$			:i return 		:i endif		:i $freeplay_get_num_visible_highways$		:i $getplayerinfo$%GLOBAL%$player$$highway_position$		:i switch %GLOBAL%$freeplay_state$			:i case $dropped$				:i switch %GLOBAL%$num_highways$					:i case %i(0)						:i endcase					case %i(1)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$						:i endcase					case %i(2)						:i endcase					case %i(3)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $RIGHT$				:i end_switch				:i endcase			case $joining$				:i endcase			case $paused$				:i endcase			case $playing$				:i switch %GLOBAL%$num_highways$					:i case %i(1)						:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$						:i endcase					case %i(2)						:i switch %GLOBAL%$free_highway_position$							:i case $left$								:i switch %GLOBAL%$highway_position$									:i case $center$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $left$								:i end_switch								:i endcase							case $RIGHT$								:i switch %GLOBAL%$highway_position$									:i case $center$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $RIGHT$								:i end_switch						:i end_switch						:i endcase					case %i(3)						:i switch %GLOBAL%$free_highway_position$							:i case $left$								:i switch %GLOBAL%$highway_position$									:i case $leftcenter$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $left$										:i endcase									case $rightcenter$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$								:i end_switch								:i endcase							case $RIGHT$								:i switch %GLOBAL%$highway_position$									:i case $leftcenter$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$										:i endcase									case $rightcenter$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $RIGHT$								:i end_switch								:i endcase							case $leftcenter$								:i switch %GLOBAL%$highway_position$									:i case $rightcenter$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$								:i end_switch								:i endcase							case $rightcenter$								:i switch %GLOBAL%$highway_position$									:i case $leftcenter$										:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$								:i end_switch						:i end_switch				:i end_switch		:i end_switch	:i else 		:i if NOT $GotParam$${StructQBKey free_vocals_slot}$			:i return 		:i endif		:i $freeplay_get_num_active_vocalists$		:i $getplayerinfo$%GLOBAL%$player$$vocals_slot$		:i switch %GLOBAL%$freeplay_state$			:i case $dropped$				:i $SetPlayerInfo$%GLOBAL%$player$$vocals_slot$ = %i(0)				:i endcase			case $joining$				:i endcase			case $paused$				:i endcase			case $playing$				:i if (%GLOBAL%$vocals_slot$ < %GLOBAL%$free_vocals_slot$)					:i $SetPlayerInfo$%GLOBAL%$player$$vocals_slot$ = %GLOBAL%$vocals_slot$				:i else 					:i $SetPlayerInfo$%GLOBAL%$player$$vocals_slot$ = (%GLOBAL%$vocals_slot$ - %i(1))				:i endif		:i end_switch		:i $getplayerinfo$%GLOBAL%$player$$vocals_slot$		:i if (%GLOBAL%$vocals_slot$ < %i(0))			:i $dbreak$		:i endif	:i endif	:i endfunction]Script force_highways_to_actual_positions 0x0ed932c6 [	${StructInt new_guy = -1}$	:i $GetMaxLocalPlayers$	:i $player$ = %i(1)	:i while 	:i $snap$ = $false$	:i if (%GLOBAL%$player$ = %GLOBAL%$new_guy$)		:i $snap$ = $true$	:i endif	:i $freeplay_update_actual_position$$player$ = %GLOBAL%$player$$snap$ = %GLOBAL%$snap$	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i endfunction]Script freeplay_update_actual_position 0x0872ba9f [	${		StructInt time = 0		StructInt ignore_scale = 0		StructQBKey snap = false		Unknown [0001240067e6859a6969696900000000]	}$		:i $Pos$ = %vec2(0.0,0.0)	:i $freeplay_get_num_visible_highways$	:i if (%GLOBAL%$num_highways$ < %i(1))		:i $num_highways$ = %i(1)	:i endif	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i if (%GLOBAL%$part$ = $Vocals$)		:i $getplayerinfo$%GLOBAL%$player$$vocals_slot$		:i $x_pos$ = ((~$vocal_player_vocals_slot_freeplay_params$:a{%GLOBAL%$vocals_slot$:a})->$x_pos$)		:i $getplayerinfo$%GLOBAL%$player$$combo_meter_id$		:i %GLOBAL%$combo_meter_id$.$getsingletag$$dest_x_pos$		:i if NOT (%GLOBAL%$dest_x_pos$ = $x_pos$)			:i %GLOBAL%$combo_meter_id$.$getsingletag$$curr_x_pos$			:i if (%GLOBAL%$snap$ = $false$)				:i $start_x_pos$ = %GLOBAL%$curr_x_pos$			:i else 				:i $start_x_pos$ = %GLOBAL%$x_pos$			:i endif			:i %GLOBAL%$combo_meter_id$.$settags$:s{				:i $start_x_pos$ = %GLOBAL%$start_x_pos$				:i $dest_x_pos$ = %GLOBAL%$x_pos$				:i $lerping_factor$ = %i(0)			:i :s}		:i endif	:i else 		:i $getplayerinfo$%GLOBAL%$player$$highway_position$		:i $highway_scale_chart$ = (~$highway_scale_chart$:a{%GLOBAL%$num_highways$ - %i(1):a})		:i $hw_x_scale$ = (%GLOBAL%$highway_scale_chart$->$hw_x_scale$)		:i $hw_y_scale$ = (%GLOBAL%$highway_scale_chart$->$hw_y_scale$)		:i $x_pos$ = (%GLOBAL%$highway_scale_chart$->%GLOBAL%$highway_position$->$x_pos$)		:i $y_pos$ = %i(0)		:i $extra_offset_factor$ = (%GLOBAL%$highway_scale_chart$->$extra_offset_factor$)		:i $FormatText$$checksumname$ = $container_id$%s("highway_containerp%p")$p$ = %GLOBAL%$player$		:i if $ScreenElementExists$$id$ = %GLOBAL%$container_id$			:i %GLOBAL%$container_id$.$getsingletag$$dest_x_pos$			:i if NOT (%GLOBAL%$dest_x_pos$ = $x_pos$)				:i %GLOBAL%$container_id$.$getsingletag$$curr_x_pos$				:i %GLOBAL%$container_id$.$getsingletag$$curr_y_pos$				:i %GLOBAL%$container_id$.$getsingletag$$curr_extra_offset_factor$				:i %GLOBAL%$container_id$.$getsingletag$$curr_x_scale$				:i %GLOBAL%$container_id$.$getsingletag$$curr_y_scale$				:i %GLOBAL%$container_id$.$getsingletag$$curr_heightoffsetfactor$				:i %GLOBAL%$container_id$.$getsingletag$$curr_heightoffsetexp$				:i $start_y_pos$ = %GLOBAL%$curr_y_pos$				:i if (%GLOBAL%$snap$ = $false$)					:i $start_x_pos$ = %GLOBAL%$curr_x_pos$					:i $start_extra_offset_factor$ = %GLOBAL%$curr_extra_offset_factor$					:i $start_x_scale$ = %GLOBAL%$curr_x_scale$					:i $start_y_scale$ = %GLOBAL%$curr_y_scale$					:i $start_heightoffsetfactor$ = %GLOBAL%$curr_heightoffsetfactor$					:i $start_heightoffsetexp$ = %GLOBAL%$curr_heightoffsetexp$				:i else 					:i $start_x_pos$ = %GLOBAL%$x_pos$					:i $start_extra_offset_factor$ = %GLOBAL%$extra_offset_factor$					:i $start_x_scale$ = %GLOBAL%$hw_x_scale$					:i $start_y_scale$ = %GLOBAL%$hw_y_scale$					:i $start_heightoffsetfactor$ = (%GLOBAL%$highway_scale_chart$->$perspectivefact$)					:i $start_heightoffsetexp$ = (%GLOBAL%$highway_scale_chart$->$perspectiveexp$)				:i endif				:i %GLOBAL%$container_id$.$settags$:s{					:i $start_x_pos$ = %GLOBAL%$start_x_pos$					:i $start_y_pos$ = %GLOBAL%$start_y_pos$					:i $start_extra_offset_factor$ = %GLOBAL%$start_extra_offset_factor$					:i $start_x_scale$ = %GLOBAL%$start_x_scale$					:i $start_y_scale$ = %GLOBAL%$start_y_scale$					:i $start_heightoffsetfactor$ = %GLOBAL%$start_heightoffsetfactor$					:i $start_heightoffsetexp$ = %GLOBAL%$start_heightoffsetexp$					:i $dest_x_pos$ = %GLOBAL%$x_pos$					:i $dest_y_pos$ = %GLOBAL%$y_pos$					:i $dest_extra_offset_factor$ = %GLOBAL%$extra_offset_factor$					:i $dest_x_scale$ = %GLOBAL%$hw_x_scale$					:i $dest_y_scale$ = %GLOBAL%$hw_y_scale$					:i $dest_heightoffsetfactor$ = (%GLOBAL%$highway_scale_chart$->$perspectivefact$)					:i $dest_heightoffsetexp$ = (%GLOBAL%$highway_scale_chart$->$perspectiveexp$)					:i $lerping_factor$ = %i(0)				:i :s}			:i endif		:i endif	:i endif	:i return $Pos$ = %GLOBAL%$Pos$	:i endfunction]Script freeplay_get_num_visible_highways 0x3358ce9e [	:i $GetMaxLocalPlayers$	:i $num_highways$ = %i(0)	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$part$	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i switch %GLOBAL%$freeplay_state$		:i case $joining$			:i endcase		case $paused$			:i endcase		case $playing$			:i if (%GLOBAL%$part$ !== $Vocals$)				:i $num_highways$ = (%GLOBAL%$num_highways$ + %i(1))			:i endif	:i end_switch	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i return $num_highways$ = %GLOBAL%$num_highways$	:i endfunction]Script freeplay_is_any_mic_free aadb5a4a [	:i $GetMaxLocalPlayers$	:i $idx$ = %i(0)	:i while 	:i $FormatText$$checksumname$ = $mic$%s("mic%i")$i$ = %GLOBAL%$idx$	:i if $IsMicrophonePluggedIn$$number$ = %GLOBAL%$idx$		:i $player$ = %i(1)		:i $mic_used$ = $false$		:i while 		:i if $playerinfoequals$%GLOBAL%$player$$mic_type$ = %GLOBAL%$mic$			:i $mic_used$ = $true$			:i continue		:i endif		:i $player$ = (%GLOBAL%$player$ + %i(1))		:i loop_to %GLOBAL%$max_players$		:i if (%GLOBAL%$mic_used$ = $false$)			:i return ${StructQBKey true}$		:i endif	:i endif	:i $idx$ = (%GLOBAL%$idx$ + %i(1))	:i loop_to %i(4)	:i return ${StructQBKey false}$	:i endfunction]Script freeplay_vocals_activate_star_power fbc58aa3 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $this_player$ = %GLOBAL%$player$	:i $GetNumPlayersInGame$${StructQBKey on_screen}$	:i $GetFirstPlayer$${StructQBKey on_screen}$	:i while 	:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$		:i $Vocals_GetActiveHighwayIndex$$player$ = %GLOBAL%$player$		:i if (%GLOBAL%$active_highway_index$ = %i(1))			:i $spawnscriptnow$$Create_Vocals_Star_Power_Effect$$params$ = :s{$player$ = %GLOBAL%$player$:s}		:i endif	:i endif	:i $GetNextPlayer$$player$ = %GLOBAL%$player$$on_screen$	:i loop_to %GLOBAL%$num_players_shown$	:i endfunction]Script freeplay_vocals_deactivate_star_power 0x469dba1a [	${Unknown [0001240067e6859a6969696900000000]}$	:i if $vocals_is_last_player_in_starpower_on_highway$$player$ = %GLOBAL%$player$		:i $spawnscriptnow$$Kill_Vocals_Star_Power_Effect$$params$ = :s{$player$ = %GLOBAL%$player$:s}		:i $this_player$ = %GLOBAL%$player$		:i $GetNumPlayersInGame$${StructQBKey on_screen}$		:i $GetFirstPlayer$${StructQBKey on_screen}$		:i while 		:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$			:i $Vocals_GetActiveHighwayIndex$$player$ = %GLOBAL%$player$			:i $spawnscriptnow$$Kill_Vocals_Star_Power_Effect$$params$ = :s{$player$ = %GLOBAL%$player$:s}		:i endif		:i $GetNextPlayer$$player$ = %GLOBAL%$player$$on_screen$		:i loop_to %GLOBAL%$num_players_shown$	:i endif	:i endfunction]Script freeplay_vocals_init_starpower 0x2cd50bfa [	${Unknown [0001240067e6859a6969696900000000]}$	:i $this_player$ = %GLOBAL%$player$	:i $GetNumPlayersInGame$${StructQBKey on_screen}$	:i $GetFirstPlayer$${StructQBKey on_screen}$	:i while 	:i if NOT (%GLOBAL%$player$ = %GLOBAL%$this_player$)		:i if $playerinfoequals$%GLOBAL%$player$$part$ = $Vocals$			:i if $playerinfoequals$%GLOBAL%$player$$star_power_used$ = %i(1)				:i $spawnscriptnow$$Create_Vocals_Star_Power_Effect$$params$ = :s{$player$ = %GLOBAL%$this_player$:s}				:i return 			:i endif		:i endif	:i endif	:i $GetNextPlayer$$player$ = %GLOBAL%$player$$on_screen$	:i loop_to %GLOBAL%$num_players_shown$	:i endfunction]Script freeplay_is_headset_allowed_for_vocals 0x5eeca430 [	:i if $IsXenonOrWinDX$		:i return ${StructQBKey true}$	:i else 		:i return ${StructQBKey false}$	:i endif	:i endfunction]Script freeplay_debounce_starpower 0x81cc4159 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $OnExitRun$$freeplay_debounce_starpower_exit$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i $settags$${StructQBKey freeplay_debounce_starpower_active}$	:i $wait$${		StructFloat 0.5		StructQBKey seconds	}$		:i endfunction]Script freeplay_debounce_starpower_exit edf6443c [	:i $SetPlayerInfo$%GLOBAL%$player$$star_power_usable$ = %i(1)	:i $removetags$${		StructArray 0x00000000		{			ArrayQBKey			[				freeplay_debounce_starpower_active			]		}	}$		:i endfunction]Script freeplay_debug_auto_drop_in_out 0x63228385 [	${StructFloat time = 0.30000001192092896}$	:i $ui_freeplay_jump_in$${StructInt device_num = 1}$	:i $wait$%GLOBAL%$time$$second$	:i $ui_freeplay_jump_in$${StructInt device_num = 0}$	:i $wait$%GLOBAL%$time$$second$	:i $ui_freeplay_jump_in$${StructInt device_num = 2}$	:i $wait$%GLOBAL%$time$$second$	:i $ui_freeplay_jump_in$${StructInt device_num = 3}$	:i $wait$%GLOBAL%$time$$second$	:i $LaunchEvent$${		StructQBKey type = pad_back		StructStruct Data		{			StructHeader			{				StructInt device_num = 1			}		}	}$		:i $wait$%GLOBAL%$time$$second$	:i $LaunchEvent$${		StructQBKey type = pad_back		StructStruct Data		{			StructHeader			{				StructInt device_num = 0			}		}	}$		:i $wait$%GLOBAL%$time$$second$	:i $LaunchEvent$${		StructQBKey type = pad_back		StructStruct Data		{			StructHeader			{				StructInt device_num = 2			}		}	}$		:i $wait$%GLOBAL%$time$$second$	:i $LaunchEvent$${		StructQBKey type = pad_back		StructStruct Data		{			StructHeader			{				StructInt device_num = 3			}		}	}$		:i endfunction]Script use_alternate_if_in_freeplay ee94d2c6 [	:i if (~$game_mode$ = $freeplay$)		:i return ${StructQBKey true}$	:i else 		:i return ${StructQBKey false}$	:i endif	:i endfunction]Script freeplay_unpause_sound a25c82e9 [	${StructQBKey freeplay_create = false}$	:i $UnMuteEffectSend$$slot$ = (~$venue_sendeffect_slot$)	:i $VocalDSPSetParams$${StructQBKey unmute_all}$	:i if (%GLOBAL%$freeplay_create$ = $false$)		:i $audio_gameplay_stop_sounds_for_killsong$${StructQBKey type = normal}$	:i endif	:i $UnpauseSoundsByBuss$${StructQBKey master}$	:i endfunction]Script freeplay_should_change_venues a0ea4307 [	:i $freeplay$.$FreeplayUIStack_GetNumSongsSinceVenueChange$	:i if (%GLOBAL%$num_songs_since_venue_change$ > ~$freeplay_num_songs_between_venue_changes$ - %i(2))		:i return ${StructQBKey true}$	:i else 		:i return ${StructQBKey false}$	:i endif	:i endfunction]Script freeplay_song_has_passed_last_fretbar 0x351feff1 [	${StructFloat buffer_time = 0.00}$	:i $Playlist_GetCurrentSong$	:i $GetTimeOfLastFretbar$$song_name$ = %GLOBAL%$current_song$	:i $getsongtimems$	:i $cutoff_time$ = (%GLOBAL%$time_of_last_fret$ - %GLOBAL%$buffer_time$)	:i if (%GLOBAL%$time$ > %GLOBAL%$cutoff_time$)		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]