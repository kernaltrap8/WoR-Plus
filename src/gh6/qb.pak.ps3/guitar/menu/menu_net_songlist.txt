Unknown [1c0000000000000000001f240000000000000000]Script net_songlist_leader_text 0x51218c93 [	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i $songlist$.$se_setprops$${StructFloat songlist_net_cont_alpha = 1.00}$		:i $songlist$.$se_setprops$${StructInt rank_capsule_alpha = 0}$		:i $gamemode_gettype$		:i if ((~$g_net_leader_player_num$) > %i(0) AND (%GLOBAL%$type$ = $career$ OR ((~$g_lobby_net_state$) = $net_private$)))			:i $getplayerinfo$(~$g_net_leader_player_num$)$gamertag$			:i %GLOBAL%$name$ = (~%GLOBAL%$gamertag$)			:i $songlist$.$se_setprops$$songlist_net_gamertag_text$ = %GLOBAL%$name$			:i $songlist$.$se_setprops$${StructFloat songlist_net_leader_alpha = 1.00}$		:i else 			:i $songlist$.$se_setprops$${StructFloat songlist_choices_left_cont_alpha = 1.00}$			:i $songlist$.$se_setprops$${StructFloat songlist_net_leader_alpha = 0.00}$		:i endif		:i $FormatText$$textname$ = $choices_text$^[48c6d14c]^$d$ = (~$g_num_local_song_picks$)		:i $songlist$.$se_setprops$$songlist_choices_left_text$ = %GLOBAL%$choices_text$	:i endif	:i endfunction]Script net_songlist_warning_msg fef054ee [	:i if (~$g_show_online_songlist_warning$ = %i(1))		:i $change$${StructInt g_show_online_songlist_warning = 0}$		:i $change$${StructInt g_songlist_warning_active = 1}$		:i if $ScreenElementExists$${StructQBKey id = current_menu}$			:i $LaunchEvent$${				StructQBKey type = unfocus				StructQBKey target = current_menu			}$					:i endif		:i if $IsPS3$			:i %GLOBAL%$popup_text$ = (~$g_online_songlist_warning_msg_ps3$)		:i else 			:i %GLOBAL%$popup_text$ = (~$g_online_songlist_warning_msg_xen$)		:i endif		:i $gamemode_gettype$		:i if (%GLOBAL%$type$ = $career$)			:i if ((~$g_net_leader_player_num$) > %i(0))				:i $getplayerinfo$(~$g_net_leader_player_num$)$gamertag$				:i %GLOBAL%$name$ = (~%GLOBAL%$gamertag$)			:i else 				:i %GLOBAL%$name$ = ^[00000000]^			:i endif			:i $FormatText$$textname$ = $heading_text$(~$g_online_career_sl_warning_title$)$s$ = %GLOBAL%$name$		:i else 			:i %GLOBAL%$heading_text$ = (~$g_online_songlist_warning_title$)		:i endif		:i if $ScreenElementExists$${StructQBKey id = dialog_box_container}$			:i if ((~$net_popup_active$) = %i(0))				:i $destroy_dialog_box$			:i else 				:i $printf$${StructQBStringQs 0x21d40163}$				:i return 			:i endif		:i endif		:i $CreateScreenElement$${			StructQBKey parent = songlist			StructQBKey id = online_songlist_warning			StructQBKey type = descinterface			StructString desc = "drop_message_box"			StructFloatX2 Pos			{				Floats [640.000, 360.000]			}			StructArray pos_anchor			{				ArrayQBKey				[					left					top				]			}			StructArray just			{				ArrayQBKey				[					center					center				]			}			StructInt z_priority = 100		}$				:i if $online_songlist_warning$.$desc_resolvealias$${				StructQBKey name = alias_msg_menu				StructQBKey param = msg_menu			}$						:i %GLOBAL%$msg_menu$.$se_setprops$$internal_just$ = :a{$center$$top$:a}			:i $CreateScreenElement$:s{				:i $parent$ = %GLOBAL%$msg_menu$				:i $type$ = $TextBlockElement$				:i $text$ = %GLOBAL%$heading_text$				:i $dims$ = %vec2(480.0,64.0)				:i $font$ = $fontgrid_text_a1$				:i $rgba$ = $GH6_gold_md$				:i $internal_just$ = :a{$center$$center$:a}				:i $fit_width$ = $scale each line if larger$				:i $fit_height$ = $scale down if larger$			:i :s}			:i $CreateScreenElement$:s{				:i $parent$ = %GLOBAL%$msg_menu$				:i $type$ = $TextBlockElement$				:i $text$ = %GLOBAL%$popup_text$				:i $dims$ = %vec2(600.0,200.0)				:i $font$ = $fontgrid_text_a1$				:i $rgba$ = $GH6_gold_md$				:i $internal_just$ = :a{$center$$center$:a}				:i $Scale$ = %vec2(0.75,0.75)				:i $fit_width$ = $wrap$				:i $fit_height$ = $scale down if larger$			:i :s}		:i endif		:i if $ScreenElementExists$${StructQBKey id = online_songlist_warning}$			:i $online_songlist_warning$.$obj_spawnscriptnow$${StructQBKey net_songlist_warning_msg_timer}$		:i else 			:i $scriptassert$${StructString 0x00000000 = "Failed creating dialog box"}$		:i endif	:i endif	:i endfunction]Script net_songlist_warning_msg_timer 0x44fdf3cb [	:i $OnExitRun$${StructQBKey net_songlist_warning_msg_end}$	:i $wait$${		StructFloat 5.00		StructQBKey seconds	}$		:i if $ScreenElementExists$${StructQBKey id = online_songlist_warning}$		:i $DestroyScreenElement$${StructQBKey id = online_songlist_warning}$	:i endif	:i $clean_up_user_control_helpers$	:i $change$${StructInt g_songlist_warning_active = 0}$	:i $songlist_create_default_user_control_helpers$${StructQBKey mode = playlist}$	:i if $ScreenElementExists$${StructQBKey id = current_menu}$		:i $current_menu$.$se_setprops$${StructQBKey unblock_events}$		:i $LaunchEvent$${			StructQBKey type = unfocus			StructQBKey target = current_menu		}$				:i $LaunchEvent$${			StructQBKey type = focus			StructQBKey target = current_menu			StructStruct Data			{				StructHeader				{					StructInt child_index = 0				}			}		}$			:i endif	:i endfunction]Script net_songlist_warning_msg_end d0cf7ef2 [	:i $change$${StructInt g_songlist_warning_active = 0}$	:i endfunction]Script net_get_songlist_player 0x67fc6ec5 [	:i %GLOBAL%$choosing_player$ = %i(1)	:i %GLOBAL%$is_local$ = %i(0)	:i $GetNumPlayersInGame$${StructQBKey local}$	:i if (%GLOBAL%$num_players$ > %i(0))		:i $GetFirstPlayer$${StructQBKey local}$		:i %GLOBAL%$choosing_player$ = %GLOBAL%$player$		:i while 		:i $getplayerinfo$%GLOBAL%$player$$net_obj_id$		:i if (~$online_song_choice_id$ = %GLOBAL%$net_obj_id$)			:i %GLOBAL%$choosing_player$ = %GLOBAL%$player$			:i %GLOBAL%$is_local$ = %i(1)		:i endif		:i $GetNextPlayer$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players$	:i endif	:i return $player$ = %GLOBAL%$choosing_player$$is_local$ = %GLOBAL%$is_local$	:i endfunction]Script net_career_songlist_back dfb51743 [	:i if $ishost$		:i $UI_SFX$${			StructQBKey menustate = generic			StructQBKey uitype = back		}$				:i $generic_event_back$${StructQBKey state = UIstate_quest_map}$		:i $SendStructure$${			StructQBKey callback = generic_event_back			StructStruct data_to_send			{				StructHeader				{					StructQBKey state = UIstate_quest_map				}			}		}$			:i else 		:i $SendStructure$${			StructQBKey callback = net_career_songlist_back			StructStruct data_to_send			{				StructHeader				{					StructQBKey None				}			}		}$			:i endif	:i endfunction]Script net_songlist_add_song a21dc6ba [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song			]		}		StructQBKey all	}$		:i if (~$g_num_local_song_picks$ > %i(0) AND ~$net_song_countdown$ = %i(0))		:i $change$$g_num_local_song_picks$ = (~$g_num_local_song_picks$ - %i(1))		:i if ((~$g_num_local_song_picks$) = %i(0))			:i $user_control_destroy_helper$${StructQBKey button = green}$			:i $songlist_disallow_jump$			:i $user_control_destroy_helper$${StructQBKey button = yellow}$			:i $songlist_disallow_sort$			:i $user_control_destroy_helper$${StructQBKey button = orange}$		:i endif		:i if $ishost$			:i $server_add_song$$song$ = %GLOBAL%$song$		:i else 			:i $SendStructure$$callback$ = $server_add_song$$data_to_send$ = :s{$song$ = %GLOBAL%$song$:s}		:i endif	:i endif	:i endfunction]Script server_add_song eaeabee2 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song			]		}		StructQBKey all	}$		:i if NOT $ScriptIsRunning$${StructQBKey host_randomize_playlist}$		:i if (~$net_song_countdown$ = %i(0))			:i $GetArraySize$(~$current_playlist$)			:i $SendStructure$$callback$ = $net_add_song_to_playlist$$data_to_send$ = :s{$song$ = %GLOBAL%$song$$playlist_index$ = %GLOBAL%$array_size$$spawn_script_now$:s}			:i $net_add_song_to_playlist$$song$ = %GLOBAL%$song$$playlist_index$ = %GLOBAL%$array_size$		:i endif	:i endif	:i endfunction]Script net_add_song_to_playlist 0x9d866ab0 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song				playlist_index			]		}		StructQBKey all	}$		:i $GetArraySize$(~$current_playlist$)	:i if (%GLOBAL%$array_size$ <= %GLOBAL%$playlist_index$)		:i $AddArrayElement$$array$ = (~$current_playlist$)$element$ = %GLOBAL%$song$	:i else 		:i $InsertArrayElement$$array$ = (~$current_playlist$)$element$ = %GLOBAL%$song$$index$ = %GLOBAL%$playlist_index$	:i endif	:i $change$$current_playlist$ = %GLOBAL%$array$	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i $songlist$.$obj_spawnscriptnow$${StructQBKey songlist_calculate_playlist_duration}$	:i endif	:i if NOT $ScriptIsRunning$${StructQBKey net_song_choosing_timer}$		:i $gamemode_gettype$		:i if NOT (%GLOBAL%$type$ = $career$)			:i if $ScreenElementExists$${StructQBKey id = songlist}$				:i $songlist$.$obj_spawnscriptnow$${StructQBKey net_song_choosing_timer}$			:i endif		:i endif	:i endif	:i $printf$${		StructQBKey channel = playlist		StructQBStringQs e233b640	}$		:i $printstruct$$channel$ = $playlist$(~$current_playlist$)	:i $printf$${		StructQBKey channel = playlist		StructQBStringQs cb943ab3	}$		:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i $extendcrc$%GLOBAL%$song$%s("_sl_item")$out$ = $item_id$	:i $get_ui_song_struct_items$$song$ = %GLOBAL%$song$$savegame$ = %GLOBAL%$savegame$	:i $songlist_is_song_in_playlist$$song$ = %GLOBAL%$song$	:i $FormatText$$textname$ = $pos_text$^[c31d83ea]^$i$ = (%GLOBAL%$playlist_index$ + %i(1))	:i if $ScreenElementExists$$id$ = %GLOBAL%$item_id$		:i %GLOBAL%$item_id$.$se_setprops$:s{			:i $in_playlist_pos_alpha$ = %f(1.0)			:i $in_playlist_pos_text$ = %GLOBAL%$pos_text$			:i $songlist_source_icon_alpha$ = %f(0.0)		:i :s}		:i %GLOBAL%$item_id$.$settags$$playlist_index$ = %GLOBAL%$playlist_index$	:i endif	:i $GetArraySize$${StructQBString current_playlist}$	:i if (%GLOBAL%$array_size$ > (~$g_songlist_mini_playlist_detail_items$))		:i $GetScreenElementChildren$${StructQBKey id = songlist_detail_mini_playlist_vmenu}$		:i $DestroyScreenElement$$id$ = (%GLOBAL%$children$:a{%i(0):a})	:i endif	:i if $ScreenElementExists$${StructQBKey id = songlist_detail_mini_playlist_vmenu}$		:i $CreateScreenElement$:s{			:i $type$ = $descinterface$			:i $desc$ = %s("songlist_detail_playlist_item")			:i $parent$ = $songlist_detail_mini_playlist_vmenu$			:i $songlist_item_text_text$ = (%GLOBAL%$ui_struct$->$song_title$)			:i $autosizedims$ = $true$			:i $in_playlist_pos_alpha$ = %f(1.0)			:i $in_playlist_pos_text$ = %GLOBAL%$pos_text$		:i :s}		:i %GLOBAL%$id$.$settags$$playlist_index$ = %GLOBAL%$playlist_index$	:i endif	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i %GLOBAL%$choices_left$ = (~$g_num_local_song_picks$)		:i if (%GLOBAL%$choices_left$ < %i(0))			:i %GLOBAL%$choices_left$ = %i(0)		:i endif		:i $FormatText$$textname$ = $choices_text$^[48c6d14c]^$d$ = %GLOBAL%$choices_left$		:i $songlist$.$se_setprops$$songlist_choices_left_text$ = %GLOBAL%$choices_text$	:i endif	:i $SoundEvent$${StructQBKey event = Audio_UI_Setlist_Select}$	:i endfunction]Script net_songlist_remove_song c9a6a0cd [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song			]		}		StructQBKey all	}$		:i if (~$net_song_countdown$ = %i(0))		:i if $ishost$			:i $server_remove_song$$song$ = %GLOBAL%$song$		:i else 			:i $SendStructure$$callback$ = $server_remove_song$$data_to_send$ = :s{$song$ = %GLOBAL%$song$:s}		:i endif	:i endif	:i endfunction]Script server_remove_song 0x1a7f358b [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song			]		}		StructQBKey all	}$		:i if (~$net_song_countdown$ = %i(0))		:i $SendStructure$$callback$ = $net_remove_song_from_playlist$$data_to_send$ = :s{$song$ = %GLOBAL%$song$$spawn_script_now$:s}		:i $net_remove_song_from_playlist$$song$ = %GLOBAL%$song$	:i endif	:i endfunction]Script net_remove_song_from_playlist 0x38686123 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song			]		}		StructQBKey all	}$		:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i $extendcrc$%GLOBAL%$song$%s("_sl_item")$out$ = $item_id$	:i $get_ui_song_struct_items$$song$ = %GLOBAL%$song$$savegame$ = %GLOBAL%$savegame$	:i $GetArraySize$(~$current_playlist$)	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i if ((~$current_playlist$):a{%GLOBAL%$i$:a} = %GLOBAL%$song$)			:i $songlist_item_remove_from_playlist_guts$$playlist_index$ = %GLOBAL%$i$$id$ = %GLOBAL%$item_id$$ui_struct$ = %GLOBAL%$ui_struct$			:i continue		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i if (~$g_net_leader_player_num$ !== %i(4294967295))		:i if $playerinfoequals$(~$g_net_leader_player_num$)$is_local_client$ = %i(1)			:i $change$$g_num_local_song_picks$ = (~$g_num_local_song_picks$ + %i(1))		:i endif	:i endif	:i endfunction]Script net_song_choosing_timer 0x49cc564c [	:i $i$ = %i(15)	:i $songlist$.$se_setprops$${		StructFloat net_watch_container_alpha = 1.00		StructFloat time = 0.5	}$		:i %GLOBAL%$break_out_index$ = %i(1)	:i while 	:i $GetNumPlayersInGame$	:i $GetArraySize$(~$current_playlist$)	:i if (%GLOBAL%$num_players$ <= %GLOBAL%$array_size$ AND %GLOBAL%$break_out_index$ = %i(1))		:i %GLOBAL%$break_out_index$ = (%GLOBAL%$i$ - %i(1))	:i endif	:i if (%GLOBAL%$i$ < %GLOBAL%$break_out_index$ OR %GLOBAL%$i$ < %i(1))		:i $net_songlist_prepare_for_final_countdown$		:i continue	:i endif	:i $FormatText$$textname$ = $msg$^[fd68af01]^$i$ = %GLOBAL%$i$	:i $songlist$.$se_setprops$$net_timer_text$ = %GLOBAL%$msg$	:i $i$ = (%GLOBAL%$i$ - %i(1))	:i $wait$${		StructInt 1		StructQBKey second	}$		:i loop_to 	:i if $ishost$		:i $host_randomize_playlist$	:i endif	:i endfunction]Script host_randomize_playlist e79b078f [	:i %GLOBAL%$randomized_playlist$ = :a{:a}	:i while 	:i $GetArraySize$(~$current_playlist$)	:i $getrandomvalue$$name$ = $index$$integer$$a$ = %i(0)$b$ = (%GLOBAL%$array_size$%i(4294967295))	:i $AddArrayElement$$array$ = %GLOBAL%$randomized_playlist$$element$ = (~$current_playlist$:a{%GLOBAL%$index$:a})	:i %GLOBAL%$randomized_playlist$ = %GLOBAL%$array$	:i %GLOBAL%$song$ = (~$current_playlist$:a{%GLOBAL%$index$:a})	:i %GLOBAL%$i$ = %i(0)	:i while 	:i if (%GLOBAL%$song$ = (~$current_playlist$:a{%GLOBAL%$i$:a}))		:i $RemoveArrayElement$$array$ = (~$current_playlist$)$index$ = %GLOBAL%$i$		:i $change$$current_playlist$ = %GLOBAL%$array$		:i if $ScreenElementExists$${StructQBKey id = songlist}$			:i $songlist$.$obj_spawnscriptnow$${StructQBKey songlist_calculate_playlist_duration}$		:i endif	:i else 		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))	:i endif	:i $GetArraySize$(~$current_playlist$)	:i if (%GLOBAL%$i$ >= %GLOBAL%$array_size$)		:i continue	:i endif	:i loop_to 	:i $GetArraySize$(~$current_playlist$)	:i if (%GLOBAL%$array_size$ <= %i(0))		:i continue	:i endif	:i loop_to 	:i $quickplay_choose_random_venue$	:i select(40,3,01 00 01 00 01 00) :OFFSET(0):OFFSET(1):OFFSET(2)	:POS(0) 	:i $name$ = $main$	:i 	:BREAKTO(3) 	:POS(1) $name$ = $Dream$	:i 	:BREAKTO(3) 	:POS(2) $name$ = $Temple$	:i 	:POS(3) 	:i $SendStructure$$callback$ = $net_set_randomized_playlist$$data_to_send$ = :s{$randomized_playlist$ = %GLOBAL%$randomized_playlist$$level_checksum$ = (~$current_level$)$host_rush_scene$ = %GLOBAL%$name$:s}	:i $net_set_randomized_playlist$$randomized_playlist$ = %GLOBAL%$randomized_playlist$$level_checksum$ = (~$current_level$)$host_rush_scene$ = %GLOBAL%$name$	:i endfunction]Script net_set_randomized_playlist 0x3ee8871c [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				level_checksum				randomized_playlist				host_rush_scene			]		}		StructQBKey all	}$		:i $change$$current_level$ = %GLOBAL%$level_checksum$	:i $change$$current_playlist$ = %GLOBAL%$randomized_playlist$	:i $change$$last_rush_selection$ = %GLOBAL%$host_rush_scene$	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i $songlist$.$obj_spawnscriptnow$${StructQBKey songlist_calculate_playlist_duration}$	:i endif	:i $Playlist_Clear$	:i $Playlist_AddSongArray$$song_array$ = (~$current_playlist$)	:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i if $ScreenElementExists$${StructQBKey id = songlist_detail_mini_playlist_vmenu}$		:i $DestroyScreenElement$${			StructQBKey id = songlist_detail_mini_playlist_vmenu			StructQBKey preserve_parent		}$				:i $GetArraySize$(~$current_playlist$)		:i if (%GLOBAL%$array_size$ > %i(0))			:i %GLOBAL%$i$ = %i(0)			:i %GLOBAL%$iters$ = %GLOBAL%$array_size$			:i if (%GLOBAL%$array_size$ > (~$g_songlist_mini_playlist_detail_items$))				:i %GLOBAL%$i$ = (%GLOBAL%$array_size$ - (~$g_songlist_mini_playlist_detail_items$))				:i %GLOBAL%$iters$ = (~$g_songlist_mini_playlist_detail_items$)			:i endif			:i while 			:i $get_ui_song_struct_items$$song$ = (~$current_playlist$:a{%GLOBAL%$i$:a})$savegame$ = %GLOBAL%$savegame$			:i $FormatText$$textname$ = $pos_text$^[c31d83ea]^$i$ = (%GLOBAL%$i$ + %i(1))			:i $CreateScreenElement$:s{				:i $type$ = $descinterface$				:i $desc$ = %s("songlist_detail_playlist_item")				:i $parent$ = $songlist_detail_mini_playlist_vmenu$				:i $songlist_item_text_text$ = (%GLOBAL%$ui_struct$->$song_title$)				:i $autosizedims$ = $true$				:i $in_playlist_pos_alpha$ = %f(1.0)				:i $in_playlist_pos_text$ = %GLOBAL%$pos_text$			:i :s}			:i %GLOBAL%$id$.$settags$$playlist_index$ = %GLOBAL%$i$			:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$iters$		:i endif	:i endif	:i if $ScreenElementExists$${StructQBKey id = SongList_detail}$		:i $SongList_detail$.$se_setprops$${StructQBStringQs songlist_detail_mini_playlist_text = 0x20eca3cb}$	:i endif	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i $change$${StructInt net_song_countdown = 1}$		:i $songlist$.$obj_spawnscriptlater$${StructQBKey songlist_countdown}$	:i endif	:i endfunction]Script net_songlist_continue d3e6edb8 [	:i $Playlist_Clear$	:i $Playlist_AddSong$$song$ = %GLOBAL%$song$	:i $change$${StructInt net_permision_to_select_song = 0}$	:i $quickplay_choose_random_venue$	:i $SendStructure$$callback$ = $net_songlist_continue_msg$$data_to_send$ = :s{$song_checksum$ = %GLOBAL%$song$$level_checksum$ = (~$current_level$):s}	:i if $ishost$		:i $change$${StructInt net_song_countdown = 1}$		:i if $ScreenElementExists$${StructQBKey id = songlist}$			:i $songlist$.$obj_spawnscriptlater$$songlist_countdown$$params$ = :s{$song_checksum$ = %GLOBAL%$song$:s}		:i endif	:i endif	:i endfunction]Script net_songlist_continue_msg dd75f76c [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song_checksum				level_checksum			]		}		StructQBKey all	}$		:i $spawnscriptnow$${StructQBKey destroy_songlist_song_preview}$	:i $Playlist_Clear$	:i $Playlist_AddSong$$song$ = %GLOBAL%$song_checksum$	:i $change$$last_song_played$ = %GLOBAL%$song_checksum$	:i $change$$current_level$ = %GLOBAL%$level_checksum$	:i if $ishost$		:i $SendStructure$$callback$ = $net_songlist_continue_msg$$data_to_send$ = :s{$song_checksum$ = %GLOBAL%$song_checksum$$level_checksum$ = (~$current_level$):s}	:i endif	:i $change$${StructInt net_song_countdown = 1}$	:i $ui_event_get_top$	:i if (%GLOBAL%$base_name$ = %s("online_quit_warning"))		:i $generic_event_back$	:i endif	:i $ui_event_wait_for_safe$	:i $wait_time$ = %i(0)	:i while 	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i continue	:i endif	:i if (%GLOBAL%$wait_time$ > %i(3))		:i continue	:i endif	:i $wait$${		StructFloat 1.00		StructQBKey seconds	}$		:i %GLOBAL%$wait_time$ = (%GLOBAL%$wait_time$ + %i(1))	:i loop_to 	:i $host_start_songlist_countdown$	:i endfunction]Script host_start_songlist_countdown 0x56206a74 [	:i if $ishost$		:i $SendStructure$${			StructQBKey callback = start_songlist_countdown			StructStruct data_to_send			{				StructHeader				{					StructQBKey None				}			}		}$				:i $start_songlist_countdown$	:i else 		:i $SendStructure$${			StructQBKey callback = host_start_songlist_countdown			StructStruct data_to_send			{				StructHeader				{					StructQBKey None				}			}		}$			:i endif	:i endfunction]Script start_songlist_countdown 0x1da4cfe2 [	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i $songlist$.$se_setprops$${			StructFloat net_watch_container_alpha = 1.00			StructFloat time = 0.5		}$				:i $gamemode_gettype$		:i if (%GLOBAL%$type$ = $career$)			:i $Playlist_Clear$			:i $Playlist_AddSongArray$$song_array$ = (~$current_playlist$)		:i endif		:i $change$${StructInt net_song_countdown = 1}$		:i $songlist$.$obj_spawnscriptlater$$songlist_countdown$$params$ = :s{$song_checksum$ = %GLOBAL%$song_checksum$:s}	:i endif	:i endfunction]Script net_songlist_prepare_for_final_countdown b9a02360 [	:i $change$${StructInt net_song_countdown = 1}$	:i $ui_event_wait_for_safe$	:i %GLOBAL%$go_back$ = %i(0)	:i $ui_event_get_top$	:i if (%GLOBAL%$base_name$ = %s("online_quit_warning"))		:i %GLOBAL%$go_back$ = %i(1)	:i endif	:i if $ui_event_exists_in_stack$${StructString name = "songlist_options"}$		:i %GLOBAL%$go_back$ = %i(1)	:i endif	:i if (%GLOBAL%$go_back$ = %i(1))		:i $ui_event$${			StructQBKey event = menu_back			StructQBKey state = UIState_songlist		}$				:i $ui_event_wait_for_safe$	:i endif	:i $user_control_destroy_helper$${StructQBKey button = green}$	:i $user_control_destroy_helper$${StructQBKey button = red}$	:i if (~$game_mode$ !== $fest_mode$ AND ~$game_mode$ !== $fest_mode_team$)		:i $GMan_ShutDownGameModeGoal$		:i $GMan_StartGameModeGoal$	:i endif	:i $disable_pause$	:i $songlist_disallow_jump$	:i $user_control_destroy_helper$${StructQBKey button = yellow}$	:i $songlist_disallow_sort$	:i $user_control_destroy_helper$${StructQBKey button = orange}$	:i endfunction]Script songlist_countdown 0x5ff8592b [	:i $i$ = %i(5)	:i while 	:i if (%GLOBAL%$i$ < %i(0))		:i continue	:i endif	:i $FormatText$$textname$ = $msg$^[fd68af01]^$i$ = %GLOBAL%$i$	:i if $ScreenElementExists$${StructQBKey id = songlist}$		:i $songlist$.$se_setprops$$net_timer_text$ = %GLOBAL%$msg$	:i endif	:i $i$ = (%GLOBAL%$i$ - %i(1))	:i $wait$${		StructInt 1		StructQBKey second	}$		:i loop_to 	:i if (~$game_mode$ = $fest_mode$ OR ~$game_mode$ = $fest_mode_team$)		:i $display_competitive_rules_voting$${StructQBKey voting_callback = net_songlist_voting_callback}$	:i elseif $ishost$		:i $host_proceed_to_online_play$	:i endif	:i endfunction]Script net_songlist_voting_callback b1a8eef6 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				result			]		}		StructQBKey all	}$		:i $printf$${StructQBStringQs feb1b8e0}$	:i if $ishost$		:i $change$$competitive_rules$ = %GLOBAL%$result$		:i $GMan_ShutDownGameModeGoal$		:i $GMan_StartGameModeGoal$		:i $SendStructure$$callback$ = $net_set_competitive_rules$$data_to_send$ = :s{$competitive_rules$ = %GLOBAL%$result$$loading_screen$ = %i(1):s}		:i $venue$ = (~$current_level$)		:i if $StructureContains$$structure$ = (~$LevelZones$->%GLOBAL%$venue$)$name$ = $loading_movie$			:i $create_venue_loading_screen$$movie_params$ = (~$LevelZones$->%GLOBAL%$venue$)		:i else 			:i $create_loading_screen$		:i endif	:i endif	:i $ui_event_get_top$	:i if (%GLOBAL%$base_name$ = %s("online_quit_warning"))		:i $ui_event$${StructQBKey event = menu_back}$		:i $ui_event_wait_for_safe$	:i endif	:i if $ishost$		:i $host_proceed_to_online_play$	:i endif	:i endfunction]Script net_set_competitive_rules 0x2ecf6a34 [	:i $printf$${StructQBStringQs 0x90c91c39}$	:i $change$$competitive_rules$ = %GLOBAL%$competitive_rules$	:i $GMan_ShutDownGameModeGoal$	:i $GMan_StartGameModeGoal$	:i if (%GLOBAL%$loading_screen$ = %i(1))		:i $venue$ = (~$current_level$)		:i if $StructureContains$$structure$ = (~$LevelZones$->%GLOBAL%$venue$)$name$ = $loading_movie$			:i $create_venue_loading_screen$$movie_params$ = (~$LevelZones$->%GLOBAL%$venue$)		:i else 			:i $create_loading_screen$		:i endif	:i endif	:i endfunction]Script songlist_drop_player 0x91fd3bb4 [	${StructQBKey parent = songlist}$	:i $printf$${StructQBStringQs 0x76fc47f7}$	:i if $ScreenElementExists$$id$ = %GLOBAL%$parent$		:i $net_generic_drop_player$$parent$ = %GLOBAL%$parent$ isNull 	:i else 		:i $net_generic_drop_player$ isNull 	:i endif	:i endfunction]Script songlist_end_game 0x4b1057d2 [	:i $printf$${StructQBStringQs fb089051}$	:i $printstruct$ isNull 	:i if ((%GLOBAL%$is_game_over$ = %i(1)) AND (~$net_popup_active$ = %i(0)))		:i if $ScreenElementExists$${StructQBKey id = NetDroppedInterface}$			:i $DestroyScreenElement$${StructQBKey id = NetDroppedInterface}$		:i endif		:i $wait_for_safe_shutdown$		:i $KillSpawnedScript$${StructQBKey name = songlist_countdown}$		:i $KillSpawnedScript$${StructQBKey name = net_song_choosing_timer}$		:i if $ScreenElementExists$${StructQBKey id = current_menu}$			:i $LaunchEvent$${				StructQBKey type = unfocus				StructQBKey target = current_menu			}$					:i endif		:i $create_net_popup$${			StructQBStringQs Title = 0x5ca2c535			StructQBStringQs popup_text = 0x32f94482		}$				:i if $ScreenElementExists$${StructQBKey id = dialog_box_desc_id}$			:i $dialog_box_desc_id$.$obj_spawnscriptnow$${				StructQBKey songlist_end_game_spawned				StructQBKey id = not_ui_player_drop_scripts			}$					:i endif	:i endif	:i $printf$${StructQBStringQs dcfda8f0}$	:i endfunction]Script songlist_end_game_spawned df06f1d5 [	:i $printf$${StructQBStringQs 0x462a2120}$	:i $wait$${		StructInt 3		StructQBKey seconds	}$		:i $destroy_net_popup$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $band_lobby_restore_prematchmaking_settings$	:i $quit_network_game_early$	:i $generic_event_back$${StructQBKey state = uistate_band_lobby}$	:i $printf$${StructQBStringQs b4381a1f}$	:i endfunction]