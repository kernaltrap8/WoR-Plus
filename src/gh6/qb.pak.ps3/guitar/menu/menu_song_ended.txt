Unknown [1c0000000000000000000a480000000000000000]Script create_song_ended_menu 0x41f37d21 [	${StructInt player = 1}$	:i $Playlist_GetCurrentSong$	:i $Stopsoundsbybuss$${StructQBKey Encore_Events}$	:i if $IsMoviePlaying$${StructInt textureslot = 1}$		:i $PauseMovie$${StructInt textureslot = 1}$	:i endif	:i $disable_pause$	:i $completion$ = %i(0)	:i $SongFileManager$$func$ = $get_song_end_time$$song_name$ = %GLOBAL%$current_song$	:i $getsongtimems$	:i if (%GLOBAL%$time$ < %i(0))		:i $time$ = %i(0)	:i elseif (%GLOBAL%$time$ > %GLOBAL%$total_end_time$)		:i $time$ = %GLOBAL%$total_end_time$	:i endif	:i if (~$game_mode$ = $practice$)		:i $completion$ = (~$practice_current_percentage$)	:i else 		:i if (%GLOBAL%$total_end_time$ > %i(0))			:i $completion$ = (%i(100) * %GLOBAL%$time$ / %GLOBAL%$total_end_time$)		:i endif	:i endif	:i $CastToInteger$${StructQBKey completion}$	:i $GetFirstPlayer$	:i $getplayerinfo$%GLOBAL%$player$$difficulty$	:i $get_difficulty_text_upper$$difficulty$ = %GLOBAL%$difficulty$	:i $get_song_title$$song$ = %GLOBAL%$current_song$	:i $GetUpperCaseString$%GLOBAL%$song_title$	:i $FormatText$$textname$ = $completion_text$^[76b3fda7]^$d$ = %GLOBAL%$completion$	:i %GLOBAL%$Title$ = ^[1c640654]^	:i if (~$game_mode$ = $practice$)		:i %GLOBAL%$text$ = ^[f7723015]^		:i %GLOBAL%$func$ = $generic_event_back$	:i else 		:i %GLOBAL%$text$ = ^[647b5a84]^		:i %GLOBAL%$func$ = $song_ended_menu_select_new_song$	:i endif	:i if NOT $InInternetMode$		:i $popup_options$ = :a{			:i :s{				:i $func$ = %GLOBAL%$func$				:i $text$ = %GLOBAL%$text$			:i :s}		:i :a}	:i else 		:i $popup_options$ = :a{:a}	:i endif	:i $gamemode_gettype$	:i if (~$game_mode$ = $practice$)		:i if (~$came_to_practice_from$ = $main_menu$)			:i %GLOBAL%$new_song_option$ = :s{				:i $func$ = $song_ended_menu_select_new_song$				:i $text$ = ^[3e482764]^			:i :s}			:i $AddArrayElement$$array$ = %GLOBAL%$popup_options$$element$ = %GLOBAL%$new_song_option$			:i %GLOBAL%$popup_options$ = %GLOBAL%$array$		:i else 			:i if (~$came_to_practice_from$ = $quickplay$)				:i %GLOBAL%$new_song_option$ = :s{					:i $func$ = $song_ended_menu_select_back_to_game$					:i $text$ = ^[8e0b35a0]^				:i :s}				:i $AddArrayElement$$array$ = %GLOBAL%$popup_options$$element$ = %GLOBAL%$new_song_option$				:i %GLOBAL%$popup_options$ = %GLOBAL%$array$			:i endif		:i endif	:i else 		:i if (%GLOBAL%$type$ = $career$)			:i %GLOBAL%$new_song_option$ = :s{				:i $func$ = $song_ended_menu_select_new_song$				:i $text$ = ^[8e19f799]^			:i :s}		:i else 			:i if NOT $DemoBuild$				:i %GLOBAL%$new_song_option$ = :s{					:i $func$ = $quickplay_select_edit_playlist$					:i $text$ = ^[a8f207af]^				:i :s}				:i $AddArrayElement$$array$ = %GLOBAL%$popup_options$$element$ = %GLOBAL%$new_song_option$				:i %GLOBAL%$popup_options$ = %GLOBAL%$array$			:i endif			:i %GLOBAL%$new_song_option$ = :s{				:i $func$ = $song_ended_menu_select_new_song$				:i $text$ = ^[3e482764]^			:i :s}		:i endif		:i $AddArrayElement$$array$ = %GLOBAL%$popup_options$$element$ = %GLOBAL%$new_song_option$		:i %GLOBAL%$popup_options$ = %GLOBAL%$array$	:i endif	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $quickplay$)		:i if NOT $ui_event_exists_in_stack$${StructString name = "jam"}$			:i $GetArraySize$${StructQBString current_playlist}$			:i if (%GLOBAL%$array_size$ > %i(1))				:i %GLOBAL%$skip_song_option$ = :s{					:i $func$ = $quickplay_skip_song$					:i $text$ = ^[ef74f7d2]^				:i :s}				:i $AddArrayElement$$array$ = %GLOBAL%$popup_options$$element$ = %GLOBAL%$skip_song_option$				:i %GLOBAL%$popup_options$ = %GLOBAL%$array$			:i endif		:i endif	:i endif	:i %GLOBAL%$quit_option$ = :s{		:i $func$ = $song_ended_menu_select_quit$		:i $text$ = ^[67d9c56d]^	:i :s}	:i $AddArrayElement$$array$ = %GLOBAL%$popup_options$$element$ = %GLOBAL%$quit_option$	:i %GLOBAL%$popup_options$ = %GLOBAL%$array$	:i if (~$game_mode$ = $practice$)		:i $create_dialog_box$:s{			:i $template$ = $fail_song$			:i $heading_text$ = %GLOBAL%$Title$			:i $player_device$ = (~$last_start_pressed_device$)			:i $no_background$			:i $options$ = %GLOBAL%$popup_options$			:i $fail_song_props_prac$ = :s{				:i $song_title$ = %GLOBAL%$uppercasestring$				:i $percent_text$ = %GLOBAL%$completion_text$				:i $difficulty_text$ = %GLOBAL%$difficulty_text$			:i :s}		:i :s}	:i else 		:i $create_dialog_box$:s{			:i $template$ = $fail_song$			:i $heading_text$ = %GLOBAL%$Title$			:i $player_device$ = %GLOBAL%$exclusive_device$			:i $no_background$			:i $options$ = %GLOBAL%$popup_options$			:i $fail_song_props$ = :s{				:i $song_title$ = %GLOBAL%$uppercasestring$				:i $percent_text$ = %GLOBAL%$completion_text$				:i $difficulty_text$ = %GLOBAL%$difficulty_text$			:i :s}		:i :s}	:i endif	:i endfunction]Script destroy_song_ended_menu 0x35982b3a [	:i $audio_gameplay_fail_song_stop_sounds$	:i if $IsMoviePlaying$${StructInt textureslot = 1}$		:i $ResumeMovie$${StructInt textureslot = 1}$	:i endif	:i $destroy_dialog_box$	:i endfunction]Script song_ended_menu_select_retry_song c9c864ee [	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = select	}$		:i $generic_event_back$${StructQBKey state = UIState_Gameplay}$	:i $spawnscriptnow$${StructQBKey restart_song}$	:i endfunction]Script quickplay_select_edit_playlist dfb9038b [	:i $songlist_remove_first_song_in_playlist$	:i $audio_stopping_sounds_killsong_lite$	:i $PushDisableRendering$${		StructQBKey context = going_into_songlist		StructQBKey type = unchecked	}$		:i $generic_event_back$${		StructQBKey nosound		StructQBKey state = UIState_songlist	}$		:i endfunction]Script quickplay_select_new_playlist 0x5817157f [	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = select	}$		:i $songlist_clear_playlist$	:i $PushDisableRendering$${		StructQBKey context = going_into_songlist		StructQBKey type = unchecked	}$		:i $generic_event_back$${		StructQBKey state = UIState_songlist		StructStruct Data		{			StructHeader			{				StructQBKey mode = playlist			}		}	}$		:i endfunction]Script quickplay_select_new_song bc8ed8b5 [	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = select	}$		:i $songlist_clear_playlist$	:i $PushDisableRendering$${		StructQBKey context = going_into_songlist		StructQBKey type = unchecked	}$		:i $generic_event_back$${		StructQBKey state = UIState_songlist		StructStruct Data		{			StructHeader			{				StructQBKey mode = play_song			}		}	}$		:i endfunction]Script song_ended_menu_select_new_song f11d1923 [	:i $end_practice_song_slomo$	:i if (~$practice_enabled$ = %i(1))		:i $reset_practice_mode$		:i $UI_SFX$${			StructQBKey menustate = generic			StructQBKey uitype = select		}$				:i $PushDisableRendering$${			StructQBKey context = going_into_songlist			StructQBKey type = unchecked		}$				:i $ui_event$$event$ = $menu_back$$state$ = $UIState_songlist$$player$ = %GLOBAL%$player$		:i return 	:i endif	:i if $is_current_song_a_jam_session$		:i $songlist_clear_playlist$		:i if $ui_event_exists_in_stack$${StructString name = "jam"}$			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = select			}$						:i $generic_event_back$$state$ = $UIstate_jam_select_song$$player$ = %GLOBAL%$player$$Data$ = :s{$show_popup$ = %i(0):s}		:i elseif $ui_event_exists_in_stack$${StructString name = "songlist"}$			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = select			}$						:i $PushDisableRendering$${				StructQBKey context = going_into_songlist				StructQBKey type = unchecked			}$						:i $generic_event_back$$state$ = $UIState_songlist$$player$ = %GLOBAL%$player$		:i endif	:i else 		:i $songlist_clear_playlist$		:i $gamemode_gettype$		:i if (%GLOBAL%$type$ = $quickplay$)			:i $quickplay_unload_challenges$		:i endif		:i if $ui_event_exists_in_stack$${StructString name = "songlist"}$			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = select			}$						:i $PushDisableRendering$${				StructQBKey context = going_into_songlist				StructQBKey type = unchecked			}$						:i $generic_event_back$$state$ = $UIState_songlist$$player$ = %GLOBAL%$player$$Data$ = :s{$keep_current_level$:s}			:i return 		:i endif		:i $scriptassert$${StructString 0x00000000 = "Singleplayer hub no longer exists"}$	:i endif	:i endfunction]Script song_ended_menu_select_quit 0x1bec01ac [	:i if (~$game_mode$ = $practice$)		:i $reset_practice_mode$		:i $shut_down_practice_mode$		:i if (~$came_to_practice_from$ !== $main_menu$)			:i $change$$game_mode$ = (~$came_to_practice_from$)		:i endif		:i $UI_SFX$${			StructQBKey menustate = generic			StructQBKey uitype = select		}$				:i $persistent_band_stop_and_unload_anims$		:i $songlist_clear_playlist$		:i $generic_event_back$${StructQBKey state = uistate_mainmenu}$		:i return 	:i endif	:i if (~$is_network_game$ = %i(1))		:i if NOT $GotParam$${StructQBKey use_quit_early}$			:i $quit_network_game$		:i else 			:i $quit_network_game_early$		:i endif	:i endif	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $career$)		:i if (~$calibrate_lag_enabled$ = %i(1))			:i $calibrate_highway_shutdown$			:i $career_song_ended_select_quit$${StructInt no_render = 1}$		:i else 			:i $career_song_ended_select_quit$		:i endif		:i $songlist_clear_playlist$	:i endif	:i $GMan_ShutDownAllGoals$	:i $songlist_clear_playlist$	:i if $ui_event_exists_in_stack$${StructString name = "jam"}$		:i $ui_memcard_autosave_replace$${StructQBKey state = UIstate_jam}$	:i else 		:i %GLOBAL%$state$ = $uistate_mainmenu$		:i if $GotParam$${StructQBKey Data}$			:i if $StructureContains$$structure$ = %GLOBAL%$Data$$BandLobby$				:i %GLOBAL%$state$ = $uistate_band_lobby$			:i endif		:i endif		:i $ui_memcard_autosave_all_players$$memcard_event$ = $menu_replace$$state$ = %GLOBAL%$state$	:i endif	:i endfunction]Script song_ended_menu_select_back_to_game 0x8f69d0c8 [	:i $change$${StructInt songtime_paused = 0}$	:i $change$${StructInt practice_enabled = 0}$	:i $change$$game_mode$ = (~$came_to_practice_from$)	:i $shut_down_practice_mode$	:i $audio_stopping_sounds_killsong_lite$	:i $GMan_StartGameModeGoal$	:i $end_practice_song_slomo$	:i $return_to_quickplay_from_practice$	:i endfunction]