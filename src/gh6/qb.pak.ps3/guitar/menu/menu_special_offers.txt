Unknown [1c00000000000000000007480000000000000000]SectionInteger import_download_content_list_finished 1Script menu_special_offers_deinit 0x65835b07 [	:i if $ScriptIsRunning$${StructQBKey menu_special_offers_setup}$		:i $KillSpawnedScript$${StructQBKey name = menu_special_offers_setup}$	:i endif	:i if $ScriptExists$${StructQBKey Import_Shutdown}$		:i $Import_Shutdown$	:i endif	:i endfunction]Script menu_special_offers_setup 0x92674407 [	:i $NetSessionFunc$${StructQBKey func = is_leaderboard_lobby_available}$	:i $import_wait_for_download_content_list$	:i $change$${StructInt import_download_content_list_finished = 0}$	:i $NetSessionFunc$:s{		:i $obj$ = $content_unlock$		:i $func$ = $download_content_list$		:i $params$ = :s{			:i $controller_index$ = (~$primary_controller$)			:i $callback$ = $callback_import_download_content_list$		:i :s}	:i :s}	:i $import_wait_for_download_content_list$	:i if $ScriptExists$${StructQBKey Import_Startup}$		:i $Import_Startup$	:i endif	:i endfunction]Script callback_import_download_content_list d2a02543 [	:i $change$${StructInt import_download_content_list_finished = 1}$	:i if NOT $ui_event_exists_in_stack$${StructString name = "songlist"}$		:i return 	:i endif	:i if (%GLOBAL%$result$ = $error$)		:i $printf$${StructString 0x00000000 = "download_content_list fail"}$		:i if $ScriptIsRunning$${StructQBKey menu_special_offers_setup}$			:i $KillSpawnedScript$${StructQBKey name = menu_special_offers_setup}$		:i endif		:i $callback_marketplace_content_list_download_failed$		:i return 	:i endif	:i $printf$${StructString 0x00000000 = "download_content_list success"}$	:i endfunction]Script import_wait_for_download_content_list d17acd1b [	:i while 	:i if ((~$import_download_content_list_finished$) = %i(1))		:i return 	:i endif	:i $printf$${StructQBStringQs 0x77661465}$	:i $wait$${		StructFloat 0.10000000149011612		StructQBKey seconds	}$		:i loop_to %i(150)	:i $printf$${StructQBStringQs 0x81f379d9}$	:i $callback_marketplace_content_list_download_timedout$	:i if $ScriptIsRunning$${StructQBKey menu_special_offers_setup}$		:i $KillSpawnedScript$${StructQBKey name = menu_special_offers_setup}$	:i endif	:i endfunction]Script import_check_signin_state 0x585a129b [	:i if $IsXenonOrWinDX$		:i if $NetSessionFunc$$func$ = $xenonisguest$$params$ = :s{$controller_index$ = (~$primary_controller$):s}			:i return ${				StructQBKey false				StructQBStringQs fail_text = 0x9cfe4a9b			}$					:i endif	:i endif	:i if NOT $CheckForSignin$$controller_index$ = (~$primary_controller$)		:i if $IsPS3$			:i return ${				StructQBKey false				StructQBStringQs fail_text = 0x6dcc7555			}$					:i endif		:i if NOT $CheckForSignin$$network_platform_only$$controller_index$ = (~$primary_controller$)			:i return ${				StructQBKey false				StructQBStringQs fail_text = f13aa4d1			}$					:i endif		:i if $CheckForSignin$$local$$controller_index$ = (~$primary_controller$)			:i if $NetSessionFunc$${StructQBKey func = iscableunplugged}$				:i return ${					StructQBKey false					StructQBStringQs fail_text = 0x8216ad67				}$							:i endif		:i else 			:i if $IsXenonOrWinDX$				:i %GLOBAL%$dialog_txt$ = ^[0a2293d5]^			:i elseif $IsPS3$				:i %GLOBAL%$dialog_txt$ = ^[6dcc7555]^			:i endif			:i return $false$$fail_text$ = %GLOBAL%$dialog_txt$		:i endif	:i endif	:i if $IsPS3$		:i return ${			StructQBKey true			StructInt valid_user = 0		}$			:i else 		:i return $true$$valid_user$ = (~$primary_controller$)	:i endif	:i endfunction]Script menu_special_offers_select_import 0x018e9d29 [	${Unknown [00012b009e022a846969696900000000]}$	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i if $MarketplacePersistenceFunc$${StructQBKey func = encountered_error}$		:i return 	:i endif	:i if ((~$g_marketplace_responding_to_error$) = %i(1))		:i return 	:i endif	:i if NOT $NetSessionFunc$$obj$ = $content_unlock$$func$ = $get_content_list$$params$ = :s{$controller_index$ = (~$primary_controller$):s}		:i $scriptassert$${StructString 0x00000000 = "menu_special_offers_select_import was reached without download_content_list being completed!"}$	:i endif	:i if NOT $GotParam$${StructQBKey content_keys}$		:i $scriptassert$${StructString 0x00000000 = "get_content_list succeeded but did not return content_keys, something is very wrong."}$	:i endif	:i if $import_match_content_key$$content_keys$ = %GLOBAL%$content_keys$$offering_id$ = (%GLOBAL%$purchase_struct$->$offering_id$)		:i $songlist_options_music_store_purchase_accepted$$purchase_struct$ = %GLOBAL%$purchase_struct$	:i else 		:i $UI_SFX$${			StructQBKey menustate = generic			StructQBKey uitype = select		}$				:i $ui_event_wait$$event$ = $menu_replace$$Data$ = :s{$is_popup$$state$ = $uistate_import_pre_legal$$purchase_struct$ = %GLOBAL%$purchase_struct$:s}	:i endif	:i endfunction]Script import_match_content_key ea5bcca8 [	${Unknown [00012c00861356d669696969000000180001240071208b0f6969696900000000]}$	:i $GetArraySize$%GLOBAL%$content_keys$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i if (((%GLOBAL%$content_keys$:a{%GLOBAL%$i$:a})->$content_key$) = %GLOBAL%$offering_id$)			:i return ${StructQBKey true}$		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return ${StructQBKey false}$	:i endfunction]