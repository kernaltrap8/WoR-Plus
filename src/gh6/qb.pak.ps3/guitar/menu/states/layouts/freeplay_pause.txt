Unknown [1c00000000000000000049e80000000000000000]Script destroy_freeplay_instrument_menu 0x643ea2cb [	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}	:i endfunction]Script create_freeplay_instrument_menu f9521ed6 [	:i $get_actual_controller$$player$ = %GLOBAL%$player$	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$menu_parent$		:i $type$ = $descinterface$		:i $local_id$ = $freeplay_menu$		:i $desc$ = %s("freeplay_highway_menu")		:i $Pos$ = %vec2(0.0,0.0)		:i $autosizedims$ = $true$		:i $pos_anchor$ = :a{$center$,$bottom$:a}		:i $just$ = :a{$center$,$bottom$:a}		:i $exclusive_device$ = %GLOBAL%$controller$		:i $ignore_parent_alpha$ = $true$		:i $alpha$ = %i(0)		:i $Scale$ = (~$freeplay_menu_scale$)	:i :s}	:i $instrument_menu_id$ = %GLOBAL%$id$	:i %GLOBAL%$instrument_menu_id$.$se_setprops$$alpha$ = %i(1)$time$ = %f(0.3000000)	:i %GLOBAL%$instrument_menu_id$.$desc_resolvealias$$name$ = $alias_menu$$param$ = $menu_id$	:i %GLOBAL%$menu_id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$menu_selection_changed$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $up$$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i $instrument_menu_entries$ = :a{		:i :s{$Instrument$ = $guitar$$text$ = ^[11355666]^:s}		:i :s{$Instrument$ = $Bass$$text$ = ^[4f551cbe]^:s}	:i :a}	:i $menu_width$ = %i(0)	:i $idx$ = %i(0)	:i $GetArraySize$${StructQBKey instrument_menu_entries}$	:i while 	:i $freeplay_create_highway_element$:s{		:i $parent$ = %GLOBAL%$menu_id$		:i $text$ = (%GLOBAL%$instrument_menu_entries$:a{%GLOBAL%$idx$:a}->$text$)	:i :s}	:i if (%GLOBAL%$menu_width$ < %GLOBAL%$element_width$)		:i $menu_width$ = %GLOBAL%$element_width$	:i endif	:i %GLOBAL%$id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$focus$$freeplay_focus_menu_element$:s}			:i :s{$unfocus$$freeplay_unfocus_menu_element$:s}			:i :s{$pad_back$$freeplay_instrument_menu_back$$params$ = :s{$player$ = %GLOBAL%$player$:s}:s}			:i :s{$pad_choose$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $Instrument$$player$ = %GLOBAL%$player$:s}:s}			:i :s{$pad_choose$$freeplay_instrument_jump_player_in$$params$ = :s{$Instrument$ = (%GLOBAL%$instrument_menu_entries$:a{%GLOBAL%$idx$:a}->$Instrument$)$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i %GLOBAL%$id$.$freeplay_unfocus_menu_element$$time$ = %i(0)	:i $idx$ = (%GLOBAL%$idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $freeplay_set_menu_background_dims$$menu_parent$ = %GLOBAL%$menu_parent$$menu_width$ = %GLOBAL%$menu_width$	:i $freeplay_set_menu_highlight_dims$$menu_id$ = %GLOBAL%$menu_id$$menu_width$ = %GLOBAL%$menu_width$$num_elements$ = %GLOBAL%$array_size$	:i $LaunchEvent$$type$ = $focus$$target$ = %GLOBAL%$menu_id$	:i endfunction]Script freeplay_instrument_menu_back 0x86ed288a [	:i $destroy_freeplay_instrument_menu$$player$ = %GLOBAL%$player$	:i $audio_ui_freeplay_play_sfx$$type$ = $Drop$$player$ = %GLOBAL%$player$	:i $freeplay_drop_player_out$$player$ = %GLOBAL%$player$	:i endfunction]Script destroy_freeplay_difficulty_menu e9e2e05a [	:i $spawnscriptnow$${StructQBKey audio_auto_mic_check}$	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}	:i endfunction]Script create_freeplay_difficulty_menu 0x9dd1a176 [	:i $get_actual_controller$$player$ = %GLOBAL%$player$	:i $getplayerinfo$%GLOBAL%$player$$difficulty$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i if (%GLOBAL%$difficulty$ = $expert$)		:i if (%GLOBAL%$part$ = $drum$)			:i $getplayerinfo$%GLOBAL%$player$$double_kick_drum$			:i if (%GLOBAL%$double_kick_drum$ = %i(1))				:i $difficulty$ = $expert_plus$			:i endif		:i endif	:i endif	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$menu_parent$		:i $type$ = $menuelement$		:i $local_id$ = $freeplay_menu$		:i $Pos$ = %vec2(-10.0,-25.0)		:i $autosizedims$ = $true$		:i $pos_anchor$ = :a{$center$,$bottom$:a}		:i $just$ = :a{$center$,$bottom$:a}		:i $internal_just$ = :a{$center$,$center$:a}		:i $exclusive_device$ = %GLOBAL%$controller$		:i $ignore_parent_alpha$ = $true$		:i $alpha$ = %i(0)		:i $isvertical$ = $false$		:i $spacing_between$ = %i(5)		:i $Scale$ = (~$freeplay_menu_scale$)	:i :s}	:i %GLOBAL%$horizontal_menu_id$ = %GLOBAL%$id$	:i $freeplay_add_song_intensity_to_difficulty_menu$:s{		:i $hmenu_id$ = %GLOBAL%$horizontal_menu_id$		:i $player$ = %GLOBAL%$player$	:i :s}	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$horizontal_menu_id$		:i $type$ = $descinterface$		:i $local_id$ = $freeplay_sub_menu$		:i $desc$ = %s("freeplay_highway_menu")		:i $Pos$ = %vec2(0.0,0.0)		:i $dims$ = %vec2(100.0,200.0)		:i $autosizedims$ = $true$		:i $pos_anchor$ = :a{$left$,$center$:a}		:i $just$ = :a{$left$,$center$:a}		:i $exclusive_device$ = %GLOBAL%$controller$		:i $alpha$ = %i(0)		:i $Scale$ = (~$freeplay_menu_scale$)		:i $ignore_parent_alpha$ = $true$	:i :s}	:i $printf$${StructQBStringQs 0x9a6ad122}$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $printf$${StructQBStringQs 0x7b525b59}$	:i $printstruct$ isNull 	:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$id$		:i $printf$${StructQBStringQs 0x1f0788c6}$		:i return 	:i endif	:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$horizontal_menu_id$		:i $printf$${StructQBStringQs d26b88d3}$		:i return 	:i endif	:i $printf$${StructQBStringQs 0x69a01d5b}$	:i %GLOBAL%$difficulty_menu_id$ = %GLOBAL%$id$	:i %GLOBAL%$difficulty_menu_id$.$se_setprops$$alpha$ = %i(1)$time$ = %f(0.3000000)	:i %GLOBAL%$horizontal_menu_id$.$se_setprops$$alpha$ = %i(1)$time$ = %f(0.3000000)	:i %GLOBAL%$difficulty_menu_id$.$desc_resolvealias$$name$ = $alias_menu$$param$ = $menu_id$	:i %GLOBAL%$menu_id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$menu_selection_changed$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $up$$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i %GLOBAL%$difficulty_menu_entries$ = :a{		:i :s{$difficulty$ = $beginner$$text$ = ^[25b2ecac]^$icon_texture$ = $icon_difficulty_beginner$:s}		:i :s{$difficulty$ = $easy$$text$ = ^[bf7ffd2d]^$icon_texture$ = $icon_difficulty_easy$:s}		:i :s{$difficulty$ = $medium$$text$ = ^[eac0f52d]^$icon_texture$ = $icon_difficulty_medium$:s}		:i :s{$difficulty$ = $hard$$text$ = ^[63aae385]^$icon_texture$ = $icon_difficulty_hard$:s}		:i :s{$difficulty$ = $expert$$text$ = ^[b778e780]^$icon_texture$ = $icon_difficulty_expert$:s}	:i :a}	:i $scrolling$ = %i(0)	:i if (%GLOBAL%$part$ = $drum$)		:i if $any_song_has_double_kick$			:i $AddArrayElement$$array$ = %GLOBAL%$difficulty_menu_entries$$element$ = :s{$difficulty$ = $expert_plus$$text$ = ^[739da581]^$icon_texture$ = $icon_difficulty_expert_plus$:s}			:i %GLOBAL%$difficulty_menu_entries$ = %GLOBAL%$array$			:i %GLOBAL%$scrolling$ = %i(1)		:i endif	:i endif	:i %GLOBAL%$menu_width$ = %i(0)	:i %GLOBAL%$idx$ = %i(0)	:i $GetArraySize$${StructQBKey difficulty_menu_entries}$	:i while 	:i if (%GLOBAL%$difficulty$ = %GLOBAL%$difficulty_menu_entries$:a{%GLOBAL%$idx$:a}->$difficulty$)		:i $GetArraySize$${StructQBKey difficulty_menu_entries}$		:i $player_difficulty_idx$ = %GLOBAL%$idx$	:i endif	:i $freeplay_create_highway_element$:s{		:i $parent$ = %GLOBAL%$menu_id$		:i $text$ = (%GLOBAL%$difficulty_menu_entries$:a{%GLOBAL%$idx$:a}->$text$)		:i $has_icon$ = %i(1)		:i $icon_texture$ = (%GLOBAL%$difficulty_menu_entries$:a{%GLOBAL%$idx$:a}->$icon_texture$)	:i :s}	:i if (%GLOBAL%$menu_width$ < %GLOBAL%$element_width$)		:i %GLOBAL%$menu_width$ = %GLOBAL%$element_width$	:i endif	:i %GLOBAL%$id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$focus$$freeplay_focus_menu_element$:s}			:i :s{$unfocus$$freeplay_unfocus_menu_element$:s}			:i :s{$pad_back$$freeplay_difficulty_menu_back$$params$ = :s{$player$ = %GLOBAL%$player$$back_target$ = %GLOBAL%$back_target$:s}:s}			:i :s{$pad_choose$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $select$$player$ = %GLOBAL%$player$:s}:s}			:i :s{$pad_choose$$freeplay_finish_jump_player_in$$params$ = :s{$difficulty$ = (%GLOBAL%$difficulty_menu_entries$:a{%GLOBAL%$idx$:a}->$difficulty$)$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i %GLOBAL%$id$.$freeplay_unfocus_menu_element$$time$ = %i(0)	:i %GLOBAL%$idx$ = (%GLOBAL%$idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i if NOT $GotParam$${StructQBKey player_difficulty_idx}$		:i $scriptassert$${StructQBStringQs ac85b027}$	:i endif	:i $freeplay_set_menu_background_dims$$menu_parent$ = %GLOBAL%$menu_parent$$menu_width$ = %GLOBAL%$menu_width$	:i $freeplay_set_menu_highlight_dims$$menu_id$ = %GLOBAL%$menu_id$$menu_width$ = %GLOBAL%$menu_width$$num_elements$ = %GLOBAL%$array_size$	:i $LaunchEvent$$type$ = $focus$$target$ = %GLOBAL%$menu_id$$Data$ = :s{$child_index$ = %GLOBAL%$player_difficulty_idx$:s}	:i endfunction]Script freeplay_difficulty_menu_back a947c959 [	:i $destroy_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$	:i switch %GLOBAL%$back_target$		:i case $dropped$			:i $audio_ui_freeplay_play_sfx$$type$ = $Drop$$player$ = %GLOBAL%$player$			:i $freeplay_drop_player_out$$player$ = %GLOBAL%$player$			:i endcase		case $Pause_Menu$			:i $audio_ui_freeplay_play_sfx$$type$ = $back$$player$ = %GLOBAL%$player$			:i $create_freeplay_pause_menu$$player$ = %GLOBAL%$player$			:i endcase		case $Instrument$			:i $audio_ui_freeplay_play_sfx$$type$ = $back$$player$ = %GLOBAL%$player$			:i $create_freeplay_instrument_menu$$player$ = %GLOBAL%$player$			:i endcase		case $mic$			:i $audio_ui_freeplay_play_sfx$$type$ = $back$$player$ = %GLOBAL%$player$			:i if $DemoBuild$				:i $freeplay_drop_player_out$$player$ = %GLOBAL%$player$			:i else 				:i $create_freeplay_mic_preference_menu$$player$ = %GLOBAL%$player$			:i endif	:i end_switch	:i endfunction]Script destroy_freeplay_mic_preference_menu 0x643ea2cb [	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}	:i endfunction]Script create_freeplay_mic_preference_menu e0895c3a [	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $SetPlayerInfo$%GLOBAL%$player$$mic_type$ = $None$	:i $Vocals_DeinitMic$$controller$ = %GLOBAL%$controller$	:i $headset_unavailable$ = $true$	:i if $freeplay_is_headset_allowed_for_vocals$		:i if $controller_has_headset$$controller$ = %GLOBAL%$controller$			:i $headset_unavailable$ = $false$		:i endif	:i endif	:i $mic_unavailable$ = $true$	:i if $freeplay_is_any_mic_free$		:i $mic_unavailable$ = $false$	:i endif	:i $getplayerinfo$%GLOBAL%$player$$bot_play$	:i if (%GLOBAL%$bot_play$ = %i(1))		:i $freeplay_mic_preference_jump_player_in$$player$ = %GLOBAL%$player$$device_num$ = %GLOBAL%$controller$$mic_preference$ = $mic$		:i return 	:i endif	:i if (%GLOBAL%$headset_unavailable$ = $true$ AND %GLOBAL%$mic_unavailable$ = $true$)		:i $create_freeplay_connect_mic_menu$$player$ = %GLOBAL%$player$		:i return 	:i endif	:i if NOT $freeplay_is_headset_allowed_for_vocals$		:i $freeplay_mic_preference_jump_player_in$$player$ = %GLOBAL%$player$$device_num$ = %GLOBAL%$controller$$mic_preference$ = $mic$		:i return 	:i endif	:i $getplayerinfo$%GLOBAL%$player$$mic_preference$$out$ = $focus_mic_preference$	:i if (%GLOBAL%$headset_unavailable$ = $true$)		:i $focus_mic_preference$ = $mic$	:i elseif (%GLOBAL%$mic_unavailable$ = $true$)		:i $focus_mic_preference$ = $headset$	:i endif	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$menu_parent$		:i $type$ = $descinterface$		:i $local_id$ = $freeplay_menu$		:i $desc$ = %s("freeplay_highway_menu")		:i $Pos$ = %vec2(0.0,0.0)		:i $autosizedims$ = $true$		:i $pos_anchor$ = :a{$center$,$bottom$:a}		:i $just$ = :a{$center$,$bottom$:a}		:i $exclusive_device$ = %GLOBAL%$controller$		:i $ignore_parent_alpha$ = $true$		:i $alpha$ = %i(0)		:i $Scale$ = (~$freeplay_menu_scale$)	:i :s}	:i $mic_preference_menu_id$ = %GLOBAL%$id$	:i %GLOBAL%$mic_preference_menu_id$.$se_setprops$$alpha$ = %i(1)$time$ = %f(0.3000000)	:i %GLOBAL%$mic_preference_menu_id$.$desc_resolvealias$$name$ = $alias_menu$$param$ = $menu_id$	:i %GLOBAL%$menu_id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$menu_selection_changed$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $up$$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i $mic_preference_menu_entries$ = :a{		:i :s{$mic_preference$ = $mic$$text$ = ^[f505c703]^:s}		:i :s{$mic_preference$ = $headset$$text$ = ^[949ad871]^:s}	:i :a}	:i $menu_width$ = %i(0)	:i $idx$ = %i(0)	:i $GetArraySize$${StructQBKey mic_preference_menu_entries}$	:i while 	:i $this_mic_preference$ = (%GLOBAL%$mic_preference_menu_entries$:a{%GLOBAL%$idx$:a}->$mic_preference$)	:i if (%GLOBAL%$focus_mic_preference$ = %GLOBAL%$this_mic_preference$)		:i $GetArraySize$${StructQBKey mic_preference_menu_entries}$		:i $player_mic_preference_idx$ = %GLOBAL%$idx$	:i endif	:i $freeplay_create_highway_element$:s{		:i $parent$ = %GLOBAL%$menu_id$		:i $text$ = (%GLOBAL%$mic_preference_menu_entries$:a{%GLOBAL%$idx$:a}->$text$)	:i :s}	:i if (%GLOBAL%$menu_width$ < %GLOBAL%$element_width$)		:i $menu_width$ = %GLOBAL%$element_width$	:i endif	:i %GLOBAL%$id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$focus$$freeplay_focus_mic_preference_menu_element$$params$ = :s{$mic_preference$ = %GLOBAL%$this_mic_preference$$controller$ = %GLOBAL%$controller$$player$ = %GLOBAL%$player$:s}:s}			:i :s{$unfocus$$freeplay_unfocus_mic_preference_menu_element$$params$ = :s{$mic_preference$ = %GLOBAL%$this_mic_preference$$controller$ = %GLOBAL%$controller$:s}:s}			:i :s{$pad_back$$freeplay_mic_preference_menu_back$$params$ = :s{$player$ = %GLOBAL%$player$:s}:s}			:i :s{$pad_choose$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $Instrument$$player$ = %GLOBAL%$player$:s}:s}			:i :s{$pad_choose$$freeplay_mic_preference_jump_player_in$$params$ = :s{$mic_preference$ = %GLOBAL%$this_mic_preference$$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i %GLOBAL%$id$.$freeplay_unfocus_menu_element$$time$ = %i(0)	:i %GLOBAL%$id$.$obj_spawnscript$$freeplay_mic_preference_menu_update_element_state$$params$ = :s{$mic_preference$ = %GLOBAL%$this_mic_preference$$controller$ = %GLOBAL%$controller$$player$ = %GLOBAL%$player$:s}	:i $idx$ = (%GLOBAL%$idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $freeplay_set_menu_background_dims$$menu_parent$ = %GLOBAL%$menu_parent$$menu_width$ = %GLOBAL%$menu_width$	:i $freeplay_set_menu_highlight_dims$$menu_id$ = %GLOBAL%$menu_id$$menu_width$ = %GLOBAL%$menu_width$$num_elements$ = %GLOBAL%$array_size$	:i $LaunchEvent$$type$ = $focus$$target$ = %GLOBAL%$menu_id$$Data$ = :s{$child_index$ = %GLOBAL%$player_mic_preference_idx$:s}	:i %GLOBAL%$menu_id$.$obj_spawnscript$$freeplay_mic_preference_menu_update_state$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i if $DemoBuild$		:i %GLOBAL%$menu_id$.$obj_spawnscript$$freeplay_mic_preference_jump_player_in$$params$ = :s{$mic_preference$ = $mic$$player$ = %GLOBAL%$player$$device_num$ = %GLOBAL%$controller$:s}	:i endif	:i endfunction]Script freeplay_determine_mic_preference_grayed_out_state ad54669d [	${Unknown [00012600966ce6c3696969690000001800012400b30d99656969696900000000]}$	:i switch %GLOBAL%$mic_preference$		:i case $mic$			:i if $freeplay_is_any_mic_free$				:i return ${StructQBKey grayed_out = false}$			:i else 				:i return ${StructQBKey grayed_out = true}$			:i endif			:i endcase		case $headset$			:i if $controller_has_headset$$controller$ = %GLOBAL%$controller$				:i return ${StructQBKey grayed_out = false}$			:i else 				:i return ${StructQBKey grayed_out = true}$			:i endif	:i end_switch	:i endfunction]Script freeplay_focus_mic_preference_menu_element 0x14e5de26 [	${Unknown [00012600966ce6c3696969690000001800012400b30d99656969696900000000]}$	:i $freeplay_determine_mic_preference_grayed_out_state$$mic_preference$ = %GLOBAL%$mic_preference$$controller$ = %GLOBAL%$controller$	:i $freeplay_focus_menu_element$$grayed_out$ = %GLOBAL%$grayed_out$	:i endfunction]Script freeplay_unfocus_mic_preference_menu_element 0x68b54e51 [	${Unknown [00012600966ce6c3696969690000001800012400b30d99656969696900000000]}$	:i $freeplay_determine_mic_preference_grayed_out_state$$mic_preference$ = %GLOBAL%$mic_preference$$controller$ = %GLOBAL%$controller$	:i $freeplay_unfocus_menu_element$$grayed_out$ = %GLOBAL%$grayed_out$	:i endfunction]Script freeplay_mic_preference_menu_update_element_state 0x79106af3 [	${Unknown [00012600966ce6c3696969690000001800012400b30d99656969696900000000]}$	:i $obj_getid$	:i while 	:i $freeplay_determine_mic_preference_grayed_out_state$$mic_preference$ = %GLOBAL%$mic_preference$$controller$ = %GLOBAL%$controller$	:i if $IsScreenElementInFocus$$id$ = %GLOBAL%$ObjID$		:i $freeplay_focus_menu_element$$grayed_out$ = %GLOBAL%$grayed_out$	:i else 		:i $freeplay_unfocus_menu_element$$grayed_out$ = %GLOBAL%$grayed_out$	:i endif	:i $wait$${		StructFloat 0.5		StructQBKey seconds	}$		:i loop_to 	:i endfunction]Script freeplay_mic_preference_menu_update_state e38e921c [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i while 	:i $wait$${		StructFloat 0.5		StructQBKey seconds	}$		:i if NOT $freeplay_is_any_mic_free$		:i if NOT $controller_has_headset$$controller$ = %GLOBAL%$controller$			:i $spawnscriptnow$$freeplay_drop_player_out$$params$ = :s{$player$ = %GLOBAL%$player$:s}			:i return 		:i endif	:i endif	:i loop_to 	:i endfunction]Script freeplay_mic_preference_menu_back 0x28b59d93 [	:i $audio_ui_freeplay_play_sfx$$player$ = %GLOBAL%$player$$type$ = $Drop$	:i $destroy_freeplay_mic_preference_menu$$player$ = %GLOBAL%$player$	:i $freeplay_drop_player_out$$player$ = %GLOBAL%$player$	:i endfunction]Script destroy_freeplay_connect_mic_menu 0x643ea2cb [	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}	:i endfunction]Script create_freeplay_connect_mic_menu 0x639e9ff0 [	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i if $freeplay_is_headset_allowed_for_vocals$		:i $message_text$ = ^[057800ff]^	:i else 		:i $message_text$ = ^[663f51cd]^	:i endif	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$menu_parent$		:i $type$ = $descinterface$		:i $local_id$ = $freeplay_menu$		:i $desc$ = %s("freeplay_highway_menu")		:i $Pos$ = %vec2(0.0,0.0)		:i $autosizedims$ = $true$		:i $pos_anchor$ = :a{$center$,$bottom$:a}		:i $just$ = :a{$center$,$bottom$:a}		:i $exclusive_device$ = %GLOBAL%$controller$		:i $ignore_parent_alpha$ = $true$		:i $alpha$ = %i(0)		:i $message_text$ = %GLOBAL%$message_text$		:i $Scale$ = (~$freeplay_menu_scale$)	:i :s}	:i $connect_mic_menu_id$ = %GLOBAL%$id$	:i %GLOBAL%$connect_mic_menu_id$.$se_setprops$$alpha$ = %i(1)$time$ = %f(0.3000000)	:i %GLOBAL%$connect_mic_menu_id$.$desc_resolvealias$$name$ = $alias_menu$$param$ = $message_id$	:i $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu_background$:s}	:i %GLOBAL%$resolved_id$.$se_setprops$$light_box_dims$ = %vec2(300.0,320.0)	:i %GLOBAL%$message_id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$event_mic_connected$$freeplay_connect_mic_menu_mic_connected$$params$ = :s{$player$ = %GLOBAL%$player$:s}:s}			:i :s{$pad_back$$freeplay_connect_mic_menu_back$$params$ = :s{$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i $LaunchEvent$$type$ = $focus$$target$ = %GLOBAL%$message_id$	:i %GLOBAL%$message_id$.$obj_spawnscript$$freeplay_connect_mic_menu_update_state$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i endfunction]Script freeplay_connect_mic_menu_update_state d1080bb6 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $obj_getid$	:i $OnExitRun$${StructQBKey freeplay_connect_mic_menu_update_state_exit}$	:i $RequestMicDetection$${StructQBKey enable = true}$	:i while 	:i while 	:i $wait$${		StructFloat 0.5		StructQBKey seconds	}$		:i if $freeplay_is_any_mic_free$		:i continue	:i endif	:i if $controller_has_headset$$controller$ = %GLOBAL%$controller$		:i continue	:i endif	:i loop_to 	:i $LaunchEvent$$type$ = $event_mic_connected$$target$ = %GLOBAL%$ObjID$	:i loop_to 	:i endfunction]Script freeplay_connect_mic_menu_update_state_exit 0x3c555189 [	:i $RequestMicDetection$${StructQBKey enable = false}$	:i endfunction]Script freeplay_connect_mic_menu_mic_connected 0x9c81841f [	:i $se_getprops$	:i if (%GLOBAL%$events_blocked$ = %i(1))		:i return 	:i endif	:i $destroy_freeplay_connect_mic_menu$$player$ = %GLOBAL%$player$	:i $create_freeplay_mic_preference_menu$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_connect_mic_menu_back 0x8e1ade04 [	:i $destroy_freeplay_connect_mic_menu$$player$ = %GLOBAL%$player$	:i $audio_ui_freeplay_play_sfx$$type$ = $Drop$$player$ = %GLOBAL%$player$	:i $freeplay_drop_player_out$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_destroy_all_possible_menus 0x2ce71c52 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $destroy_freeplay_instrument_menu$$player$ = %GLOBAL%$player$	:i $destroy_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$	:i $destroy_freeplay_mic_preference_menu$$player$ = %GLOBAL%$player$	:i $destroy_freeplay_connect_mic_menu$$player$ = %GLOBAL%$player$	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i endfunction]Script refresh_freeplay_menu d9fc5dab [	${		Unknown [00012600cdc00e6369696969000000180001240067e6859a6969696900000028]		StructInt focus_idx = 0	}$		:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $create_freeplay_menu$$player$ = %GLOBAL%$player$$menu_state$ = %GLOBAL%$menu_state$$menu_focus_idx$ = %GLOBAL%$focus_idx$$wtf$ = %GLOBAL%$focus_idx$	:i endfunction]Script destroy_freeplay_menu 0x643ea2cb [	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}	:i endfunction]Script create_freeplay_menu 0x9be3744d [	${Unknown [00012600cdc00e6369696969000000180001240067e6859a6969696900000000]}$	:i $get_actual_controller$$player$ = %GLOBAL%$player$	:i %GLOBAL%$menu_entries$ = (~$freeplay_menu_states$->%GLOBAL%$menu_state$->$entries$)	:i if NOT $GotParam$${StructQBKey menu_entries}$		:i (~$freeplay_menu_states$->%GLOBAL%$menu_state$->$generate_entries_script$)$player$ = %GLOBAL%$player$$menu_focus_idx$ = %GLOBAL%$menu_focus_idx$	:i endif	:i $GetArraySize$${StructQBKey menu_entries}$	:i %GLOBAL%$num_menu_entries$ = %GLOBAL%$array_size$	:i %GLOBAL%$scrolling$ = %i(0)	:i %GLOBAL%$min_entries_for_scrolling$ = %i(7)	:i if (%GLOBAL%$menu_state$ = $venue$ AND %GLOBAL%$num_menu_entries$ >= %GLOBAL%$min_entries_for_scrolling$)		:i %GLOBAL%$scrolling$ = %i(1)	:i endif	:i %GLOBAL%$entry_focus_scr$ = (~$freeplay_menu_states$->%GLOBAL%$menu_state$->$entry_focus_scr$)	:i if $GotParam$${StructQBKey entry_focus_scr}$		:i %GLOBAL%$entry_focus_scr$$player$ = %GLOBAL%$player$		:i %GLOBAL%$menu_focus_idx$ = %GLOBAL%$focus_idx$	:i endif	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i %GLOBAL%$highway_menu_parent$ = %GLOBAL%$menu_parent$	:i %GLOBAL%$local_id$ = $freeplay_menu$	:i %GLOBAL%$ignore_parent_alpha$ = $true$	:i %GLOBAL%$has_intensity_menu$ = (~$freeplay_menu_states$->%GLOBAL%$menu_state$->$has_intensity_menu$)	:i if $GotParam$${StructQBKey has_intensity_menu}$		:i if (%GLOBAL%$has_intensity_menu$ = %i(1))			:i $CreateScreenElement$:s{				:i $parent$ = %GLOBAL%$menu_parent$				:i $type$ = $menuelement$				:i $local_id$ = %GLOBAL%$local_id$				:i $Pos$ = %vec2(-10.0,-25.0)				:i $autosizedims$ = $true$				:i $pos_anchor$ = :a{$center$,$bottom$:a}				:i $just$ = :a{$center$,$bottom$:a}				:i $internal_just$ = :a{$center$,$center$:a}				:i $exclusive_device$ = %GLOBAL%$controller$				:i $ignore_parent_alpha$ = %GLOBAL%$ignore_parent_alpha$				:i $alpha$ = %i(1)				:i $isvertical$ = $false$				:i $spacing_between$ = %i(5)				:i $Scale$ = (~$freeplay_menu_scale$)			:i :s}			:i %GLOBAL%$horizontal_menu_id$ = %GLOBAL%$id$			:i %GLOBAL%$highway_menu_parent$ = %GLOBAL%$horizontal_menu_id$			:i %GLOBAL%$local_id$ = $freeplay_sub_menu$			:i $freeplay_add_song_intensity_to_difficulty_menu$:s{				:i $hmenu_id$ = %GLOBAL%$horizontal_menu_id$				:i $player$ = %GLOBAL%$player$			:i :s}		:i endif	:i endif	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$highway_menu_parent$		:i $type$ = $descinterface$		:i $local_id$ = %GLOBAL%$local_id$		:i $desc$ = %s("freeplay_highway_menu")		:i $Pos$ = %vec2(0.0,0.0)		:i $autosizedims$ = $true$		:i $pos_anchor$ = :a{$center$,$bottom$:a}		:i $just$ = :a{$center$,$bottom$:a}		:i $exclusive_device$ = %GLOBAL%$controller$		:i $ignore_parent_alpha$ = %GLOBAL%$ignore_parent_alpha$		:i $alpha$ = %i(0)		:i $Scale$ = (~$freeplay_menu_scale$)		:i $menu_pos$ = %vec2(54.0,-250.0)	:i :s}	:i %GLOBAL%$desc_id$ = %GLOBAL%$id$	:i %GLOBAL%$desc_id$.$se_setprops$$alpha$ = %i(1)$time$ = %f(0.3000000)	:i %GLOBAL%$desc_id$.$desc_resolvealias$$name$ = $alias_menu$$param$ = $menu_id$	:i %GLOBAL%$menu_id$.$se_setprops$:s{		:i $event_handlers$ = :a{			:i :s{$menu_selection_changed$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $up$$player$ = %GLOBAL%$player$:s}:s}		:i :a}	:i :s}	:i if (%GLOBAL%$menu_state$ = $venue$)		:i %GLOBAL%$desc_id$.$se_setprops$$ScrollingMenu_pos$ = %vec2(1.0,-185.0)	:i endif	:i %GLOBAL%$menu_width$ = %i(0)	:i %GLOBAL%$idx$ = %i(0)	:i %GLOBAL%$focus_idx$ = %i(0)	:i $GetArraySize$${StructQBKey menu_entries}$	:i while 	:i %GLOBAL%$include_entry$ = $true$	:i if $StructureContains$$structure$ = (%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a})$condition_scr$		:i if NOT (%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$condition_scr$)$player$ = %GLOBAL%$player$			:i %GLOBAL%$include_entry$ = $false$		:i endif	:i endif	:i if (%GLOBAL%$include_entry$ = $true$)		:i %GLOBAL%$has_icon$ = %i(0)		:i if $StructureContains$$structure$ = (%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a})$icon_texture$			:i %GLOBAL%$has_icon$ = %i(1)		:i endif		:i %GLOBAL%$disable_audio$ = %i(0)		:i if $StructureContains$$structure$ = (%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a})$disable_audio$			:i %GLOBAL%$disable_audio$ = %i(1)		:i endif		:i if (%GLOBAL%$has_icon$ = %i(0))			:i $freeplay_create_highway_element$:s{				:i $parent$ = %GLOBAL%$menu_id$				:i $text$ = (%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$text$)			:i :s}		:i else 			:i $freeplay_create_highway_element$:s{				:i $parent$ = %GLOBAL%$menu_id$				:i $text$ = (%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$text$)				:i $has_icon$ = %i(1)				:i $icon_texture$ = (%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$icon_texture$)			:i :s}		:i endif		:i if (%GLOBAL%$menu_width$ < %GLOBAL%$element_width$)			:i %GLOBAL%$menu_width$ = %GLOBAL%$element_width$		:i endif		:i if (%GLOBAL%$disable_audio$ = %i(0))			:i %GLOBAL%$id$.$se_setprops$:s{				:i $event_handlers$ = :a{					:i :s{$focus$$freeplay_focus_menu_element$:s}					:i :s{$unfocus$$freeplay_unfocus_menu_element$:s}					:i :s{$pad_back$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $back$$player$ = %GLOBAL%$player$:s}:s}					:i :s{$pad_back$$freeplay_menu_pop$$params$ = :s{$player$ = %GLOBAL%$player$:s}:s}					:i :s{$pad_choose$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $select$$player$ = %GLOBAL%$player$:s}:s}					:i :s{$pad_choose$(%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$scr$)$params$ = (:s{$player$ = %GLOBAL%$player$$focus_idx$ = %GLOBAL%$focus_idx$(%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$params$):s}):s}				:i :a}			:i :s}		:i else 			:i %GLOBAL%$id$.$se_setprops$:s{				:i $event_handlers$ = :a{					:i :s{$focus$$freeplay_focus_menu_element$:s}					:i :s{$unfocus$$freeplay_unfocus_menu_element$:s}					:i :s{$pad_back$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $back$$player$ = %GLOBAL%$player$:s}:s}					:i :s{$pad_back$$freeplay_menu_pop$$params$ = :s{$player$ = %GLOBAL%$player$:s}:s}					:i :s{$pad_choose$(%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$scr$)$params$ = (:s{$player$ = %GLOBAL%$player$$focus_idx$ = %GLOBAL%$focus_idx$(%GLOBAL%$menu_entries$:a{%GLOBAL%$idx$:a}->$params$):s}):s}				:i :a}			:i :s}		:i endif		:i %GLOBAL%$id$.$freeplay_unfocus_menu_element$$time$ = %i(0)		:i %GLOBAL%$focus_idx$ = (%GLOBAL%$focus_idx$ + %i(1))	:i endif	:i %GLOBAL%$idx$ = (%GLOBAL%$idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $freeplay_set_menu_background_dims$$menu_parent$ = %GLOBAL%$menu_parent$$menu_width$ = %GLOBAL%$menu_width$	:i $freeplay_set_menu_highlight_dims$$menu_id$ = %GLOBAL%$menu_id$$menu_width$ = %GLOBAL%$menu_width$$num_elements$ = %GLOBAL%$array_size$	:i $LaunchEvent$$type$ = $focus$$target$ = %GLOBAL%$menu_id$$Data$ = :s{$child_index$ = %GLOBAL%$menu_focus_idx$:s}	:i endfunction]Script freeplay_add_song_intensity_to_difficulty_menu 0x09555105 [	${Unknown [00012600c868adf469696969000000180001240067e6859a6969696900000000]}$	:i $Playlist_GetCurrentSong$	:i $get_song_difficulty_ratings$$song$ = %GLOBAL%$current_song$	:i %GLOBAL%$max_intensity$ = %i(10)	:i $getplayerinfo$%GLOBAL%$player$$part$	:i switch %GLOBAL%$part$		:i case $guitar$			:i %GLOBAL%$intensity_value$ = %GLOBAL%$guitar_difficulty_rating$			:i endcase		case $Bass$			:i %GLOBAL%$intensity_value$ = %GLOBAL%$bass_difficulty_rating$			:i endcase		case $drum$			:i %GLOBAL%$intensity_value$ = %GLOBAL%$drums_difficulty_rating$			:i endcase		case $Vocals$			:i %GLOBAL%$intensity_value$ = %GLOBAL%$vocals_difficulty_rating$			:i endcase		default 			:i $softassert$%s("Part not found: %p for Party Play difficulty menu")$p$ = %GLOBAL%$part$	:i end_switch	:i $FormatText$$checksumname$ = $instrument_out$%s("icon_%i_out")$i$ = (~$instrument_list$->%GLOBAL%$part$->$text_nl$)	:i $FormatText$$checksumname$ = $instrument_fill$%s("icon_%i_fill")$i$ = (~$instrument_list$->%GLOBAL%$part$->$text_nl$)	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$hmenu_id$		:i $type$ = $descinterface$		:i $desc$ = %s("freeplay_highway_song_intensity_menu")		:i $local_id$ = $intensity_sub_menu$		:i $autosizedims$ = $true$		:i $Pos$ = %vec2(0.0,0.0)		:i $pos_anchor$ = :a{$left$,$top$:a}		:i $just$ = :a{$left$,$top$:a}		:i $alpha$ = %i(0)		:i $freeplay_song_intensity_instr_out_texture$ = %GLOBAL%$instrument_out$		:i $freeplay_song_intensity_instr_fill_texture$ = %GLOBAL%$instrument_fill$		:i $ignore_parent_alpha$ = $true$	:i :s}	:i %GLOBAL%$id$.$se_setprops$$alpha$ = %i(1)$time$ = %f(0.3000000)	:i %GLOBAL%$on_rgba$ = :a{%i(45)%i(100)%i(110)%i(255):a}	:i %GLOBAL%$off_rgba$ = :a{%i(255)%i(255)%i(255)%i(255):a}	:i %GLOBAL%$off_alpha$ = %i(1)	:i %GLOBAL%$on_alpha$ = %f(0.0)	:i %GLOBAL%$intensity_idx$ = %i(1)	:i while 	:i %GLOBAL%$intensity_struct$ = :s{:s}	:i $FormatText$$checksumname$ = $intensity_tick_rgba_id$%s("freeplay_song_intensity_%a_rgba")$a$ = %GLOBAL%$intensity_idx$	:i $FormatText$$checksumname$ = $intensity_tick_alpha_id$%s("freeplay_song_intensity_%a_alpha")$a$ = %GLOBAL%$intensity_idx$	:i if (%GLOBAL%$intensity_idx$ <= %GLOBAL%$intensity_value$)		:i $AddParam$$structure_name$ = $intensity_struct$$name$ = %GLOBAL%$intensity_tick_rgba_id$$value$ = %GLOBAL%$on_rgba$		:i $AddParam$$structure_name$ = $intensity_struct$$name$ = %GLOBAL%$intensity_tick_alpha_id$$value$ = %GLOBAL%$on_alpha$	:i else 		:i $AddParam$$structure_name$ = $intensity_struct$$name$ = %GLOBAL%$intensity_tick_rgba_id$$value$ = %GLOBAL%$off_rgba$		:i $AddParam$$structure_name$ = $intensity_struct$$name$ = %GLOBAL%$intensity_tick_alpha_id$$value$ = %GLOBAL%$off_alpha$	:i endif	:i %GLOBAL%$id$.$se_setprops$:s{		:i %GLOBAL%$intensity_struct$	:i :s}	:i %GLOBAL%$intensity_idx$ = (%GLOBAL%$intensity_idx$ + %i(1))	:i loop_to %GLOBAL%$max_intensity$	:i endfunction]Script freeplay_init_menu_state_stack 0x2a2c4926 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i %GLOBAL%$menu_parent$.$settags$:s{		:i $freeplay_menu_state_stack_top$ = %i(0)		:i $freeplay_menu_state_stack$ = :a{			:i :s{$state$ = $null$$focus$ = $unset$:s}			:i :s{$state$ = $null$$focus$ = $unset$:s}			:i :s{$state$ = $null$$focus$ = $unset$:s}			:i :s{$state$ = $null$$focus$ = $unset$:s}		:i :a}	:i :s}	:i endfunction]Script freeplay_get_menu_state_stack 0x3981abeb [	${Unknown [0001240067e6859a6969696900000000]}$	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i %GLOBAL%$menu_parent$.$getsingletag$$freeplay_menu_state_stack$	:i %GLOBAL%$menu_parent$.$getsingletag$$freeplay_menu_state_stack_top$	:i return :s{		:i $freeplay_menu_state_stack_top$ = %GLOBAL%$freeplay_menu_state_stack_top$		:i $freeplay_menu_state_stack$ = %GLOBAL%$freeplay_menu_state_stack$	:i :s}	:i endfunction]Script freeplay_set_menu_state_stack 0x813a4fb9 [	${Unknown [0001240067e6859a696969690000001800012c00fff9a3f469696969000000280001240048b00e9c6969696900000000]}$	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i %GLOBAL%$menu_parent$.$settags$:s{		:i $freeplay_menu_state_stack_top$ = %GLOBAL%$freeplay_menu_state_stack_top$		:i $freeplay_menu_state_stack$ = %GLOBAL%$freeplay_menu_state_stack$	:i :s}	:i endfunction]Script freeplay_menu_push 0x15437c59 [	${Unknown [000126005c6c2d0469696969000000180001240067e6859a6969696900000000]}$	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $freeplay_get_menu_state_stack$$player$ = %GLOBAL%$player$	:i if $GotParam$${StructQBKey focus_idx}$		:i $current_state$ = (%GLOBAL%$freeplay_menu_state_stack$:a{(%GLOBAL%$freeplay_menu_state_stack_top$ - %i(1)):a}->$state$)		:i $SetArrayElement$$arrayName$ = $freeplay_menu_state_stack$$index$ = (%GLOBAL%$freeplay_menu_state_stack_top$ - %i(1))$newValue$ = :s{$state$ = %GLOBAL%$current_state$$focus_idx$ = %GLOBAL%$focus_idx$:s}	:i endif	:i $SetArrayElement$$arrayName$ = $freeplay_menu_state_stack$$index$ = %GLOBAL%$freeplay_menu_state_stack_top$$newValue$ = :s{$state$ = %GLOBAL%$state$:s}	:i $freeplay_menu_state_stack_top$ = (%GLOBAL%$freeplay_menu_state_stack_top$ + %i(1))	:i $freeplay_set_menu_state_stack$$player$ = %GLOBAL%$player$:s{		:i $freeplay_menu_state_stack$ = %GLOBAL%$freeplay_menu_state_stack$		:i $freeplay_menu_state_stack_top$ = %GLOBAL%$freeplay_menu_state_stack_top$	:i :s}	:i $create_freeplay_menu$$player$ = %GLOBAL%$player$$menu_state$ = %GLOBAL%$state$	:i endfunction]Script freeplay_menu_pop e15f3066 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $freeplay_get_menu_state_stack$$player$ = %GLOBAL%$player$	:i if (%GLOBAL%$freeplay_menu_state_stack_top$ > %i(1))		:i $freeplay_menu_state_stack_top$ = (%GLOBAL%$freeplay_menu_state_stack_top$ - %i(1))		:i $freeplay_set_menu_state_stack$$player$ = %GLOBAL%$player$:s{			:i $freeplay_menu_state_stack$ = %GLOBAL%$freeplay_menu_state_stack$			:i $freeplay_menu_state_stack_top$ = %GLOBAL%$freeplay_menu_state_stack_top$		:i :s}		:i $state$ = (%GLOBAL%$freeplay_menu_state_stack$:a{(%GLOBAL%$freeplay_menu_state_stack_top$ - %i(1)):a}->$state$)		:i $focus_idx$ = (%GLOBAL%$freeplay_menu_state_stack$:a{(%GLOBAL%$freeplay_menu_state_stack_top$ - %i(1)):a}->$focus_idx$)		:i $create_freeplay_menu$$player$ = %GLOBAL%$player$$menu_state$ = %GLOBAL%$state$$menu_focus_idx$ = %GLOBAL%$focus_idx$	:i else 		:i $freeplay_menu_state_stack_top$ = (%GLOBAL%$freeplay_menu_state_stack_top$ - %i(1))		:i $freeplay_set_menu_state_stack$$player$ = %GLOBAL%$player$:s{			:i $freeplay_menu_state_stack$ = %GLOBAL%$freeplay_menu_state_stack$			:i $freeplay_menu_state_stack_top$ = %GLOBAL%$freeplay_menu_state_stack_top$		:i :s}		:i $freeplay_resume_player$$player$ = %GLOBAL%$player$	:i endif	:i endfunction]Script create_freeplay_pause_menu 0x498e1577 [	:i $freeplay_menu_push$$state$ = $base$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_pause_menu_resume ff7782af [	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $freeplay_resume_player$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_pause_menu_quit 0x3963ff03 [	${Unknown [0001240067e6859a6969696900000000]}$	:i if $DemoBuild$		:i $freeplay_pause_menu_dropout$$player$ = %GLOBAL%$player$	:i else 		:i $freeplay_menu_push$$player$ = %GLOBAL%$player$$state$ = $quit$	:i endif	:i endfunction]Script freeplay_pause_menu_dropout deee22e6 [	:i $spawnscriptnow$$freeplay_pause_menu_dropout_ignore_go_to_main_menu_for_one_frame$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $audio_ui_freeplay_play_sfx$$type$ = $Drop$$player$ = %GLOBAL%$player$	:i $freeplay_drop_player_out$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_pause_menu_dropout_ignore_go_to_main_menu_for_one_frame 0x369ab712 [	:i $OnExitRun$$freeplay_pause_menu_dropout_ignore_go_to_main_menu_for_one_frame_on_exit_run$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i $freeplay_join_event_handler$.$getsingletag$${StructQBKey ignore_go_to_main_menu_for_players}$	:i $SetArrayElement$$arrayName$ = $ignore_go_to_main_menu_for_players$$index$ = (%GLOBAL%$player$ - %i(1))$newValue$ = $true$	:i $freeplay_join_event_handler$.$settags$$ignore_go_to_main_menu_for_players$ = %GLOBAL%$ignore_go_to_main_menu_for_players$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i endfunction]Script freeplay_pause_menu_dropout_ignore_go_to_main_menu_for_one_frame_on_exit_run c091f64f [	:i if NOT $ScreenElementExists$${StructQBKey id = freeplay_join_event_handler}$		:i return 	:i endif	:i $freeplay_join_event_handler$.$getsingletag$${StructQBKey ignore_go_to_main_menu_for_players}$	:i $SetArrayElement$$arrayName$ = $ignore_go_to_main_menu_for_players$$index$ = (%GLOBAL%$player$ - %i(1))$newValue$ = $false$	:i $freeplay_join_event_handler$.$settags$$ignore_go_to_main_menu_for_players$ = %GLOBAL%$ignore_go_to_main_menu_for_players$	:i endfunction]Script freeplay_pause_menu_difficulty 0x4c58822f [	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $create_freeplay_difficulty_menu$$player$ = %GLOBAL%$player$$back_target$ = $Pause_Menu$	:i endfunction]Script freeplay_pause_menu_full_pause 0x956aff17 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $freeplay_resume_player$$player$ = %GLOBAL%$player$	:i $gh_start_pressed$$device_num$ = %GLOBAL%$device_num$$from_handler$$really_pause$	:i endfunction]Script freeplay_pause_menu_songlist_pause 0x18bb74b5 [	${Unknown [0001240067e6859a696969690000001800012600d7f49c726969696900000000]}$	:i $hide_glitch$${StructInt num_frames = 7}$	:i $stoprendering$	:i $destroy_freeplay_menu$$player$ = %GLOBAL%$player$	:i $freeplay_resume_player$$player$ = %GLOBAL%$player$	:i $Playlist_GetCurrentSong$	:i $freeplay_prepare_for_pause$	:i $gh_start_pressed$:s{		:i $device_num$ = %GLOBAL%$device_num$		:i $from_handler$		:i $really_pause$		:i $pause_ui_state$ = $UIstate_freeplay_pause$		:i $pause_ui_state_params$ = :s{			:i $pause_type$ = %GLOBAL%$pause_type$			:i $previous_first_song$ = %GLOBAL%$current_song$			:i $player$ = %GLOBAL%$player$		:i :s}	:i :s}	:i endfunction]Script freeplay_pause_menu_calibrate_lag 0x1080d735 [	${Unknown [0001240067e6859a696969690000001800012400c9428a086969696900000000]}$	:i $kill_intro_celeb_ui$	:i $ResetScoreUpdateReady$	:i $audio_gameplay_fail_song_stop_sounds$	:i if $ScriptExists$${StructQBKey audio_crowd_play_swells_during_stats_screen}$		:i $KillSpawnedScript$${StructQBKey name = audio_crowd_play_swells_during_stats_screen}$	:i endif	:i if $isSoundEventplaying$${StructQBKey Surge_During_Stats_Screen}$		:i $stopsoundevent$${			StructQBKey Surge_During_Stats_Screen			StructFloat fade_time = 1.5			StructQBKey fade_type = linear		}$			:i endif	:i $ThreadSafeSetGlobalInteger$$global_name$ = $primary_controller$$new_value$ = %GLOBAL%$device_num$	:i $ThreadSafeSetGlobalInteger$${		StructQBKey global_name = primary_controller_assigned		StructInt new_value = 1	}$		:i $Stopsoundsbybuss$${StructQBKey Encore_Events}$	:i $choose_calibrate_lag$	:i endfunction]Script ui_create_freeplay_pause 0x24f0004e [	${StructQBKey songlist_change_canceled = false}$	:i if NOT $GotParam$${StructQBKey old_base_name}$		:i switch %GLOBAL%$pause_type$			:i case $new_song$				:i $songlist_mode$ = $play_song$				:i endcase			case $edit_playlist$				:i $songlist_mode$ = $playlist$				:i endcase			case $new_playlist$				:i $songlist_mode$ = $new_playlist$		:i end_switch		:i $freeplay_pause_spawned$$songlist_mode$ = %GLOBAL%$songlist_mode$$player$ = %GLOBAL%$player$	:i else 		:i $restart_song_required$ = $false$		:i if (%GLOBAL%$songlist_change_canceled$ = $false$)			:i if (%GLOBAL%$pause_type$ = $new_song$)				:i $restart_song_required$ = $true$			:i elseif 				:i $Playlist_GetCurrentSong$				:i if (%GLOBAL%$current_song$ !== %GLOBAL%$previous_first_song$)					:i $restart_song_required$ = $true$				:i endif			:i endif		:i endif		:i $spawnscriptnow$$freeplay_unpause_spawned$$params$ = :s{$restart_song_required$ = %GLOBAL%$restart_song_required$:s}	:i endif	:i endfunction]Script freeplay_pause_spawned 0x77e565ae [	${Unknown [0001240067e6859a696969690000001800012600a8e774956969696900000000]}$	:i $disable_pause$	:i if (%GLOBAL%$songlist_mode$ = $playlist$)		:i $Playlist_GetSize$		:i %GLOBAL%$array$ = :a{:a}		:i %GLOBAL%$index$ = %i(0)		:i while 		:i $Playlist_GetSongName$$index$ = %GLOBAL%$index$		:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = %GLOBAL%$requested_song_name$		:i %GLOBAL%$index$ = (%GLOBAL%$index$ + %i(1))		:i loop_to %GLOBAL%$playlist_size$		:i $change$$current_playlist$ = %GLOBAL%$array$	:i elseif (%GLOBAL%$songlist_mode$ = $new_playlist$)		:i $change$${			StructArray current_playlist			{				Floats [0.00000, 0.00000]			}		}$				:i %GLOBAL%$songlist_mode$ = $playlist$	:i else 		:i $change$${			StructArray current_playlist			{				Floats [0.00000, 0.00000]			}		}$			:i endif	:i $DestroyScreenElement$${StructQBKey id = freeplay_extra_helper_pill}$	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $PushDisableRendering$${		StructQBKey context = going_into_songlist		StructQBKey type = unchecked	}$		:i $ui_event_wait$$event$ = $menu_change$$Data$ = :s{$state$ = $UIState_songlist$$mode$ = %GLOBAL%$songlist_mode$$exclusive_device$ = %GLOBAL%$controller$:s}	:i endfunction]Script freeplay_unpause_spawned b08a5d8d [	:i if (%GLOBAL%$restart_song_required$ = $true$)		:i $set_all_highway_prepass_props$${StructInt alpha = 0}$		:i $set_all_highway_props$${StructInt alpha = 0}$		:i $hide_glitch$${StructInt num_frames = 30}$	:i endif	:i $ui_event_wait_for_safe$	:i $audio_ui_menu_music_off$	:i $freeplay_prepare_for_unpause$	:i if (%GLOBAL%$restart_song_required$ = $true$)		:i $play_cameracut$${StructString prefix = "cameras_no_band"}$		:i $kill_gem_scroller$${			StructQBKey restarting			StructQBKey freeplay_visualizer_hack		}$				:i $change$${StructInt gameplay_restart_song = 1}$		:i $change$${StructInt gameplay_loading_transition = 1}$		:i $generic_event_back$${StructQBKey state = UIState_Gameplay}$		:i $freeplay_end_of_song$		:i $freeplay_unpause_sound$		:i $UnpauseSoundsByBuss$${StructQBKey master}$	:i else 		:i %GLOBAL%$cnt$ = %i(0)		:i while 		:i if (~$songlist_song_preview_changing$ = %i(0) OR $cnt$ >= %i(75))			:i continue		:i else 			:i %GLOBAL%$cnt$ = (%GLOBAL%$cnt$ + %i(1))			:i $wait$${				StructInt 1				StructQBKey gameframe			}$					:i endif		:i loop_to 		:i $gh_start_pressed$${StructQBKey from_handler}$	:i endif	:i endfunction]Script freeplay_prepare_for_pause 0x239d51ea [	${StructQBKey hide_hud = true}$	:i $gamemode_gettype$	:i if NOT (%GLOBAL%$type$ = $freeplay$)		:i return 	:i endif	:i $freeplay_disable_menus$${StructQBKey defer_system_notifications_while_disabled = false}$	:i if (%GLOBAL%$hide_hud$ = $true$)		:i $set_all_highway_prepass_props$${StructFloat alpha = 0.00}$		:i $safe_hide$${StructQBKey id = highway_root_window}$		:i $safe_hide$${StructQBKey id = vocals_highway_root}$		:i $safe_hide$${StructQBKey id = hud_root}$		:i $GetMaxLocalPlayers$		:i $player$ = %i(1)		:i while 		:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$ignore_parent_alpha$ = $false$			:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = $freeplay_sub_menu$:s}$param$ = $out$				:i %GLOBAL%$out$.$se_setprops$$ignore_parent_alpha$ = $false$			:i endif			:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = $intensity_sub_menu$:s}$param$ = $out$				:i %GLOBAL%$out$.$se_setprops$$ignore_parent_alpha$ = $false$			:i endif		:i endif		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu_background$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$ignore_parent_alpha$ = $false$		:i endif		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $results_panel$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$ignore_parent_alpha$ = $false$		:i endif		:i $player$ = (%GLOBAL%$player$ + %i(1))		:i loop_to %GLOBAL%$max_players$	:i endif	:i if $ScreenElementExists$${StructQBKey id = intro_container}$		:i $intro_container$.$freeplay_pause_fade_out_intro$	:i endif	:i endfunction]Script freeplay_prepare_for_unpause 0x029a105b [	:i $gamemode_gettype$	:i if NOT (%GLOBAL%$type$ = $freeplay$)		:i return 	:i endif	:i $SAP_SetMasterVolume$${StructInt vol = -100}$	:i $safe_show$${StructQBKey id = highway_root_window}$	:i $safe_show$${StructQBKey id = vocals_highway_root}$	:i if $ScreenElementExists$${StructQBKey id = intro_container}$		:i $intro_container$.$freeplay_unpause_fade_in_intro$	:i endif	:i if NOT (~$cheat_performancemode$ = %i(1))		:i $safe_show$${StructQBKey id = hud_root}$	:i endif	:i $GetMaxLocalPlayers$	:i $player$ = %i(1)	:i while 	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}		:i %GLOBAL%$resolved_id$.$se_setprops$$ignore_parent_alpha$ = $true$		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = $freeplay_sub_menu$:s}$param$ = $out$			:i %GLOBAL%$out$.$se_setprops$$ignore_parent_alpha$ = $true$		:i endif		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = $intensity_sub_menu$:s}$param$ = $out$			:i %GLOBAL%$out$.$se_setprops$$ignore_parent_alpha$ = $true$		:i endif	:i endif	:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu_background$:s}		:i %GLOBAL%$resolved_id$.$se_setprops$$ignore_parent_alpha$ = $true$	:i endif	:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $results_panel$:s}		:i %GLOBAL%$resolved_id$.$se_setprops$$ignore_parent_alpha$ = $true$	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i $set_all_highway_prepass_props$${StructFloat alpha = 1.00}$	:i $spawnscriptnow$${StructQBKey spawned_waiting_then_fading_in_from_unpausing_freeplay}$	:i endfunction]Script spawned_waiting_then_fading_in_from_unpausing_freeplay 0x23f37140 [	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $SAP_SetMasterVolume$${		StructInt vol = 0		StructFloat time = 0.5	}$		:i endfunction]Script freeplay_pause_fade_out_intro c43dbe99 [	:i $se_setprops$${StructFloat song_intro_container_alpha = 0.00}$	:i endfunction]Script freeplay_unpause_fade_in_intro ea4caf58 [	:i $se_setprops$${		StructFloat song_intro_container_alpha = 1.00		StructFloat time = 1.00	}$		:i endfunction]Script freeplay_focus_menu_element 0x7bf2e371 [	${		StructQBKey grayed_out = false		StructFloat time = 0.15000000596046448	}$		:i if (%GLOBAL%$grayed_out$ = $false$)		:i $item_text_rgba$ = $NTSCWhite$	:i else 		:i $item_text_rgba$ = $GH6_gold$	:i endif	:i $se_setprops$$highlight_btn_alpha$ = %f(0.5)$item_text_rgba$ = %GLOBAL%$item_text_rgba$$time$ = %GLOBAL%$time$	:i endfunction]Script freeplay_unfocus_menu_element b7fe875a [	${		StructQBKey grayed_out = false		StructFloat time = 0.15000000596046448	}$		:i if (%GLOBAL%$grayed_out$ = $false$)		:i $item_text_rgba$ = $GH6_gold$	:i else 		:i $item_text_rgba$ = :a{%i(100)%i(100)%i(100)%i(255):a}	:i endif	:i $se_setprops$$highlight_btn_alpha$ = %i(0)$item_text_rgba$ = %GLOBAL%$item_text_rgba$$time$ = %GLOBAL%$time$	:i endfunction]Script freeplay_create_highway_element 0x0960ea35 [	${StructInt has_icon = 0}$	:i if (%GLOBAL%$has_icon$ = %i(0))		:i %GLOBAL%$highway_element_desc$ = %s("freeplay_highway_menu_element")	:i else 		:i if NOT $GotParam$${StructQBKey icon_texture}$			:i $scriptassert$${StructString 0x00000000 = "missing icon texture for creating freeplay highway element"}$		:i endif		:i %GLOBAL%$highway_element_desc$ = %s("freeplay_highway_menu_element_with_icon")	:i endif	:i $CreateScreenElement$:s{		:i $parent$ = %GLOBAL%$parent$		:i $type$ = $descinterface$		:i $desc$ = %GLOBAL%$highway_element_desc$		:i $Pos$ = %vec2(0.0,0.0)		:i $pos_anchor$ = :a{$left$,$top$:a}		:i $just$ = :a{$left$,$top$:a}		:i $item_text_text$ = %GLOBAL%$text$		:i $internal_just$ = :a{$center$,$center$:a}		:i $autosizedims$ = $true$	:i :s}	:i if (%GLOBAL%$has_icon$ = %i(1))		:i %GLOBAL%$id$.$se_setprops$:s{			:i $item_icon_texture$ = %GLOBAL%$icon_texture$			:i $tags$ = :s{				:i $has_icon$ = %i(1)			:i :s}		:i :s}	:i endif	:i %GLOBAL%$id$.$desc_resolvealias$$name$ = $alias_item_text$$param$ = $text_id$	:i %GLOBAL%$text_id$.$se_getprops$	:i %GLOBAL%$text_internal_scale$ = %GLOBAL%$internal_scale$	:i $ResolveScreenElementID$$id$ = :s{%GLOBAL%$text_id$$child$ = %i(0):s}	:i %GLOBAL%$resolved_id$.$se_getprops$$dims$	:i %GLOBAL%$element_width$ = (%GLOBAL%$dims$:a{%i(0):a} * %GLOBAL%$text_internal_scale$:a{%i(0):a})	:i if (%GLOBAL%$has_icon$ = %i(1))		:i %GLOBAL%$id$.$desc_resolvealias$$name$ = $alias_item_icon$$param$ = $icon_id$		:i %GLOBAL%$icon_id$.$se_getprops$$dims$		:i %GLOBAL%$icon_width$ = (%GLOBAL%$dims$:a{%i(0):a})		:i %GLOBAL%$id$.$desc_resolvealias$$name$ = $alias_item_menu$$param$ = $item_menu_id$		:i %GLOBAL%$item_menu_id$.$se_getprops$$spacing_between$		:i %GLOBAL%$element_width$ = (%GLOBAL%$element_width$ + %GLOBAL%$icon_width$ + %GLOBAL%$spacing_between$)	:i endif	:i return $id$ = %GLOBAL%$id$$element_width$ = %GLOBAL%$element_width$	:i endfunction]Script freeplay_set_menu_background_dims 0x4abe862e [	${Unknown [000126001136c768696969690000001800012500e24999b76969696900000000]}$	:i $background_width$ = (%GLOBAL%$menu_width$ + %i(144))	:i if (%GLOBAL%$background_width$ < %i(300))		:i $background_width$ = %i(300)	:i elseif (%GLOBAL%$background_width$ > %i(360))		:i $background_width$ = %i(360)	:i endif	:i $light_box_dims$ = (%GLOBAL%$background_width$ * %vec2(1.0,0.0) + %vec2(0.0,320.0))	:i $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu_background$:s}	:i %GLOBAL%$resolved_id$.$se_setprops$$light_box_dims$ = %GLOBAL%$light_box_dims$	:i endfunction]Script freeplay_set_menu_highlight_dims 0x0b6718eb [	${Unknown [00012500e24999b7696969690000001800012600332816ed69696969000000280001240062a6a1646969696900000000]}$	:i $light_bar_width$ = (%GLOBAL%$menu_width$ - %i(11))	:i if (%GLOBAL%$light_bar_width$ < %i(170))		:i $light_bar_width$ = %i(170)	:i elseif (%GLOBAL%$light_bar_width$ > %i(231))		:i $light_bar_width$ = %i(231)	:i endif	:i $light_bar_dims$ = ((%GLOBAL%$light_bar_width$ * %vec2(1.0,0.0)) + %vec2(0.0,80.0))	:i $idx$ = %i(0)	:i while 	:i $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_id$$child$ = %GLOBAL%$idx$:s}	:i %GLOBAL%$resolved_id$.$se_setprops$$light_bar_dims$ = %GLOBAL%$light_bar_dims$	:i $idx$ = (%GLOBAL%$idx$ + %i(1))	:i loop_to %GLOBAL%$num_elements$	:i endfunction]Script freeplay_create_stats_ui 0x2958d05d [	:i $freeplay_get_num_active_players$	:i if (%GLOBAL%$num_active_players$ > %i(0))		:i $SoundEvent$${StructQBKey event = EndOfSong_Camera_Cheer}$		:i $freeplay_get_first_active_player$		:i while 		:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$		:i if (%GLOBAL%$menu_parent$ !== $null$)			:i $DestroyScreenElement$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $results_panel$:s}			:i $freeplay_get_num_active_players$			:i $freeplay_get_num_active_vocalists$			:i $num_highways$ = (%GLOBAL%$num_active_players$ - %GLOBAL%$num_active_vocalists$)			:i switch %GLOBAL%$num_highways$				:i case %i(1)					:i $overall_scale$ = %f(1.0)					:i endcase				case %i(2)					:i $overall_scale$ = %f(0.8330000)					:i endcase				case %i(3)					:i $overall_scale$ = %f(0.6660000)					:i endcase				case %i(4)					:i $overall_scale$ = %f(0.5)			:i end_switch			:i $CreateScreenElement$:s{				:i $parent$ = %GLOBAL%$menu_parent$				:i $type$ = $descinterface$				:i $local_id$ = $results_panel$				:i $desc$ = %s("freeplay_results")				:i $Pos$ = %vec2(0.0,0.0)				:i $autosizedims$ = $true$				:i $pos_anchor$ = :a{$center$,$bottom$:a}				:i $just$ = :a{$center$,$bottom$:a}				:i $ignore_parent_alpha$ = $true$				:i $alpha$ = %i(0)				:i $Scale$ = %GLOBAL%$overall_scale$			:i :s}			:i $freeplay_get_percent_notes_hit$$player_index$ = %GLOBAL%$player$			:i $FormatText$$textname$ = $score_text$^[cfd55336]^$s$ = %GLOBAL%$percent_notes_hit$			:i $getplayerinfo$%GLOBAL%$player$$Score$			:i $CastToInteger$${StructQBKey Score}$			:i $FormatText$$textname$ = $score_amount_text$^[4d4555da]^$s$ = %GLOBAL%$Score$			:i %GLOBAL%$id$.$se_setprops$$score_text$ = %GLOBAL%$score_text$$score_amount_text$ = %GLOBAL%$score_amount_text$$alpha$ = %i(1)$time$ = %i(1)			:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$			:i %GLOBAL%$menu_parent$.$obj_killspawnedscript$$name$ = $freeplay_dropout_player_if_inactive$			:i %GLOBAL%$menu_parent$.$obj_killspawnedscript$$name$ = $freeplay_controller_pulling_observer$			:i %GLOBAL%$menu_parent$.$obj_killspawnedscript$$name$ = $freeplay_debounce_starpower$		:i endif		:i $freeplay_get_next_active_player$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_active_players$	:i endif	:i endfunction]Script freeplay_get_percent_notes_hit 0x3cab3400 [	:i $getplayerinfo$%GLOBAL%$player_index$$notes_hit$	:i $getplayerinfo$%GLOBAL%$player_index$$total_notes$	:i $getplayerinfo$%GLOBAL%$player_index$$vocal_phrase_quality$	:i $getplayerinfo$%GLOBAL%$player_index$$vocal_phrase_fp_max_qual$	:i if NOT $playerinfoequals$%GLOBAL%$player_index$$part$ = $Vocals$		:i if (%GLOBAL%$total_notes$ > %i(0))			:i %GLOBAL%$percent_notes_hit$ = (((%GLOBAL%$notes_hit$ * %f(1.0)) / %GLOBAL%$total_notes$) * %f(100.0))		:i else 			:i %GLOBAL%$percent_notes_hit$ = %i(0)		:i endif	:i else 		:i $printstruct$$channel$ = $zdebug$ isNull 		:i if (%GLOBAL%$vocal_phrase_fp_max_qual$ > %i(0))			:i %GLOBAL%$percent_notes_hit$ = (((%GLOBAL%$vocal_phrase_quality$ * %f(1.0)) / %GLOBAL%$vocal_phrase_fp_max_qual$) * %f(100.0))		:i else 			:i %GLOBAL%$percent_notes_hit$ = %i(0)		:i endif	:i endif	:i $MathFloor$%GLOBAL%$percent_notes_hit$	:i %GLOBAL%$percent_notes_hit$ = %GLOBAL%$floor$	:i return $percent_notes_hit$ = %GLOBAL%$percent_notes_hit$	:i endfunction]Script freeplay_destroy_stats_ui fcd98855 [	:i $freeplay_get_num_active_players$	:i if (%GLOBAL%$num_active_players$ > %i(0))		:i $freeplay_get_first_active_player$		:i while 		:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $results_panel$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$alpha$ = %i(0)$time$ = %i(1)		:i endif		:i $freeplay_get_next_active_player$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_active_players$	:i endif	:i endfunction]Script freeplay_disable_menus 0x47abbbba [	${StructQBKey defer_system_notifications_while_disabled = true}$	:i $destroy_freeplay_jump_in_event_handler$	:i if (%GLOBAL%$defer_system_notifications_while_disabled$ = $true$)		:i $gamemode_gettype$		:i if (%GLOBAL%$type$ = $freeplay$)			:i if (~$freeplay_deferring_system_notification$ = $false$)				:i $StartDelaySystemUI$				:i $change$${StructQBKey freeplay_deferring_system_notification = true}$			:i endif		:i endif	:i endif	:i if (~$view_mode$ !== %i(0))		:i return 	:i endif	:i $freeplay_get_num_active_players$	:i if (%GLOBAL%$num_active_players$ > %i(0))		:i $freeplay_get_first_active_player$		:i while 		:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$block_events$$alpha$ = %i(0)$time$ = %i(1)			:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = $freeplay_sub_menu$:s}$param$ = $out$				:i %GLOBAL%$out$.$se_setprops$$block_events$$alpha$ = %i(0)$time$ = %i(1)			:i endif			:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = $intensity_sub_menu$:s}$param$ = $out$				:i %GLOBAL%$out$.$se_setprops$$block_events$$alpha$ = %i(0)$time$ = %i(1)			:i endif		:i endif		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu_background$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$alpha$ = %i(0)$time$ = %i(1)		:i endif		:i $freeplay_get_next_active_player$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_active_players$	:i endif	:i endfunction]Script freeplay_enable_menus 0x4bde2403 [	:i if $GameIsPaused$		:i return 	:i endif	:i $create_freeplay_jump_in_event_handler$$freeplay_auto_join_device$ = %GLOBAL%$freeplay_auto_join_device$	:i if (~$freeplay_deferring_system_notification$ = $true$)		:i $StopDelaySystemUI$		:i $change$${StructQBKey freeplay_deferring_system_notification = false}$	:i endif	:i $freeplay_get_num_active_players$	:i if (%GLOBAL%$num_active_players$ > %i(0))		:i $freeplay_get_first_active_player$		:i while 		:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$unblock_events$$alpha$ = %i(1)$time$ = %i(1)			:i %GLOBAL%$sub_menu_parent$ = %GLOBAL%$resolved_id$			:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = $freeplay_sub_menu$:s}				:i %GLOBAL%$resolved_id$.$se_setprops$$unblock_events$$alpha$ = %i(1)$time$ = %i(1)			:i endif			:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$sub_menu_parent$$child$ = $intensity_sub_menu$:s}$param$ = $out$				:i %GLOBAL%$out$.$se_setprops$$unblock_events$$alpha$ = %i(1)$time$ = %i(1)			:i endif			:i %GLOBAL%$resolved_id$.$desc_resolvealias$$name$ = $alias_menu$$param$ = $menu_id$			:i $LaunchEvent$$type$ = $focus$$target$ = %GLOBAL%$menu_id$			:i %GLOBAL%$menu_id$.$menu_getselectedindex$			:i $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_id$$child$ = %GLOBAL%$selected_index$:s}			:i $LaunchEvent$$type$ = $focus$$target$ = %GLOBAL%$resolved_id$		:i endif		:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu_background$:s}			:i %GLOBAL%$resolved_id$.$se_setprops$$alpha$ = %i(1)$time$ = %i(1)		:i endif		:i $freeplay_get_next_active_player$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_active_players$	:i endif	:i $PopDisableRendering$${		StructQBKey context = freeplay_venue_change		StructQBKey type = unchecked	}$		:i if (~$freeplay_demo_quit_warning_shown$ = %i(1))		:i if NOT $ScreenElementExists$${StructQBKey id = dialog_box_container}$			:i $change$${StructInt freeplay_demo_quit_warning_shown = 0}$		:i endif	:i endif	:i endfunction]Script freeplay_pause_difficulty_entry_focus 0x1de68099 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$difficulty$	:i switch %GLOBAL%$difficulty$		:i case $beginner$			:i return ${StructInt focus_idx = 0}$			:i endcase		case $easy$			:i return ${StructInt focus_idx = 1}$			:i endcase		case $medium$			:i return ${StructInt focus_idx = 2}$			:i endcase		case $hard$			:i return ${StructInt focus_idx = 3}$			:i endcase		case $expert$			:i $getplayerinfo$%GLOBAL%$player$$part$			:i if (%GLOBAL%$part$ = $drum$)				:i $getplayerinfo$%GLOBAL%$player$$double_kick_drum$				:i if (%GLOBAL%$double_kick_drum$ = %i(0))					:i return ${StructInt focus_idx = 4}$				:i else 					:i return ${StructInt focus_idx = 5}$				:i endif			:i else 				:i return ${StructInt focus_idx = 4}$			:i endif	:i end_switch	:i $scriptassert$${StructQBStringQs 0x0b2cf4b2}$	:i endfunction]Script freeplay_pause_choose_difficulty c26c2c38 [	${Unknown [0001240067e6859a696969690000001800012600449490106969696900000000]}$	:i if (%GLOBAL%$difficulty$ = $expert_plus$)		:i $SetPlayerInfo$%GLOBAL%$player$$double_kick_drum$ = %i(1)		:i $difficulty$ = $expert$	:i else 		:i $SetPlayerInfo$%GLOBAL%$player$$double_kick_drum$ = %i(0)	:i endif	:i $SetPlayerInfo$%GLOBAL%$player$$difficulty$ = %GLOBAL%$difficulty$	:i $freeplay_pause_menu_resume$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_pause_instrument_entry_focus 0x7dbc5766 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i switch %GLOBAL%$part$		:i case $guitar$			:i return ${StructInt focus_idx = 0}$			:i endcase		case $Bass$			:i return ${StructInt focus_idx = 1}$	:i end_switch	:i $scriptassert$${StructQBStringQs 0x51812774}$	:i endfunction]Script freeplay_pause_choose_instrument 0x12d9bf06 [	${Unknown [0001240067e6859a696969690000001800012600b6f08f396969696900000000]}$	:i if NOT $playerinfoequals$%GLOBAL%$player$$part$ = %GLOBAL%$part$		:i $freeplay_set_player_part$$player$ = %GLOBAL%$player$$part$ = %GLOBAL%$part$		:i $SetPlayerInfo$%GLOBAL%$player$$star_power_amount$ = %i(0)		:i $SetPlayerInfo$%GLOBAL%$player$$current_run$ = %i(0)		:i $ResetPlayerNoteStreak$$player$ = %GLOBAL%$player$		:i $UpdateRunChange$$player$ = %GLOBAL%$player$	:i endif	:i $freeplay_pause_menu_resume$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_pause_lefty_entry_focus 0x213b9735 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$lefty_flip$	:i return $focus_idx$ = %GLOBAL%$lefty_flip$	:i endfunction]Script freeplay_pause_choose_lefty 0x339e864c [	${Unknown [0001240067e6859a696969690000001800012400e22dd5c26969696900000000]}$	:i $SetPlayerInfo$%GLOBAL%$player$$lefty_flip$ = %GLOBAL%$lefty_flip$	:i $SetPlayerInfo$%GLOBAL%$player$$lefthanded_gems$ = %GLOBAL%$lefty_flip$	:i $SetPlayerInfo$%GLOBAL%$player$$lefthanded_button_ups$ = %GLOBAL%$lefty_flip$	:i $refresh_button_models$$player$ = %GLOBAL%$player$	:i $freeplay_pause_menu_resume$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_condition_lefty_flip 0x9f260827 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i switch %GLOBAL%$part$		:i case $guitar$			:i endcase		case $Bass$			:i endcase		case $drum$			:i return ${StructQBKey true}$	:i end_switch	:i return ${StructQBKey false}$	:i endfunction]Script freeplay_condition_instrument 0x5fe22cc2 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $Playlist_GetCurrentSong$	:i $get_song_difficulty_ratings$$song$ = %GLOBAL%$current_song$	:i $song_contains_guitar_and_bass_parts$ = %i(1)	:i if $GotParam$${StructQBKey guitar_difficulty_rating}$		:i if (%GLOBAL%$guitar_difficulty_rating$ = %i(0) OR %GLOBAL%$bass_difficulty_rating$ = %i(0))			:i $song_contains_guitar_and_bass_parts$ = %i(0)		:i endif	:i endif	:i $getplayerinfo$%GLOBAL%$player$$part$	:i switch %GLOBAL%$part$		:i case $guitar$			:i endcase		case $Bass$			:i if (%GLOBAL%$song_contains_guitar_and_bass_parts$ = %i(1))				:i return ${StructQBKey true}$			:i else 				:i return ${StructQBKey false}$			:i endif	:i end_switch	:i return ${StructQBKey false}$	:i endfunction]Script freeplay_condition_expert_plus fae3719a [	${Unknown [0001240067e6859a6969696900000000]}$	:i if $DemoBuild$		:i return ${StructQBKey false}$	:i endif	:i $getplayerinfo$%GLOBAL%$player$$part$	:i switch %GLOBAL%$part$		:i case $drum$			:i return ${StructQBKey true}$	:i end_switch	:i return ${StructQBKey false}$	:i endfunction]Script freeplay_condition_xblademo 0x9725f278 [	:i if $DemoBuild$		:i if (~$kiosk_demo$ = %i(0))			:i return ${StructQBKey true}$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script freeplay_condition_notdemo c61bb5b1 [	:i if $DemoBuild$		:i return ${StructQBKey false}$	:i else 		:i return ${StructQBKey true}$	:i endif	:i endfunction]Script freeplay_condition_options 0x9f260827 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i switch %GLOBAL%$part$		:i case $guitar$			:i endcase		case $Bass$			:i endcase		case $drum$			:i return ${StructQBKey true}$	:i end_switch	:i return ${StructQBKey false}$	:i endfunction]Script freeplay_condition_no_options f3a1e44e [	${Unknown [0001240067e6859a6969696900000000]}$	:i if NOT $freeplay_condition_options$$player$ = %GLOBAL%$player$		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script freeplay_pause_generate_entries_venue 0x4a745e53 [	:i %GLOBAL%$focus_idx$ = %i(0)	:i %GLOBAL%$array$ = :a{:a}	:i $GetArraySize$${StructQBString levelzonearray}$	:i %GLOBAL%$zone_idx$ = %i(0)	:i %GLOBAL%$menu_idx$ = %i(0)	:i while 	:i %GLOBAL%$zone_load$ = (~$levelzonearray$:a{%GLOBAL%$zone_idx$:a})	:i if $is_venue_unlocked$$venue$ = %GLOBAL%$zone_load$		:i %GLOBAL%$zone_data$ = (~$LevelZones$->%GLOBAL%$zone_load$)		:i $text$ = (%GLOBAL%$zone_data$->$Title$)		:i %GLOBAL%$new_entry$ = :s{			:i $text$ = %GLOBAL%$text$			:i $scr$ = $freeplay_change_venue$			:i $params$ = :s{				:i $zone$ = %GLOBAL%$zone_load$			:i :s}		:i :s}		:i if (~$current_level$ = %GLOBAL%$zone_load$)			:i $focus_idx$ = %GLOBAL%$menu_idx$		:i endif		:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = %GLOBAL%$new_entry$		:i %GLOBAL%$menu_idx$ = (%GLOBAL%$menu_idx$ + %i(1))	:i endif	:i %GLOBAL%$zone_idx$ = (%GLOBAL%$zone_idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i return $menu_focus_idx$ = %GLOBAL%$focus_idx$$menu_entries$ = %GLOBAL%$array$	:i endfunction]Script freeplay_pause_generate_entries_extras e63f05e9 [	${StructInt menu_focus_idx = 0}$	:i %GLOBAL%$array$ = :a{:a}	:i %GLOBAL%$extras$ = (~$band_lobby_submenu_states$->$extras$->$options$)	:i $GetArraySize$%GLOBAL%$extras$	:i %GLOBAL%$menu_idx$ = %i(0)	:i %GLOBAL%$focus_idx$ = %i(0)	:i while 	:i $standard_params$ = :s{$player$ = %GLOBAL%$player$$submenu_index$ = %GLOBAL%$menu_idx$:s}	:i if $StructureContains$$structure$ = (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a})$condition$		:i if (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a}->$condition$)%GLOBAL%$standard_params$(%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a}->$condition_params$)			:i $add_element$ = %i(1)		:i else 			:i $add_element$ = %i(0)		:i endif	:i else 		:i $add_element$ = %i(1)	:i endif	:i if (%GLOBAL%$add_element$ = %i(1))		:i if $StructureContains$$structure$ = (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a})$text_params$			:i $text$ = ^[874f5ede]^			:i $tp_params$ = :s{:s}			:i if $StructureContains$$structure$ = (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a})$tp_params$				:i $tp_params$ = (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a}->$tp_params$)			:i endif			:i (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a}->$text_params$)%GLOBAL%$standard_params$%GLOBAL%$tp_params$			:i $FormatText$$textname$ = $text$(%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a}->$text$)%GLOBAL%$text_params$		:i else 			:i $text$ = (%GLOBAL%$menu_options$:a{%GLOBAL%$j$:a}->$text$)		:i endif		:i %GLOBAL%$new_entry$ = :s{			:i $text$ = %GLOBAL%$text$			:i $scr$ = $freeplay_pause_extra_select$			:i $params$ = :s{				:i %GLOBAL%$standard_params$				:i (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a}->$select_params$)				:i $focus_idx$ = %GLOBAL%$focus_idx$				:i $script_to_call$ = (%GLOBAL%$extras$:a{%GLOBAL%$menu_idx$:a}->$choose_script$)			:i :s}		:i :s}		:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = %GLOBAL%$new_entry$		:i %GLOBAL%$focus_idx$ = (%GLOBAL%$focus_idx$ + %i(1))	:i endif	:i %GLOBAL%$menu_idx$ = (%GLOBAL%$menu_idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i return $menu_focus_idx$ = %GLOBAL%$menu_focus_idx$$menu_entries$ = %GLOBAL%$array$	:i endfunction]Script gamemode_isNotFreeplay b86734e2 [	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $freeplay$)		:i return ${StructQBKey false}$	:i endif	:i return ${StructQBKey true}$	:i endfunction]Script freeplay_pause_extra_select 0x2a6f25eb [	:i %GLOBAL%$script_to_call$ isNull 	:i $getplayerinfo$%GLOBAL%$player$$Cheat_HyperSpeed_Value$	:i $SetPlayerInfo$%GLOBAL%$player$$hyperspeed$ = %GLOBAL%$Cheat_HyperSpeed_Value$	:i $SetHighwayDifficulty$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_reset_hyperspeed ed05e93f [	:i $SetPlayerInfo$%GLOBAL%$player$$Cheat_HyperSpeed$ = %i(0)	:i $SetPlayerInfo$%GLOBAL%$player$$Cheat_HyperSpeed_Value$ = %f(1.0)	:i $SetPlayerInfo$%GLOBAL%$player$$hyperspeed$ = %f(1.0)	:i $SetHighwayDifficulty$$player$ = %GLOBAL%$player$	:i endfunction]Script freeplay_setup_highway_menu_background 0x39bd82f7 [	${Unknown [0001240067e6859a6969696900000000]}$	:i $get_highway_hud_menu_parent$$player$ = %GLOBAL%$player$	:i if $ResolveScreenElementID$$id$ = :s{%GLOBAL%$menu_parent$$child$ = $freeplay_menu_background$:s}		:i return $true$$menu_background_id$ = %GLOBAL%$resolved_id$	:i endif	:i if $ScreenElementExists$$id$ = %GLOBAL%$menu_parent$		:i $CreateScreenElement$:s{			:i $parent$ = %GLOBAL%$menu_parent$			:i $type$ = $descinterface$			:i $local_id$ = $freeplay_menu_background$			:i $desc$ = %s("freeplay_highway_menu_background")			:i $Pos$ = %vec2(0.0,0.0)			:i $autosizedims$ = $true$			:i $pos_anchor$ = :a{$center$,$bottom$:a}			:i $just$ = :a{$center$,$bottom$:a}			:i $ignore_parent_alpha$ = $true$			:i $alpha$ = %i(1)			:i $light_box_dims$ = %vec2(300.0,320.0)			:i $Scale$ = (~$freeplay_menu_scale$)		:i :s}		:i return $true$$menu_background_id$ = %GLOBAL%$id$	:i endif	:i return ${StructQBKey false}$	:i endfunction]