Unknown [1c000000000000000000165c0000000000000000]Script ui_create_cap_main 0x2836fc08 [	${StructInt album_cover = 0}$	:i $spawnscriptnow$$ui_create_cap_main_spawned$$params$ = :s{ isNull :s}	:i endfunction]Script ui_create_cap_main_spawned 0x1d69d27b [	$savegame$ = (~$cas_current_savegame$)	:i if NOT $GotParam$${StructQBKey old_save_checksum}$		:i $globaltag_getarraychecksum$$savegame$ = %GLOBAL%$savegame$$array_name$ = $player_created_graphics_save$		:i $old_save_checksum$ = %GLOBAL%$array_checksum$		:i $ui_event_add_params$$old_save_checksum$ = %GLOBAL%$old_save_checksum$	:i endif	:i if NOT $ChecksumEquals$$a$ = %GLOBAL%$part$$b$ = $CAS_Band_Logo$		:i $show_history$ = :s{$show_history$:s}	:i else 		:i $no_show_history$ = %i(1)	:i endif	:i $make_generic_car_menu$:s{		:i $vmenu_id$ = $create_cap_main_vmenu$		:i $pad_back_script$ = $cap_main_back_warning$		:i $pad_back_params$ = :s{$album_cover$ = %GLOBAL%$album_cover$$part$ = %GLOBAL%$part$:s}		:i $Title$ = %GLOBAL%$text$		:i $num_icons$ = %GLOBAL%$num_icons$		:i %GLOBAL%$show_history$		:i $exclusive_device$ = %GLOBAL%$state_device$	:i :s}	:i $add_car_menu_text_item$:s{		:i $icon$ = $icon_current$		:i $text$ = ^[57a22b82]^		:i $choose_state$ = $UIstate_cap_layers_list$		:i $choose_state_data$ = :s{$part$ = %GLOBAL%$part$$div_id$ = %GLOBAL%$div_id$$camera_list$ = %GLOBAL%$camera_list$$zoom_camera$ = %GLOBAL%$zoom_camera$$override_base_name$ = %GLOBAL%$cam_name$:s}	:i :s}	:i $dim_save_option_for_guest$ isNull 	:i $add_car_menu_text_item$:s{		:i $icon$ = $icon_save$		:i $text$ = ^[e618e644]^		:i $pad_choose_script$ = $cap_main_choose_save$		:i $pad_choose_params$ = :s{$exclusive_device$ = %GLOBAL%$state_device$$savegame$ = %GLOBAL%$savegame$$slot_list$ = $player_created_graphics_save$$save_cap$$part$ = %GLOBAL%$part$$div_id$ = %GLOBAL%$div_id$$hist_tex$ = $icon_save$$text$ = ^[5a1c43cf]^$no_show_history$ = %GLOBAL%$no_show_history$:s}		:i $not_focusable$ = %GLOBAL%$not_focusable$	:i :s}	:i $add_car_menu_text_item$:s{		:i $icon$ = $icon_load$		:i $text$ = ^[ad5cfad4]^		:i $choose_state$ = $UIstate_generic_dialog_box$		:i $choose_state_data$ = :s{			:i $is_popup$			:i $player_device$ = %GLOBAL%$state_device$			:i $heading_text$ = ^[84d47226]^			:i $body_text$ = ^[7b18be62]^			:i $confirm_func$ = $generic_event_replace$			:i $confirm_func_params$ = :s{$Data$ = :s{$state$ = $UIstate_cas_save_slots$$savegame$ = %GLOBAL%$savegame$$text$ = ^[9f46747e]^$slot_list$ = $player_created_graphics_save$$part$ = %GLOBAL%$part$$div_id$ = %GLOBAL%$div_id$$load_design$$hist_tex$ = $icon_load$$camera_list$ = %GLOBAL%$camera_list$$zoom_camera$ = %GLOBAL%$zoom_camera$$no_show_history$ = %GLOBAL%$no_show_history$:s}:s}		:i :s}		:i $not_focusable$ = %GLOBAL%$not_focusable$		:i $pad_select_sound_UIType$ = $warningmessage$	:i :s}	:i if $ChecksumEquals$$a$ = %GLOBAL%$part$$b$ = $CAS_Band_Logo$		:i $add_car_menu_text_item$:s{			:i $icon$ = $icon_random$			:i $text$ = ^[0b6c701b]^			:i $choose_state$ = $UIstate_generic_dialog_box$			:i $choose_state_data$ = :s{				:i $is_popup$				:i $player_device$ = %GLOBAL%$state_device$				:i $heading_text$ = ^[49127634]^				:i $body_text$ = ^[cb2b7871]^				:i $confirm_func$ = $randomize_band_logo$				:i $highlight_no$			:i :s}			:i $pad_select_sound_UIType$ = $warningmessage$		:i :s}	:i endif	:i $add_car_menu_text_item$:s{		:i $icon$ = $icon_remove$		:i $text$ = ^[e37a67d9]^		:i $choose_state$ = $UIstate_generic_dialog_box$		:i $choose_state_data$ = :s{			:i $is_popup$			:i $player_device$ = %GLOBAL%$state_device$			:i $heading_text$ = ^[09b883f2]^			:i $body_text$ = ^[28e2d00a]^			:i $confirm_func$ = $cap_clear_design$			:i $confirm_func_params$ = :s{$part$ = %GLOBAL%$part$$div_id$ = %GLOBAL%$div_id$:s}			:i $highlight_no$		:i :s}		:i $pad_select_sound_UIType$ = $warningmessage$	:i :s}	:i if $ChecksumEquals$$a$ = %GLOBAL%$part$$b$ = $CAS_Band_Logo$		:i $menu_finish$$car_helper_text$$no_rotate_zoom_text$$controller$ = %GLOBAL%$state_device$	:i else 		:i $setup_cas_menu_handlers$$vmenu_id$ = $create_cap_main_vmenu$$camera_list$ = %GLOBAL%$camera_list$$zoom_camera$ = %GLOBAL%$zoom_camera$		:i $menu_finish$$car_helper_text$$controller$ = %GLOBAL%$state_device$	:i endif	:i if $GotParam$${StructQBKey cam_name}$		:i $change$${StructInt generic_menu_block_input = 1}$		:i $task_menu_default_anim_in$$base_name$ = %GLOBAL%$cam_name$		:i $change$${StructInt generic_menu_block_input = 0}$	:i endif	:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$$cas_helper_dialogue$$param$ = $visit_cap$	:i if (%GLOBAL%$visit_cap$ = %i(0))		:i $printf$${StructQBStringQs aba2e79c}$		:i $UI_SFX$${			StructQBKey menustate = car			StructQBKey uitype = popup		}$				:i $change$${StructInt generic_menu_block_input = 1}$		:i $SetGlobalTags$$savegame$ = %GLOBAL%$savegame$$cas_helper_dialogue$$params$ = :s{$visit_cap$ = %i(1):s}		:i $ui_event_wait$${			StructQBKey event = menu_change			StructStruct Data			{				StructHeader				{					StructQBKey state = UIstate_helper_dialogue					StructQBKey is_popup					StructInt life = 30					StructQBStringQs text = 0x6b2c6fa2				}			}		}$			:i endif	:i endfunction]Script ui_return_cap_main a176e695 [	:i $clean_up_user_control_helpers$	:i if $ChecksumEquals$$a$ = %GLOBAL%$part$$b$ = $CAS_Band_Logo$		:i $menu_finish$$car_helper_text$$no_rotate_zoom_text$$controller$ = %GLOBAL%$state_device$	:i else 		:i $menu_finish$$car_helper_text$$controller$ = %GLOBAL%$state_device$	:i endif	:i endfunction]Script ui_init_cap_main 0x6f86c703 [	:i if $GotParam$${StructQBKey additional_init_script}$		:i %GLOBAL%$additional_init_script$	:i endif	:i if $GotParam$${StructQBKey stance}$		:i if $GetCurrentCASObject$			:i $BandManager_ChangeStance$$name$ = %GLOBAL%$cas_object$$stance$ = %GLOBAL%$stance$$no_wait$		:i endif	:i endif	:i $change$${StructInt disable_transition_stoprender = 1}$	:i endfunction]Script ui_destroy_cap_main db20bd65 [	:i $destroy_generic_menu$	:i endfunction]Script ui_deinit_cap_main 0x328d1106 [	:i $change$${StructInt disable_transition_stoprender = 0}$	:i $FlushAllCompositeTexturesFromUI$	:i $SetMenuAutoRepeatTimes$${		StructFloatX2 0x00000000		{			Floats [0.300000, 0.100000]		}	}$		:i if $GotParam$${StructQBKey additional_deinit_script}$		:i %GLOBAL%$additional_deinit_script$	:i endif	:i if NOT $ui_event_exists_in_stack$${StructString name = "options"}$		:i if $GetCurrentCASObject$			:i if $GotParam$${StructQBKey return_stance}$				:i $BandManager_ChangeStance$$name$ = %GLOBAL%$cas_object$$stance$ = %GLOBAL%$return_stance$$no_wait$			:i else 				:i $BandManager_ChangeStance$$name$ = %GLOBAL%$cas_object$$stance$ = $stance_frontend$$no_wait$			:i endif		:i endif	:i endif	:i endfunction]Script cas_get_cap_texture_entry_for_base_tex aa8cf664 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePartDescID$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("No %s found")$s$ = %GLOBAL%$part$	:i endif	:i if NOT $GetActualCASOptionStruct$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$		:i $scriptassert$%s("No %s %a found")$s$ = %GLOBAL%$part$$a$ = %GLOBAL%$desc_id$	:i endif	:i if NOT $GotParam$${StructQBKey cap_textures}$		:i $scriptassert$%s("No cap_textures on %s %a")$s$ = %GLOBAL%$part$$a$ = %GLOBAL%$desc_id$	:i endif	:i $GetArraySize$%GLOBAL%$cap_textures$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $i$ = %i(0)		:i while 		:i $entry$ = (%GLOBAL%$cap_textures$:a{%GLOBAL%$i$:a})		:i if $StructureContains$$structure$ = %GLOBAL%$entry$$user_layer_settings$			:i if NOT $GotParam$${StructQBKey base_tex}$				:i $found_entry$ = %GLOBAL%$entry$				:i continue			:i endif			:i if (%GLOBAL%$entry$->$base_tex$ = %GLOBAL%$base_tex$)				:i $found_entry$ = %GLOBAL%$entry$				:i continue			:i endif		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i if $GotParam$${StructQBKey found_entry}$		:i return $true$$cap_texture_entry$ = %GLOBAL%$found_entry$	:i endif	:i if $GotParam$${StructQBKey base_tex}$		:i $scriptassert$%s("Couldnt find cap texture entry in part=%s desc_id=%a base_tex=%b")$s$ = %GLOBAL%$part$$a$ = %GLOBAL%$desc_id$$b$ = %GLOBAL%$base_tex$	:i else 		:i $scriptassert$%s("Couldnt find cap texture entry in part=%s desc_id=%a")$s$ = %GLOBAL%$part$$a$ = %GLOBAL%$desc_id$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script merge_loaded_cap_entry cc547ebb [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				new_entry			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("No %s found")$s$ = %GLOBAL%$part$	:i endif	:i if NOT $GotParam$${StructQBKey cap}$		:i $AddArrayElement$$array$ = :a{:a}$element$ = %GLOBAL%$new_entry$		:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$array$		:i return ${StructQBKey true}$	:i else 		:i $i$ = %i(0)		:i $GetArraySize$%GLOBAL%$cap$		:i if (%GLOBAL%$array_size$ > %i(0))			:i while 			:i $cap_entry$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})			:i if $is_matching_section$$cap$ = %GLOBAL%$cap_entry$$section$ = %GLOBAL%$new_entry$				:i $printf$${StructString 0x00000000 = "Found matching cap section"}$				:i $cap_entry$ = :s{%GLOBAL%$cap_entry$$layers$ = (%GLOBAL%$new_entry$->$layers$):s}				:i $SetArrayElement$$arrayName$ = $cap$$index$ = %GLOBAL%$i$$newValue$ = %GLOBAL%$cap_entry$				:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$cap$				:i return ${StructQBKey true}$			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif		:i $printf$${StructString 0x00000000 = "Matching cap section not found, adding a new one..."}$		:i $AddArrayElement$$array$ = %GLOBAL%$cap$$element$ = %GLOBAL%$new_entry$		:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$array$		:i return ${StructQBKey true}$	:i endif	:i endfunction]Script get_cap_part_defaults_for_loading 0x90f53620 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				rotation			]		}		StructQBKey all	}$		:i switch (%GLOBAL%$part$)		:i case $CAS_Band_Logo$			:i endcase		case $CAS_Drums$			:i return ${				StructInt x_offset = 0				StructInt y_offset = 0			}$						:i endcase		case $CAS_Male_Torso$			:i endcase		case $CAS_Female_Torso$			:i endcase		case $cas_body$			:i return ${				StructInt x_offset = 0				StructInt y_offset = 0			}$						:i endcase		case $CAS_Guitar_Body$			:i if (%GLOBAL%$rotation$ = %i(0))				:i return ${					StructInt x_offset = -20					StructInt y_offset = 15				}$							:i else 				:i return ${					StructInt x_offset = -20					StructInt y_offset = -15				}$							:i endif			:i endcase		case $CAS_Bass_Body$			:i if (%GLOBAL%$rotation$ = %i(0))				:i return ${					StructInt x_offset = -20					StructInt y_offset = 0				}$							:i elseif (%GLOBAL%$rotation$ = %i(90))				:i return ${					StructInt x_offset = -20					StructInt y_offset = 5				}$							:i elseif (%GLOBAL%$rotation$ = %i(180))				:i return ${					StructInt x_offset = -35					StructInt y_offset = 5				}$							:i else 				:i return ${					StructInt x_offset = 20					StructInt y_offset = 0				}$							:i endif			:i endcase		case $CAS_Guitar_Head$			:i if (%GLOBAL%$rotation$ = %i(90))				:i return ${					StructInt x_offset = -20					StructInt y_offset = -30				}$							:i else 				:i return ${					StructInt x_offset = 0					StructInt y_offset = -30				}$							:i endif			:i endcase		case $CAS_Bass_Head$			:i if (%GLOBAL%$rotation$ = %i(90))				:i return ${					StructInt x_offset = -20					StructInt y_offset = -30				}$							:i else 				:i return ${					StructInt x_offset = 0					StructInt y_offset = -30				}$							:i endif	:i end_switch	:i return ${		StructInt x_offset = 0		StructInt y_offset = 0	}$		:i endfunction]Script correct_layers ffdf84a7 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				source_part				dest_part				source_rotation				dest_rotation				source_aspect_ratio				layers			]		}		StructQBKey all	}$		:i $get_cap_part_defaults_for_loading$$part$ = %GLOBAL%$source_part$$rotation$ = %GLOBAL%$source_rotation$	:i $src_X_offset$ = %GLOBAL%$x_offset$	:i $src_y_offset$ = %GLOBAL%$y_offset$	:i $get_cap_part_defaults_for_loading$$part$ = %GLOBAL%$dest_part$$rotation$ = %GLOBAL%$dest_rotation$	:i $rot_diff$ = (%GLOBAL%$dest_rotation$ - %GLOBAL%$source_rotation$)	:i if ((%GLOBAL%$rot_diff$ = %i(0)) OR (%GLOBAL%$rot_diff$ = %i(180)) OR (%GLOBAL%$rot_diff$ = %i(4294967116)))		:i $aspect_change$ = (%GLOBAL%$source_aspect_ratio$ / %GLOBAL%$dest_aspect_ratio$)	:i else 		:i $aspect_change$ = (%GLOBAL%$dest_aspect_ratio$ / %GLOBAL%$source_aspect_ratio$)	:i endif	:i if ((%GLOBAL%$source_rotation$ = %i(90)) OR (%GLOBAL%$source_rotation$ = %i(270)))		:i $aspect_change$ = (%f(1.0) / %GLOBAL%$aspect_change$)	:i endif	:i $rot_diff$ = ((%GLOBAL%$rot_diff$ / %f(90.0)) * %f(1570.0))	:i $RoundToInteger$${StructQBKey rot_diff}$	:i if ((%GLOBAL%$rot_diff$ = %i(0)) AND (%GLOBAL%$x_offset$ = %GLOBAL%$src_X_offset$) AND (%GLOBAL%$y_offset$ = %GLOBAL%$src_y_offset$) AND (%GLOBAL%$aspect_change$ = %f(0.0)))		:i return 	:i endif	:i $i$ = %i(0)	:i $GetArraySize$%GLOBAL%$layers$	:i if (%GLOBAL%$array_size$ > %i(0))		:i while 		:i $layer$ = (%GLOBAL%$layers$:a{%GLOBAL%$i$:a})		:i $rot$ = %i(0)		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$rot$			:i $rot$ = (%GLOBAL%$layer$->$rot$)		:i endif		:i $x_scale$ = (~$default_cap_scale$)		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$x_scale$			:i $x_scale$ = ((%GLOBAL%$layer$->$x_scale$) * %f(1.0))		:i endif		:i $y_scale$ = (~$default_cap_scale$)		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$y_scale$			:i $y_scale$ = ((%GLOBAL%$layer$->$y_scale$) * %f(1.0))		:i endif		:i $x_trans$ = (~$default_cap_trans$)		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$x_trans$			:i $x_trans$ = ((%GLOBAL%$layer$->$x_trans$) * %f(1.0))		:i endif		:i $y_trans$ = (~$default_cap_trans$)		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$y_trans$			:i $y_trans$ = ((%GLOBAL%$layer$->$y_trans$) * %f(1.0))		:i endif		:i $x_trans$ = (%GLOBAL%$x_trans$ - %GLOBAL%$src_X_offset$)		:i $y_trans$ = (%GLOBAL%$y_trans$ - %GLOBAL%$src_y_offset$)		:i $RotateCAPEntry$:s{			:i $x_trans$ = %GLOBAL%$x_trans$			:i $y_trans$ = %GLOBAL%$y_trans$			:i $rot_by$ = (%GLOBAL%$rot_diff$)			:i $aspect$ = %GLOBAL%$aspect_change$		:i :s}		:i $x_trans$ = (%GLOBAL%$x_trans$ + %GLOBAL%$x_offset$)		:i $y_trans$ = (%GLOBAL%$y_trans$ + %GLOBAL%$y_offset$)		:i $RoundToInteger$${StructQBKey x_scale}$		:i $RoundToInteger$${StructQBKey y_scale}$		:i $RoundToInteger$${StructQBKey x_trans}$		:i $RoundToInteger$${StructQBKey y_trans}$		:i if $StructureContains$$structure$ = %GLOBAL%$layer$$texture$			:i $rot$ = (%GLOBAL%$rot$ + %GLOBAL%$rot_diff$)		:i else 			:i $rot$ = (%GLOBAL%$rot$ - %GLOBAL%$rot_diff$)		:i endif		:i if (%GLOBAL%$rot$ < %i(0))			:i %GLOBAL%$rot$ = (%GLOBAL%$rot$ + %i(6283))		:i elseif (%GLOBAL%$rot$ >= %i(6283))			:i %GLOBAL%$rot$ = (%GLOBAL%$rot$ - %i(6283))		:i endif		:i $layer$ = :s{			:i %GLOBAL%$layer$			:i $rot$ = %GLOBAL%$rot$			:i $x_scale$ = %GLOBAL%$x_scale$			:i $y_scale$ = %GLOBAL%$y_scale$			:i $x_trans$ = %GLOBAL%$x_trans$			:i $y_trans$ = %GLOBAL%$y_trans$		:i :s}		:i $SetArrayElement$$arrayName$ = $layers$$index$ = %GLOBAL%$i$$newValue$ = %GLOBAL%$layer$		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return $layers$ = %GLOBAL%$layers$	:i endfunction]Script cas_load_graphic_data dc4d961f [	${Unknown [00012c00197712af696969690000001800012500e79316ee696969690000002800012400eb350687696969690000003800012600b77a0a3a696969690000004800012600b6f08f396969696900000000]}$	:i if $GotParam$${StructQBKey div_id}$		:i if NOT $get_div_info$$part$ = %GLOBAL%$part$$div_id$ = %GLOBAL%$div_id$			:i $printf$${StructQBStringQs 0x3aded8f0}$		:i endif		:i $printf$^[20268b9a]^$t$ = %GLOBAL%$base_tex$	:i endif	:i if $cas_get_cap_texture_entry_for_base_tex$$part$ = %GLOBAL%$part$$base_tex$ = %GLOBAL%$base_tex$		:i $base_tex$ = (%GLOBAL%$cap_texture_entry$->$base_tex$)		:i $get_extra_cap_saving_flags$$part$ = %GLOBAL%$part$$base_tex$ = %GLOBAL%$base_tex$		:i $correct_layers$:s{			:i $source_part$ = %GLOBAL%$source_part$			:i $dest_part$ = %GLOBAL%$part$			:i $source_rotation$ = %GLOBAL%$source_ui_rotation$			:i $dest_rotation$ = %GLOBAL%$part_ui_rotation$			:i $source_aspect_ratio$ = %GLOBAL%$source_aspect_ratio$			:i $dest_aspect_ratio$ = %GLOBAL%$part_aspect_ratio$			:i $layers$ = %GLOBAL%$layers$		:i :s}		:i $entry$ = :s{			:i $base_tex$ = %GLOBAL%$base_tex$			:i $layers$ = %GLOBAL%$layers$		:i :s}		:i $merge_loaded_cap_entry$$part$ = %GLOBAL%$part$$new_entry$ = %GLOBAL%$entry$	:i endif	:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$	:i endfunction]Script cap_new_design_worker 0x7d186ec5 [	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $remove_cap$ = %i(0)	:i if $GotParam$${StructQBKey cap}$		:i $newCAP$ = %GLOBAL%$cap$		:i $GetArraySize$${StructQBKey cap}$		:i if (%GLOBAL%$array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i $capstruct$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})			:i if $is_target_in_div$$target$ = %GLOBAL%$capstruct$$part$ = %GLOBAL%$part$$div_id$ = %GLOBAL%$div_id$				:i $RemoveComponent$${					StructQBKey name = layers					StructQBKey structure_name = capstruct				}$								:i $SetArrayElement$$arrayName$ = $newCAP$$index$ = %GLOBAL%$i$$newValue$ = %GLOBAL%$capstruct$				:i if NOT (($StructureContains$$structure$ = %GLOBAL%$capstruct$$pre_layer$) OR ($StructureContains$$structure$ = %GLOBAL%$capstruct$$post_layer$))					:i $RemoveArrayElement$$array$ = %GLOBAL%$newCAP$$index$ = %GLOBAL%$i$					:i $newCAP$ = %GLOBAL%$array$					:i if (%GLOBAL%$array_size$ = %i(1))						:i $remove_cap$ = %i(1)					:i endif				:i endif			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i else 			:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$		:i endif		:i if (%GLOBAL%$remove_cap$ = %i(1))			:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$		:i else 			:i $SetCASAppearanceCAP$$part$ = %GLOBAL%$part$$cap$ = %GLOBAL%$newCAP$		:i endif	:i endif	:i $UpdateCASModelCAP$$part$ = %GLOBAL%$part$	:i endfunction]Script cap_clear_design e7e510ae [	:i $cap_new_design_worker$ isNull 	:i $ui_event$${StructQBKey event = menu_back}$	:i endfunction]Script cap_main_back_warning 0x07baaab1 [	:i if NOT (%GLOBAL%$album_cover$ = %i(1))		:i $UI_SFX$${			StructQBKey menustate = car			StructQBKey uitype = back		}$				:i $generic_event_back$		:i return 	:i endif	:i if (~$cas_logo_data_dirty$ = %i(1))		:i $LaunchEvent$${			StructQBKey type = unfocus			StructQBKey target = current_menu		}$				:i $destroy_dialog_box$		:i $create_dialog_box$:s{			:i $heading_text$ = ^[aa163738]^			:i $no_background$			:i $body_text$ = ^[d556ac8f]^			:i $exclusive_device$ = %GLOBAL%$state_device$			:i $options$ = :a{				:i :s{					:i $func$ = $cap_main_back_warning_cancel$					:i $func_params$ = :s{ isNull :s}					:i $text$ = ^[f7723015]^				:i :s}				:i :s{					:i $func$ = $cap_main_back_continue$					:i $func_params$ = :s{ isNull $from_warning$ = %i(1):s}					:i $text$ = ^[182f0173]^				:i :s}			:i :a}		:i :s}	:i else 		:i $cap_main_back_continue$ isNull 	:i endif	:i endfunction]Script cap_main_back_warning_cancel e7cb19ce [	:i $destroy_dialog_box$	:i $LaunchEvent$${		StructQBKey type = focus		StructQBKey target = current_menu	}$		:i if $ChecksumEquals$$a$ = %GLOBAL%$part$$b$ = $CAS_Band_Logo$		:i $menu_finish$$car_helper_text$$no_rotate_zoom_text$$controller$ = %GLOBAL%$state_device$	:i else 		:i $menu_finish$$car_helper_text$$controller$ = %GLOBAL%$state_device$	:i endif	:i endfunction]Script cap_main_back_continue c28441a2 [	${StructInt from_warning = 0}$	:i if (%GLOBAL%$from_warning$ = %i(1))		:i $cap_main_back_warning_cancel$$part$ = %GLOBAL%$part$$state_device$ = %GLOBAL%$state_device$	:i endif	:i $LaunchEvent$${		StructQBKey type = unfocus		StructQBKey target = current_menu	}$		:i $jam_go_back_from_album_art$	:i endfunction]Script cap_main_choose_save 0x7f1af0b9 [	:i $extract_current_layers$$part$ = %GLOBAL%$part$$div_id$ = %GLOBAL%$div_id$	:i if NOT $GotParam$${StructQBKey layers}$		:i $UI_SFX$${			StructQBKey menustate = generic			StructQBKey uitype = warningmessage		}$				:i $generic_event_choose$$state$ = $UIstate_generic_dialog_box$$Data$ = :s{$template$ = $continue$$player_device$ = %GLOBAL%$exclusive_device$$confirm_func$ = $generic_event_back$$confirm_func_params$ = :s{$nosound$:s}$is_popup$$heading_text$ = ^[eb986690]^$body_text$ = ^[8b78631c]^:s}	:i else 		:i $UI_SFX$${			StructQBKey menustate = car			StructQBKey uitype = select		}$				:i $generic_event_choose$$Data$ = :s{$state$ = $UIstate_cas_save_slots$$savegame$ = %GLOBAL%$savegame$ isNull :s}	:i endif	:i endfunction]