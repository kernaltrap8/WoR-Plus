Unknown [1c0000000000000000000adc0000000000000000]Script ui_create_cap_artist_layer 0x00c4a8b8 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				text				section_index			]		}		StructQBKey all	}$		:i $ui_event_add_params$$hist_tex$ = %GLOBAL%$hist_text$	:i $make_generic_car_menu$:s{		:i $vmenu_id$ = $create_cap_artist_layer_vmenu$		:i $pad_option2_script$ = $exit_artist_layers$		:i $scrolling$		:i $scroll_bar_offeset$ = %vec2(425.0,0.0)		:i $exclusive_device$ = %GLOBAL%$state_device$	:i :s}	:i if $GotParam$${StructQBKey cam_name}$		:i $spawnscriptnow$$task_menu_default_anim_in$$params$ = :s{$base_name$ = %GLOBAL%$cam_name$:s}	:i endif	:i $setup_cas_menu_handlers$${StructQBKey vmenu_id = create_cap_artist_layer_vmenu}$	:i if $GetCAPSectionsArray$$appearance$ = ~$cas_current_appearance$$part$ = %GLOBAL%$part$		:i $focus_index$ = %i(0)		:i $current_part$ = %i(0)		:i $mask$ = ((%GLOBAL%$sections$:a{%GLOBAL%$section_index$:a})->$mask$)		:i $GetArraySize$(%GLOBAL%$mask$)		:i $i$ = %i(0)		:i while 		:i if $layer_is_on_model$$section$ = (%GLOBAL%$sections$:a{%GLOBAL%$section_index$:a})$part$ = %GLOBAL%$part$$mask$ = (%GLOBAL%$mask$)$mask_index$ = %GLOBAL%$i$			:i $current_part$ = %GLOBAL%$focus_index$		:i endif		:i if $StructureContains$$structure$ = (%GLOBAL%$mask$:a{%GLOBAL%$i$:a})$locked$			:i if $check_cas_texture_unlocked_flag$$savegame$ = (~$cas_current_savegame$)$texture$ = (%GLOBAL%$mask$:a{%GLOBAL%$i$:a}->$pattern$)				:i $locked$ = :s{					:i $is_unlocked_item$				:i :s}			:i else 				:i $locked$ = :s{					:i $is_locked_item$					:i $pad_choose_script$ = $NullScript$				:i :s}			:i endif		:i endif		:i $add_car_menu_text_item$:s{			:i $text$ = ((%GLOBAL%$mask$):a{%GLOBAL%$i$:a}->$frontend_desc$)			:i $pad_choose_script$ = $cap_artist_layers_decide_action$			:i $pad_choose_params$ = :s{$part$ = %GLOBAL%$part$$section$ = (%GLOBAL%$sections$:a{%GLOBAL%$section_index$:a})$mask_index$ = %GLOBAL%$i$$back_steps$ = %GLOBAL%$back_steps$:s}			:i $additional_focus_script$ = $cap_change_selected_pattern$			:i $additional_focus_params$ = :s{$state_device$ = %GLOBAL%$state_device$$part$ = %GLOBAL%$part$$mask_index$ = %GLOBAL%$i$$mask$ = %GLOBAL%$mask$$section$ = (%GLOBAL%$sections$:a{%GLOBAL%$section_index$:a})%GLOBAL%$locked$:s}			:i %GLOBAL%$locked$		:i :s}		:i $focus_index$ = (%GLOBAL%$focus_index$ + %i(1))		:i $RemoveParameter$${StructQBKey locked}$		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i $CreateScreenElement$${		StructQBKey parent = root_window		StructQBKey type = descinterface		StructQBKey id = sponsor_logo		StructString desc = "Axesmith_menu_item"		StructQBKey not_focusable		StructFloat AxeSmith_Menu_Item_img_alpha = 0.00	}$		:i $menu_finish$$car_helper_text_extra$$controller$ = %GLOBAL%$state_device$	:i if NOT $GotParam$${StructQBKey entered_with_part}$		:i $entered_with_part$ = %GLOBAL%$current_part$		:i $ui_event_add_params$$entered_with_part$ = %GLOBAL%$entered_with_part$	:i endif	:i $LaunchEvent$$type$ = $focus$$target$ = $create_cap_artist_layer_vmenu$$Data$ = :s{$child_index$ = %GLOBAL%$entered_with_part$:s}	:i endfunction]Script ui_destroy_cap_artist_layer 0x38d3baf5 [	:i $destroy_generic_menu$	:i if $ScreenElementExists$${StructQBKey id = sponsor_logo}$		:i $DestroyScreenElement$${StructQBKey id = sponsor_logo}$	:i endif	:i endfunction]Script ui_init_cap_artist_layer 0x852dfc12 [	:i $PushTemporaryCASAppearance$	:i endfunction]Script ui_deinit_cap_artist_layer 0x7799638e [	:i $FlushAllCompositeTexturesFromUI$	:i $PopTemporaryCASAppearance$	:i endfunction]Script cap_change_selected_pattern d7fbee02 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				mask				mask_index				section			]		}		StructQBKey all	}$		:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i if NOT $layer_is_on_model$$section$ = %GLOBAL%$section$$part$ = %GLOBAL%$part$$mask$ = %GLOBAL%$mask$$mask_index$ = %GLOBAL%$mask_index$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$			:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$		:i endif		:i if NOT $GetActualCASOptionStruct$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$			:i $scriptassert$%s("%s %t not found")$s$ = %GLOBAL%$part$$t$ = %GLOBAL%$desc_id$		:i endif		:i if $ScreenElementExists$${StructQBKey id = sponsor_logo}$			:i if $get_cas_sponsor_texture_and_title$$part$ = %GLOBAL%$part$				:i $sponsor_logo$.$se_setprops$$AxeSmith_Menu_Item_img_texture$ = %GLOBAL%$texture$				:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 1.00}$			:i else 				:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 0.00}$			:i endif		:i endif		:i $set_cap_flags$$mask$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})		:i $get_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$mask_index$ = %GLOBAL%$mask_index$		:i $name$ = (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$pattern$)		:i if $GotParam$${StructQBKey pre_layer}$			:i $pre_layer$ = :s{%GLOBAL%$pre_layer$			:i $texture$ = %GLOBAL%$name$:s}			:i if $StructureContains$$structure$ = %GLOBAL%$section$$initial_values$				:i $pre_layer$ = :s{%GLOBAL%$pre_layer$				:i (%GLOBAL%$section$->$initial_values$):s}			:i endif			:i if $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$initial_values$				:i $pre_layer$ = :s{%GLOBAL%$pre_layer$					:i (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$initial_values$):s}			:i endif			:i if NOT (%GLOBAL%$flags$ = %i(0))				:i $pre_layer$ = :s{%GLOBAL%$pre_layer$					:i $texture$ = %GLOBAL%$name$				:i $flags$ = %GLOBAL%$flags$:s}			:i endif			:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$pre_layer$ = %GLOBAL%$pre_layer$$mask_index$ = %GLOBAL%$mask_index$		:i endif		:i if $GotParam$${StructQBKey post_layer}$			:i $post_layer$ = :s{%GLOBAL%$post_layer$			:i $texture$ = %GLOBAL%$name$:s}			:i if $StructureContains$$structure$ = %GLOBAL%$section$$initial_values$				:i $post_layer$ = :s{%GLOBAL%$post_layer$				:i (%GLOBAL%$section$->$initial_values$):s}			:i endif			:i if $StructureContains$$structure$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})$initial_values$				:i $post_layer$ = :s{%GLOBAL%$post_layer$					:i (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$initial_values$):s}			:i endif			:i if NOT (%GLOBAL%$flags$ = %i(0))				:i $post_layer$ = :s{%GLOBAL%$post_layer$					:i $texture$ = %GLOBAL%$name$				:i $flags$ = %GLOBAL%$flags$:s}			:i endif			:i $set_CAP$$part$ = %GLOBAL%$part$$section$ = %GLOBAL%$section$$post_layer$ = %GLOBAL%$post_layer$$mask_index$ = %GLOBAL%$mask_index$		:i endif	:i endif	:i $clean_up_user_control_helpers$	:i if $cap_no_transforms$$mask$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})		:i $menu_finish$$car_helper_text_cancel$$controller$ = %GLOBAL%$state_device$	:i else 		:i if NOT $GotParam$${StructQBKey is_locked_item}$			:i $menu_finish$$car_helper_text_alt$$controller$ = %GLOBAL%$state_device$		:i else 			:i $menu_finish$$car_helper_text_cancel_only$$controller$ = %GLOBAL%$state_device$		:i endif	:i endif	:i endfunction]Script exit_artist_layers e60c8b9e [	:i $KillAllCompositeTextures$	:i $RestoreTopTemporaryCASAppearance$	:i $ui_event$${StructQBKey event = menu_back}$	:i endfunction]Script layer_is_on_model 0x3fb7daff [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				section				mask				mask_index			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i if NOT $GetActualCASOptionStruct$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$		:i $scriptassert$%s("%s %t not found")$s$ = %GLOBAL%$part$$t$ = %GLOBAL%$desc_id$	:i endif	:i if $GotParam$${StructQBKey cap}$		:i $GetArraySize$${StructQBKey cap}$		:i $cap_array_size$ = %GLOBAL%$array_size$		:i if (%GLOBAL%$cap_array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i $name$ = (%GLOBAL%$section$->$base_tex$)			:i if $is_matching_section$$cap$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$section$ = %GLOBAL%$section$				:i if $StructureContains$$structure$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$pre_layer$					:i if $StructureContains$$structure$ = %GLOBAL%$section$$pre_userlayer$						:i $GetArraySize$(((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$))						:i if (%GLOBAL%$array_size$ > %i(0))							:i $j$ = %i(0)							:i while 							:i $name$ = (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$pattern$)							:i if (((((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$pre_layer$):a{%GLOBAL%$j$:a})->$texture$) = %GLOBAL%$name$)								:i $printf$${StructQBStringQs 0x53e901f3}$								:i return ${StructQBKey true}$							:i endif							:i $j$ = (%GLOBAL%$j$ + %i(1))							:i loop_to %GLOBAL%$array_size$						:i endif					:i endif				:i endif				:i if $StructureContains$$structure$ = (%GLOBAL%$cap$:a{%GLOBAL%$i$:a})$post_layer$					:i if $StructureContains$$structure$ = %GLOBAL%$section$$post_userlayer$						:i $GetArraySize$(((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$))						:i if (%GLOBAL%$array_size$ > %i(0))							:i $j$ = %i(0)							:i while 							:i $name$ = (((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})->$pattern$)							:i if (((((%GLOBAL%$cap$:a{%GLOBAL%$i$:a})->$post_layer$):a{%GLOBAL%$j$:a})->$texture$) = %GLOBAL%$name$)								:i $printf$${StructQBStringQs 0x53e901f3}$								:i return ${StructQBKey true}$							:i endif							:i $j$ = (%GLOBAL%$j$ + %i(1))							:i loop_to %GLOBAL%$array_size$						:i endif					:i endif				:i endif			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$cap_array_size$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script cap_artist_layers_decide_action 0x12407a42 [	:i $mask$ = (%GLOBAL%$section$->$mask$)	:i if $cap_no_transforms$$mask$ = ((%GLOBAL%$mask$):a{%GLOBAL%$mask_index$:a})		:i $cap_artist_layers_decide_steps_back$		:i $ui_event$$event$ = $menu_back$$Data$ = :s{$num_states$ = %GLOBAL%$num_states$:s}	:i else 		:i $UI_SFX$${			StructQBKey menustate = car			StructQBKey uitype = select		}$				:i $generic_event_choose$$state$ = $UIstate_cap_artist_layer_options$$Data$ = :s{ isNull :s}	:i endif	:i endfunction]Script cap_artist_layers_decide_steps_back fa4afe6f [	:i $ui_event_get_stack$	:i if (((%GLOBAL%$stack$:a{%i(1):a}->$base_name$) = %s("cag_custom_body_types")) OR ((%GLOBAL%$stack$:a{%i(1):a}->$base_name$) = %s("cas_select_part")))		:i return ${StructInt num_states = 2}$	:i else 		:i return ${StructInt num_states = 1}$	:i endif	:i endfunction]