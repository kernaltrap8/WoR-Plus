Unknown [1c0000000000000000000dfc0000000000000000]Script ui_init_mainmenu 0x469c1b2c [	:i $mainmenu_populate_menu_options_global$	:i $KillSpawnedScript$${StructQBKey name = rock_record_read_friends}$	:i $spawnscriptnow$${StructQBKey rock_record_read_friends}$	:i endfunction]Script ui_create_mainmenu eba41291 [	${StructInt do_not_add_friend_feed = 0}$	:i $spawnscriptnow$${StructQBKey audio_kill_crowds_during_stats_screen}$	:i $change$${StructInt respond_to_signin_changed = 0}$	:i $change$${StructQBKey respond_to_signin_changed_func = main_menu_signin_changed}$	:i $change$${StructQBKey rich_presence_context = presence_menus}$	:i $change$${StructInt g_songlist_playlist_size = 0}$	:i $change$${StructInt g_songlist_beginning_playlist_size = 0}$	:i $change$${StructInt g_songlist_infinite_playlist = 0}$	:i $change$${StructInt g_songlist_random_playlist = 0}$	:i $change$${StructInt g_songlist_num_5star_songs = 0}$	:i $MarketplaceBGMonitorFunc$${		StructQBKey func = set_background_download		StructQBKey on	}$		:i $MarketplaceBGMonitorFunc$${StructQBKey func = start_scan}$	:i if NOT $IsPS3$		:i $MarketplacePersistenceFunc$${StructQBKey func = attempt_init}$	:i endif	:i if $DemoBuild$		:i $scriptassert$${StructString 0x00000000 = "Demo doesnt allow use of the main menu"}$		:i while 		:i $printf$${StructString 0x00000000 = ""}$		:i loop_to 	:i endif	:i $get_num_savegames$	:i if (%GLOBAL%$num_savegames$ > %i(0))		:i $savegame$ = %i(0)		:i while 		:i if $IsLocallySignedIn$$controller$ = %GLOBAL%$savegame$			:i $GamerPicTextureRequest$:s{				:i $local_user_index$ = %GLOBAL%$savegame$				:i $local_id$ = %GLOBAL%$savegame$			:i :s}		:i endif		:i %GLOBAL%$savegame$ = (%GLOBAL%$savegame$ + %i(1))		:i loop_to %GLOBAL%$num_savegames$	:i endif	:i $spawnscriptnow$$ui_create_mainmenu_spawned$$params$ = isNull 	:i endfunction]Script ui_create_mainmenu_spawned 0x0715e824 [	${Unknown [000124004cdd94556969696900000000]}$	:i $SetPlayerInfo$${		StructInt 1		StructInt in_game = 0	}$		:i $SetPlayerInfo$${		StructInt 2		StructInt in_game = 0	}$		:i $SetPlayerInfo$${		StructInt 3		StructInt in_game = 0	}$		:i $SetPlayerInfo$${		StructInt 4		StructInt in_game = 0	}$		:i $reset_stances_for_frontend$	:i $setup_sessionfuncs$	:i $NetSessionFunc$${StructQBKey func = live_settings_init}$	:i $NetSessionFunc$${		StructQBKey obj = live_settings		StructQBKey func = get_settings	}$		:i $NetSessionFunc$${StructQBKey func = friends_init}$	:i $change$${StructQBKey g_current_band = default_band}$	:i if $ScriptIsRunning$${StructQBKey handle_signin_changed}$		:i $PopUnsafeForShutdown$${			StructQBKey context = gameplay			StructQBKey type = unchecked		}$				:i return 	:i endif	:i $KillSpawnedScript$${StructQBKey name = persistent_band_cancel_lobby}$	:i $spawnscriptnow$${StructQBKey persistent_band_cancel_lobby}$	:i if (~$invite_controller$ = %i(4294967295))		:i $printf$${StructString 0x00000000 = "ui_create_mainmenu_spawned - NO INVITE"}$		:i $change$${StructQBKey game_mode = quickplay}$		:i $NetSessionFunc$${StructQBKey func = removeallcontrollers}$		:i $fadetoblack$${			StructQBKey Off			StructFloat alpha = 1.00			StructFloat time = 0.10000000149011612			StructInt z_priority = 100			StructQBKey no_wait		}$				:i $clean_up_user_control_helpers$		:i if NOT $ScreenElementExists$${StructQBKey id = current_menu}$			:i $create_main_menu_elements$$do_not_add_friend_feed$ = %GLOBAL%$do_not_add_friend_feed$		:i endif		:i $create_main_menu$		:i $mainmenu_id$.$Desc_ApplyScene$${StructQBKey name = default}$		:i $add_user_control_helper$${			StructQBStringQs text = c18d5e76			StructQBKey button = green			StructInt z = 100			StructQBKey all_buttons		}$				:i $add_user_control_helper$${			StructQBStringQs text = 0x8a778398			StructQBKey button = yellow			StructInt z = 100			StructQBKey all_buttons		}$				:i $mainmenu_id$.$obj_spawnscript$${StructQBKey main_menu_add_friendfeed_button_pill_spawned}$		:i $LaunchEvent$$type$ = $focus$$target$ = $current_menu$$Data$ = :s{$child_index$ = %GLOBAL%$selected_index$:s}		:i $destroy_loading_screen$	:i else 		:i $printf$${			StructString 0x00000000 = "ui_create_mainmenu_spawned - INVITE CONTROLLER %c"			StructQBString c = invite_controller		}$				:i $Playlist_Clear$		:i $UnPauseGame$	:i endif	:i $change$${StructString g_current_music_dsp_snapshot_setting = "game"}$	:i $destroy_mainmenu_bg$	:i endfunction]Script ui_destroy_mainmenu 0x6000eef8 [	:i $spawnscriptnow$${StructQBKey destroy_main_menu}$	:i $KillSpawnedScript$${StructQBKey name = run_motd}$	:i $KillSpawnedScript$${StructQBKey name = run_motd_demon}$	:i if $ScreenElementExists$${StructQBKey id = MotdInterface}$		:i $MotdInterface$.$Die$	:i endif	:i if $ScreenElementExists$${StructQBKey id = main_menu_select_xbox_party_warning}$		:i $destroy_dialog_box$	:i endif	:i endfunction]Script main_menu_signin_changed b4ddc6eb [	:i $printf$${StructQBStringQs 0x283e65d1}$	:i $ui_event_get_top$	:i if NOT (%GLOBAL%$base_name$ = %s("mainmenu"))		:i $ui_event$${			StructQBKey event = menu_back			StructStruct Data			{				StructHeader				{					StructQBKey state = uistate_mainmenu				}			}		}$				:i $ui_event_wait_for_safe$	:i endif	:i $reset_dlc_signin_state$	:i $reset_savegame$$savegame$ = %GLOBAL%$controller$	:i $set_audio_options_for_primary_controller$	:i $safe_update_band_characters$	:i $spawnscriptnow$${StructQBKey main_menu_signin_changed_restore_friends_feed}$	:i endfunction]Script main_menu_signin_changed_restore_friends_feed 0x0e374c43 [	:i $wait$${		StructInt 4		StructQBKey gameframes	}$		:i if $ScriptIsRunning$${StructQBKey main_menu_signin_changed}$		:i return 	:i endif	:i if $ScreenElementExists$${StructQBKey id = current_menu}$		:i if $ScreenElementExists$${StructQBKey id = mainmenu_id}$			:i $current_menu$.$obj_spawnscriptlater$${				StructQBKey attempt_to_add_friend_feed				StructStruct params				{					StructHeader					{						StructQBKey menu = main						StructQBKey parent_id = mainmenu_id						StructQBKey event_handler = current_menu					}				}			}$					:i endif	:i endif	:i endfunction]Script run_motd 0x9796a659 [	:i $obj_getid$	:i $MotdInterface$.$se_setprops$${StructQBKey img_texture = motd_image}$	:i $setprops$${		StructFloatX2 Pos		{			Floats [0.00000, 0.00000]		}	}$		:i $RunScriptOnScreenElement$$id$ = :s{%GLOBAL%$ObjID$$child$ = $demon_container$:s}$run_motd_demon$	:i while 	:i $setprops$${		StructFloatX2 Pos		{			Floats [1680.00, 0.00000]		}		StructInt time = 10	}$		:i $se_waitprops$	:i $setprops$${		StructFloatX2 Pos		{			Floats [0.00000, 0.00000]		}		StructInt time = 10	}$		:i $se_waitprops$	:i $wait$${		StructInt 1		StructQBKey second	}$		:i loop_to 	:i endfunction]Script run_motd_demon 0x8a9dbeaf [	:i $obj_getid$	:i $GetScreenElementChildren$$id$ = %GLOBAL%$ObjID$	:i if $GotParam$${StructQBKey children}$		:i $GetArraySize$%GLOBAL%$children$		:i $i$ = %i(0)		:i $Add$ = %i(1)		:i while 		:i $j$ = %i(0)		:i while 		:i if (%GLOBAL%$i$ = %GLOBAL%$j$)			:i $SetScreenElementProps$$id$ = (%GLOBAL%$children$:a{%GLOBAL%$j$:a})$alpha$ = %f(1.0)$time$ = %f(0.0500000)		:i else 			:i $SetScreenElementProps$$id$ = (%GLOBAL%$children$:a{%GLOBAL%$j$:a})$alpha$ = %f(0.0)$time$ = %f(0.0500000)		:i endif		:i $j$ = (%GLOBAL%$j$ + %i(1))		:i loop_to %GLOBAL%$array_size$		:i if (%GLOBAL%$i$ = %i(0))			:i $Add$ = %i(1)		:i elseif (%GLOBAL%$i$ = (%GLOBAL%$array_size$ - %i(1)))			:i $Add$ = %i(4294967295)		:i endif		:i $i$ = (%GLOBAL%$i$ + %GLOBAL%$Add$)		:i $wait$${			StructFloat 0.25			StructQBKey seconds		}$				:i loop_to 	:i endif	:i endfunction]SectionQBKey menu_sound_lock falseScript menu_song_monitor 0x3664f30d [	:i return 	:i $unload_songqpak$	:i $SAP_GetAudioLength$	:i $song_length$ = %GLOBAL%$time$	:i $SongAudioInit$	:i $SAP_SetMasterVolume$${		StructInt vol = -5		StructFloat time = 0.10000000149011612	}$		:i while 	:i if (%GLOBAL%$song_length$ > %i(0))		:i while 		:i $SAP_GetAudioPosition$		:i if (%GLOBAL%$time$ > %i(0))			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 		:i while 		:i $SAP_GetAudioPosition$		:i if (%GLOBAL%$time$ >= %GLOBAL%$song_length$ OR %GLOBAL%$time$ = %i(0))			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 	:i endif	:i $change$${StructQBKey menu_sound_lock = true}$	:i $musicmonitor_system_deinit$	:i $SAP_Unload$	:i $get_random_menu_song$	:i $Playlist_Clear$	:i $Playlist_SetCurrentSong$$song$ = %GLOBAL%$song$	:i if NOT $SongAudioLoad$$song_name$ = %GLOBAL%$song$$starttime$ = %f(0.0)		:i $change$${StructQBKey menu_sound_lock = false}$		:i $SongAudioDeInit$		:i return 	:i endif	:i $SongAudioPlay$	:i $change$${StructQBKey menu_sound_lock = false}$	:i $SAP_GetAudioLength$	:i $song_length$ = %GLOBAL%$time$	:i loop_to 	:i endfunction]Script stop_menu_song_monitor ff33b51d [	:i $SAP_GetAudioLength$	:i $song_length$ = %GLOBAL%$time$	:i if (%GLOBAL%$song_length$ > %i(0))		:i $SongAudioDeInit$	:i endif	:i return 	:i while 	:i if (~$menu_sound_lock$ = $false$)		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $KillSpawnedScript$${StructQBKey name = menu_song_monitor}$	:i $SongAudioDeInit$	:i endfunction]SectionInteger last_menu_song_index -1Script get_random_menu_song 0x95d9d443 [	:i $GetArraySize$${StructQBString menu_songs}$	:i if (%GLOBAL%$array_size$ < %i(2))		:i $scriptassert$${StructQBStringQs ca3d1326}$		:i return ${StructQBKey song = None}$	:i endif	:i $getrandomvalue$$name$ = $index$$a$ = %i(0)$b$ = (%GLOBAL%$array_size$%i(4294967294))$integer$	:i if (%GLOBAL%$index$ = ~$last_menu_song_index$)		:i $index$ = (%GLOBAL%$index$ + %i(1))	:i endif	:i $change$${StructQBKey last_menu_song_index = index}$	:i return $song$ = (~$menu_songs$:a{%GLOBAL%$index$:a})	:i endfunction]Script main_menu_add_friendfeed_button_pill_spawned f2229de1 [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i while 	:i if $ScreenElementExists$${StructQBKey id = friends_feed_desc_id}$		:i continue	:i endif	:i $wait$${		StructInt 10		StructQBKey gameframes	}$		:i loop_to 	:i if $news_feed_should_add_button_helper$		:i if NOT $user_control_helper_exists$${StructQBKey button = blue}$			:i $add_user_control_helper$${				StructQBStringQs text = 0x226893e8				StructQBKey button = blue				StructInt z = 100				StructQBKey all_buttons			}$					:i else 			:i $user_control_helper_change_text$${				StructQBKey button = blue				StructQBStringQs text = 0x226893e8			}$					:i endif	:i endif	:i endfunction]Script ui_mainmenu_anim_in 0x77da2092 [	:i $mainmenu_animate$${StructQBKey id = mainmenu_id}$	:i endfunction]Script ui_mainmenu_anim_out 0x77da2092 [	:i $mainmenu_animate$${StructQBKey id = mainmenu_id}$	:i endfunction]