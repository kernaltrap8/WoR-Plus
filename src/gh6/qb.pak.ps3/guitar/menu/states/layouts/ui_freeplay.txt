Unknown [1c0000000000000000000ecc0000000000000000]Script ui_init_freeplay c89c719a [	:i $RequestMicDetection$${StructQBKey enable = false}$	:i $GetPakManCurrent$${StructQBKey map = zones}$	:i if (%GLOBAL%$pak$ = $None$)		:i $quickplay_choose_random_venue$	:i endif	:i if $ui_event_exists_in_stack$${StructString name = "savegame_boot_scan"}$		:i $scriptassert$${StructString 0x00000000 = "savegame_boot_scan on the UI stack. This is bad!"}$	:i endif	:i if $DemoBuild$		:i if (~$g_kiosk_demo$ = %i(1))			:i $change$${StructInt freeplay_time_before_automatic_dropout = 30}$		:i endif	:i endif	:i $NetSessionFunc$${StructQBKey func = live_settings_init}$	:i $NetSessionFunc$${		StructQBKey obj = live_settings		StructQBKey func = get_settings	}$		:i endfunction]Script ui_deinit_freeplay b4e96fb8 [	:i $musicmonitor_system_deinit$	:i $destroy_freeplay_vocals_visualizer$	:i $vocals_reset_mics$	:i $DestroyScreenElement$${StructQBKey id = freeplay_extra_helper_pill}$	:i if $ScreenElementExists$${StructQBKey id = vocals_highway_root}$		:i $DestroyScreenElement$${StructQBKey id = vocals_highway_root}$	:i endif	:i $RequestMicDetection$${StructQBKey enable = true}$	:i endfunction]Script ui_create_freeplay 0x19d76103 [	:i if NOT (~$invite_controller$ = %i(4294967295))		:i return 	:i endif	:i $change$${StructQBKey game_mode = freeplay}$	:i $change$${StructQBKey attract_sound_state = start}$	:i $change$${StructInt freeplay_primary_vocalist = -1}$	:i $change$${StructInt respond_to_signin_changed = 0}$	:i $change$${StructQBKey respond_to_signin_changed_func = ui_signin_changed_func}$	:i $change$${StructQBKey load_song_synchronous = true}$	:i if $DemoBuild$		:i if NOT $GotParam$${StructQBKey boot}$			:i $globaltag_setup_traditional_band$${StructInt savegame = 0}$			:i $persistent_band_force_traditional_band$		:i endif	:i else 		:i if NOT $GotParam$${StructQBKey boot}$			:i $persistent_band_force_traditional_band$		:i endif	:i endif	:i $GetMaxLocalPlayers$	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$bot_play$	:i $SetPlayerInfo$%GLOBAL%$player$$in_game$ = %i(1)	:i $SetPlayerInfo$%GLOBAL%$player$$interactive$ = %i(0)	:i $SetPlayerInfo$%GLOBAL%$player$$scoring$ = %i(0)	:i $SetPlayerInfo$%GLOBAL%$player$$freeplay_state$ = $dropped$	:i $SetPlayerInfo$%GLOBAL%$player$$highway_position$ = $center$	:i $SetPlayerInfo$%GLOBAL%$player$$vocals_highway_view$ = $scrolling$	:i $SetPlayerInfo$%GLOBAL%$player$$is_onscreen$ = %i(1)	:i if NOT (%GLOBAL%$bot_play$ = %i(1))		:i $SetPlayerInfo$%GLOBAL%$player$$controller$ = (%GLOBAL%$player$ - %i(1))		:i $BotPlayOff$$player$ = %GLOBAL%$player$	:i endif	:i if $DemoBuild$		:i if (~$g_kiosk_demo$ = %i(1))			:i $SetPlayerInfo$%GLOBAL%$player$$Cheat_AutoKick$ = %i(1)		:i endif	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i $max_local_players$ = %GLOBAL%$max_players$	:i $GetMaxPlayers$	:i $num_nonlocal_players$ = (%GLOBAL%$max_players$ - %GLOBAL%$max_local_players$)	:i while 	:i $SetPlayerInfo$%GLOBAL%$player$$is_onscreen$ = %i(0)	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$num_nonlocal_players$	:i $GetMaxLocalPlayers$	:i $get_local_player_num_from_controller$$controller_index$ = (~$primary_controller$)	:i $leader$ = %GLOBAL%$local_player_num$	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $get_savegame_from_controller$$controller$ = %GLOBAL%$controller$	:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$$user_options$$param$ = $use_tilt_for_starpower_save$	:i $SetPlayerInfo$%GLOBAL%$player$$use_tilt_for_starpower$ = %GLOBAL%$use_tilt_for_starpower_save$	:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$$user_options$$param$ = $enable_touch_strip_save$	:i $SetPlayerInfo$%GLOBAL%$player$$enable_touch_strip$ = %GLOBAL%$enable_touch_strip_save$	:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$$user_options$$param$ = $vocal_star_power_tap_save$	:i $SetPlayerInfo$%GLOBAL%$player$$vocal_star_power_tap$ = %GLOBAL%$vocal_star_power_tap_save$	:i $load_saved_extras_states_for_player$$player$ = %GLOBAL%$player$$controller$ = %GLOBAL%$controller$$leader$ = %GLOBAL%$leader$$dont_reset_cheats$	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i if NOT $GotParam$${StructQBKey boot}$		:i $set_audio_options_for_primary_controller$	:i endif	:i $freeplay_unpause_sound$${StructQBKey freeplay_create = true}$	:i if NOT $GotParam$${StructQBKey boot}$		:i $Playlist_Clear$	:i endif	:i $PushUnsafeForShutdown$${		StructQBKey context = gameplay		StructQBKey type = unchecked	}$		:i $UnPauseGame$	:i if NOT $GotParam$${StructQBKey boot}$		:i $freeplay_next_song$${StructQBKey initial_song_list = true}$	:i endif	:i if NOT $is_venue_unlocked$$venue$ = (~$current_level$)		:i $create_loading_screen$		:i $quickplay_choose_random_venue$	:i endif	:i if $GotParam$${StructQBKey signin_change}$		:i $start_gem_scroller$${StructQBKey signin_change}$	:i else 		:i $start_gem_scroller$	:i endif	:i $fadetoblack$${		StructQBKey Off		StructFloat time = 1.00		StructQBKey no_wait	}$		:i if NOT $RetailBuild$		:i if (~$freeplay_mem_dump_done$ = %i(0))			:i $change$${StructInt freeplay_mem_dump_done = 1}$			:i $spawnscriptnow$${StructQBKey freeplay_boot_memory_dump}$		:i endif	:i endif	:i if ((~$autolaunch_cas$ = %i(1)) OR (~$autolaunch_jam$ = %i(1)) OR (~$autolaunch_lobby$ = %i(1)))		:i if (~$autolaunch_jam$ = %i(1))			:i $change$${StructInt skip_signin = 0}$		:i endif		:i $change$${StructInt autolaunch_mainmenu = 0}$		:i $fix_primary_controller_for_autolaunch$		:i $SpawnScriptDelayed$$frames$ = %i(20)$ui_freeplay_main_menu$$params$ = :s{$device_num$ = (~$primary_controller$):s}	:i endif	:i if $GotParam$${StructQBKey signin_change}$		:i $hide_glitch$${StructInt num_frames = 30}$		:i $SpawnScriptDelayed$$frames$ = %i(20)$ui_freeplay_main_menu$$params$ = :s{$device_num$ = (~$primary_controller$)$signin_change$:s}	:i endif	:i if $GotParam$${StructQBKey boot}$		:i $memory_check_bottomup_space$	:i endif	:i $SpawnScriptLater$$ui_event_wait$$params$ = :s{$event$ = $menu_change$$Data$ = :s{$state$ = $UIState_Gameplay$$freeplay_auto_join_device$ = %GLOBAL%$freeplay_auto_join_device$:s}:s}	:i endfunction]Script freeplay_boot_memory_dump ffffffff [	:i endfunction]Script destroy_freeplay_jump_in_event_handler 0x9d8089a7 [	:i $DestroyScreenElement$${StructQBKey id = freeplay_join_event_handler}$	:i endfunction]Script create_freeplay_jump_in_event_handler 0x80548c18 [	:i if $ScreenElementExists$${StructQBKey id = freeplay_join_event_handler}$		:i $freeplay_join_event_handler$.$getsingletag$${StructQBKey ignore_go_to_main_menu_for_players}$	:i else 		:i $ignore_go_to_main_menu_for_players$ = :a{$false$$false$$false$$false$:a}	:i endif	:i if $DemoBuild$		:i $jump_in_script$ = $NullScript$		:i %GLOBAL%$back_script$ = $ui_freeplay_exit_demo$	:i else 		:i $jump_in_script$ = $ui_freeplay_jump_in$		:i %GLOBAL%$back_script$ = $NullScript$	:i endif	:i $destroy_freeplay_jump_in_event_handler$	:i $CreateScreenElement$:s{		:i $type$ = $ContainerElement$		:i $parent$ = $root_window$		:i $id$ = $freeplay_join_event_handler$		:i $event_handlers$ = :a{			:i :s{$pad_btn_top$%GLOBAL%$jump_in_script$:s}			:i :s{$pad_btn_bottom$$ui_freeplay_handle_green$:s}			:i :s{$pad_btn_right$%GLOBAL%$back_script$:s}			:i :s{$pad_start$$ui_freeplay_handle_start$:s}		:i :a}		:i $tags$ = :s{			:i $ignore_go_to_main_menu_for_players$ = %GLOBAL%$ignore_go_to_main_menu_for_players$		:i :s}	:i :s}	:i $LaunchEvent$${		StructQBKey type = focus		StructQBKey target = freeplay_join_event_handler	}$		:i if $GotParam$${StructQBKey freeplay_auto_join_device}$		:i $change$${StructInt g_beginning_of_freeplay_highway_up = 1}$		:i $LaunchEvent$$type$ = $pad_btn_top$$target$ = $freeplay_join_event_handler$$Data$ = :s{$device_num$ = %GLOBAL%$freeplay_auto_join_device$$auto_join$ = $true$:s}	:i endif	:i endfunction]Script ui_freeplay_handle_start c2a9737b [	:i $GetMaxLocalPlayers$	:i $player$ = %i(1)	:i while 	:i $get_actual_controller$$player$ = %GLOBAL%$player$	:i if (%GLOBAL%$device_num$ = %GLOBAL%$controller$)		:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$		:i if (%GLOBAL%$freeplay_state$ = $paused$)			:i $audio_ui_freeplay_play_sfx$$player$ = %GLOBAL%$player$$type$ = $select$			:i $freeplay_pause_menu_resume$$player$ = %GLOBAL%$player$			:i return 		:i elseif (%GLOBAL%$freeplay_state$ = $playing$)			:i $freeplay_pause_player$$player$ = %GLOBAL%$player$			:i return 		:i endif	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i $ui_freeplay_handle_green$$device_num$ = %GLOBAL%$device_num$	:i endfunction]Script ui_freeplay_handle_green 0x6f93eed9 [	:i $freeplay_join_event_handler$.$getsingletag$${StructQBKey ignore_go_to_main_menu_for_players}$	:i $GetMaxLocalPlayers$	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i if (%GLOBAL%$device_num$ = %GLOBAL%$controller$)		:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$		:i if (%GLOBAL%$freeplay_state$ = $dropped$)			:i $ignoring$ = (%GLOBAL%$ignore_go_to_main_menu_for_players$:a{%GLOBAL%$player$ - %i(1):a})			:i if (%GLOBAL%$ignoring$ = $true$)				:i return 			:i endif		:i endif	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i $num_dropped_players$ = %i(0)	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ = $dropped$)		:i $num_dropped_players$ = (%GLOBAL%$num_dropped_players$ + %i(1))	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i if NOT $DemoBuild$		:i if (%GLOBAL%$num_dropped_players$ = %GLOBAL%$max_players$)			:i if NOT $ScriptIsRunning$${StructQBKey SongAudioLoad}$				:i $ui_freeplay_main_menu$$device_num$ = %GLOBAL%$device_num$			:i endif			:i return 		:i endif	:i endif	:i $ui_freeplay_jump_in$$device_num$ = %GLOBAL%$device_num$	:i endfunction]Script ui_freeplay_jump_in b4cdb3a5 [	${StructQBKey auto_join = false}$	:i if (~$freeplay_demo_quit_warning_shown$ = %i(1))		:i return 	:i endif	:i if $freeplay_song_has_passed_last_fretbar$		:i return 	:i endif	:i $GetMaxLocalPlayers$	:i $player$ = %i(1)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if NOT (%GLOBAL%$freeplay_state$ = $dropped$)		:i $get_actual_controller$$player$ = %GLOBAL%$player$		:i if (%GLOBAL%$device_num$ = %GLOBAL%$controller$)			:i return 		:i endif	:i endif	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %GLOBAL%$max_players$	:i $player$ = (%GLOBAL%$device_num$ + %i(1))	:i $getplayerinfo$%GLOBAL%$player$$freeplay_state$	:i if (%GLOBAL%$freeplay_state$ !== $dropped$)		:i $scriptassert$${StructQBStringQs 0x489e11be}$	:i endif	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $getplayerinfo$%GLOBAL%$player$$bot_play$	:i if (%GLOBAL%$controller$ !== %GLOBAL%$device_num$ AND %GLOBAL%$bot_play$ = %i(0))		:i $scriptassert$${StructQBStringQs 0x297a72c1}$	:i endif	:i if (%GLOBAL%$auto_join$ = $false$)		:i $spawnscriptnow$$audio_ui_freeplay_play_sfx$$params$ = :s{$type$ = $start$$player$ = %GLOBAL%$player$:s}	:i endif	:i $freeplay_start_jump_player_in$$player$ = %GLOBAL%$player$$controller$ = %GLOBAL%$device_num$$auto_join$ = %GLOBAL%$auto_join$	:i endfunction]Script ui_freeplay_main_menu 0x17f39084 [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i $SoundEvent$${StructQBKey event = EndOfSong_Camera_Cheer_Quiet}$	:i $freeplay_disable_menus$${StructQBKey defer_system_notifications_while_disabled = false}$	:i $songlist_clear_playlist$	:i $UI_SFX$${		StructQBKey menustate = freeplay		StructQBKey uitype = select	}$		:i $hide_glitch$${StructInt num_frames = 8}$	:i if (~$skip_signin$ = %i(1))		:i $ui_event$${			StructQBKey event = menu_replace			StructStruct Data			{				StructHeader				{					StructQBKey state = uistate_mainmenu					StructQBKey clear_previous_stack				}			}		}$			:i else 		:i $RequireParams$${			StructArray 0x00000000			{				ArrayQBKey				[					device_num				]			}			StructQBKey all		}$				:i if $GotParam$${StructQBKey signin_change}$			:i $ui_event$:s{				:i $event$ = $menu_replace$				:i $Data$ = :s{					:i $state$ = $UIstate_save_icon_warning$					:i $device_num$ = %GLOBAL%$device_num$					:i $clear_previous_stack$				:i :s}			:i :s}		:i else 			:i $ui_event$:s{				:i $event$ = $menu_replace$				:i $Data$ = :s{					:i $state$ = $uistate_signin$					:i $device_num$ = %GLOBAL%$device_num$					:i $new_state$ = $UIstate_social_networks_setup$					:i $boot$ = %i(1)					:i $optional_signin$ = %i(1)					:i $clear_previous_stack$					:i $show_mainmenu_bg$ = %i(1)				:i :s}			:i :s}		:i endif	:i endif	:i endfunction]Script ui_freeplay_exit_demo e6c49975 [	:i if $DemoAllowsQuit$		:i $freeplay_get_num_active_players$		:i if (%GLOBAL%$num_active_players$ = %i(0))			:i if (~$freeplay_demo_quit_warning_shown$ = %i(0))				:i $change$${StructInt freeplay_demo_quit_warning_shown = 1}$				:i $create_dialog_box$:s{					:i $player_device$ = %GLOBAL%$device_num$					:i $no_background$					:i $heading_text$ = ^[3e1679fb]^					:i $body_text$ = ^[5e79f5c6]^					:i $back_button_script$ = $ui_freeplay_exit_demo_warning_cancel$					:i $options$ = :a{						:i :s{							:i $text$ = ^[bb46251f]^							:i $func$ = $ui_freeplay_exit_demo_warning_cancel$						:i :s}						:i :s{							:i $text$ = ^[55c34bc7]^							:i $func$ = $ui_freeplay_exit_demo_warning_confirm$						:i :s}					:i :a}				:i :s}				:i $dialog_box_container$.$obj_killspawnedscript$${StructQBKey name = demo_timeout_check}$				:i $dialog_box_container$.$obj_spawnscriptnow$${					StructQBKey demo_timeout_check					StructStruct params					{						StructHeader						{							StructQBKey func = ui_freeplay_exit_demo_warning_cancel						}					}				}$							:i endif		:i endif	:i endif	:i endfunction]Script ui_freeplay_exit_demo_warning_cancel 0x8add8f31 [	:i $destroy_dialog_box$	:i $change$${StructInt freeplay_demo_quit_warning_shown = 0}$	:i $freeplay_setup_root_helper_pills$	:i endfunction]Script ui_freeplay_exit_demo_warning_confirm 0x255debc1 [	:i $destroy_dialog_box$	:i $do_demo_outro$	:i endfunction]