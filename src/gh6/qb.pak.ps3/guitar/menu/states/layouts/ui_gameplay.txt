Unknown [1c00000000000000000011bc0000000000000000]SectionInteger gameplay_restart_song 0SectionInteger gameplay_loading_transition 0SectionInteger g_main_menu_safe 0SectionInteger g_create_vocals_mask 0Script ui_init_gameplay c1eb6902 [	:i if (~$is_network_game$)		:i $NetSync_Reset$${StructQBKey module = net_career_host_status_struct}$	:i endif	:i $KillSpawnedScript$${StructQBKey name = debug_write_user_leaderboard}$	:i $KillSpawnedScript$${StructQBKey name = rock_record_read_friends}$	:i endfunction]Script ui_create_gameplay 0x4667e9a8 [	${StructQBKey repausing = false}$	:i if $GotParam$${StructQBKey from_calibrate_lag}$		:i $ui_event_remove_params$${StructQBKey param = from_calibrate_lag}$		:i $stoprendering$	:i endif	:i $MarketplacePersistenceFunc$${StructQBKey func = Pause}$	:i $MarketplaceBGMonitorFunc$${		StructQBKey func = set_background_download		StructQBKey Off	}$		:i $MarketplaceBGMonitorFunc$${StructQBKey func = stop_scan}$	:i $destroy_friend_feed$	:i $gamerpic_cancel_texture_downloads$	:i $change$${StructInt g_main_menu_safe = 0}$	:i if (~$gameplay_restart_song$ = %i(1))		:i $Playlist_GetCurrentSong$		:i $loading_transition$ = (~$gameplay_loading_transition$)		:i $change$${StructInt gameplay_loading_transition = 0}$		:i $spawnscriptnow$$restart_song$$params$ = :s{$loading_transition$ = %GLOBAL%$loading_transition$:s}		:i $change$${StructInt gameplay_restart_song = 0}$	:i endif	:i $dynamic_ad_stop$	:i %GLOBAL%$mute$ = $false$	:i %GLOBAL%$current_song$ = $None$	:i $Playlist_GetCurrentSong$	:i if $ArrayContains$$array$ = ~$g_transformation_dummy_songs$$contains$ = %GLOBAL%$current_song$		:i %GLOBAL%$mute$ = $true$	:i endif	:i $vocals_mute_all_mics$$mute$ = %GLOBAL%$mute$	:i $spawnscriptnow$$ui_create_gameplay_spawned$$params$ = :s{$freeplay_auto_join_device$ = %GLOBAL%$freeplay_auto_join_device$$repausing$ = %GLOBAL%$repausing$:s}	:i $ui_event_remove_params$${StructQBKey param = freeplay_auto_join_device}$	:i if (~$is_network_game$ = %i(1))		:i if $TeamModeEquals$${StructQBKey team_mode = two_teams}$			:i $printf$${StructQBStringQs 0x05eaf16a}$			:i $NetSessionFunc$${				StructQBKey obj = voice				StructQBKey func = turnteamtalkon			}$					:i endif	:i endif	:i if (~$game_mode$ = $freeplay$)		:i $DestroyScreenElement$${StructQBKey id = attract_screen}$		:i $CreateScreenElement$${			StructQBKey type = descinterface			StructQBKey parent = root_window			StructQBKey id = attract_screen			StructString desc = "attract_screen"			StructQBKey hide		}$			:i endif	:i if (~$calibrate_lag_enabled$ = %i(1))		:i $change$${StructInt calibrate_gameplay_ready = 1}$	:i endif	:i if ((~$g_create_vocals_mask$) = %i(0))		:i $create_vocals_spoken_word_mask_material$		:i $change$${StructInt g_create_vocals_mask = 1}$	:i endif	:i if (~$g_memcard_ingame_is_paused$ = %i(1))		:i $printf$${StructString 0x00000000 = "Unpausing because of memcard"}$		:i $change$${StructInt g_memcard_ingame_is_paused = 0}$		:i $UnPauseGame$	:i endif	:i $song_outro_anims_add_helper$	:i endfunction]Script ui_destroy_gameplay 0x2511b72b [	:i $safe_destroy$${StructQBKey id = attract_screen}$	:i $destroy_freeplay_jump_in_event_handler$	:i $KillSpawnedScript$${StructQBKey name = career_wait_for_intro}$	:i endfunction]Script ui_create_gameplay_spawned 0x5cff35ac [	:i $setscriptcannotpause$	:i $spawn_player_drop_listeners$${		StructQBKey drop_player_script = gameplay_drop_player		StructQBKey end_game_script = gameplay_end_game	}$		:i $ui_event_wait_for_safe$	:i $LaunchEvent$${		StructQBKey type = focus		StructQBKey target = root_window	}$		:i $disable_pause$	:i while 	:i if NOT $ScriptIsRunning$${StructQBKey restart_song}$		:i if NOT $ScriptIsRunning$${StructQBKey restart_gem_scroller}$			:i if (~$is_changing_levels$ = %i(0))				:i continue			:i endif		:i endif	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $disable_pause$${StructQBKey nospam}$	:i loop_to 	:i $gamemode_gettype$	:i %GLOBAL%$pausing_enabled$ = %i(0)	:i if NOT $ScreenElementExists$${StructQBKey id = MushroomCloudHand}$		:i if (%GLOBAL%$type$ !== $freeplay$)			:i if (~$in_sing_a_long$ = $false$)				:i %GLOBAL%$pausing_enabled$ = %i(1)			:i endif		:i endif	:i endif	:i if (%GLOBAL%$type$ = $career$)		:i $quest_progression_get_transition_level_name$		:i $Playlist_GetCurrentSong$		:i if (%GLOBAL%$current_song$ = %GLOBAL%$transition_level_name$)			:i %GLOBAL%$pausing_enabled$ = %i(0)		:i endif		:i if (~$current_playing_transition$ = $celebintro$ OR 			:i ~$current_playing_transition$ = $finalbattleintro$ OR 			:i ~$current_playing_transition$ = $rushintro$ OR 			:i ~$current_playing_transition$ = $RushOutro$)			:i %GLOBAL%$pausing_enabled$ = %i(0)			:i $spawnscriptnow$${StructQBKey career_wait_for_intro}$		:i endif	:i endif	:i if (%GLOBAL%$pausing_enabled$ = %i(1))		:i if NOT $song_outro_anims_showing$			:i $enable_pause$		:i endif	:i endif	:i $ResumeControllerChecking$	:i $clear_paused_controllers$	:i $change$${StructInt unknown_drum_type = 0}$	:i $set_rich_presence_game_mode$	:i $change$${StructQBKey g_boot_sysnotify_wait = false}$	:i if (%GLOBAL%$type$ = $freeplay$)		:i $freeplay_refresh_UI_setup$${StructInt async = 0}$		:i if (%GLOBAL%$repausing$ = $false$)			:i $freeplay_enable_menus$$freeplay_auto_join_device$ = %GLOBAL%$freeplay_auto_join_device$		:i endif		:i $force_highways_to_actual_positions$		:i $disable_pause$	:i endif	:i if (~$calibrate_lag_enabled$ = %i(1))		:i $setup_pause$${StructQBKey pad_start_script = calibrate_hit_pause}$	:i endif	:i $change$${StructInt g_main_menu_safe = 1}$	:i endfunction]Script ui_deinit_gameplay bd8d2a0a [	:i $printf$${StructString 0x00000000 = "ui_deinit_gameplay"}$	:i $KillSpawnedScript$${StructQBKey name = ui_create_gameplay_spawned}$	:i $KillSpawnedScript$${StructQBKey name = create_exploding_text}$	:i $destroy_all_exploding_text$	:i $LightShow_NotInGamePlay_SetMood$${StructQBKey mood = menu}$	:i if $InNetGame$		:i $printf$${StructQBStringQs 0x363f8421}$		:i $NetSessionFunc$${			StructQBKey obj = voice			StructQBKey func = turnteamtalkoff		}$			:i endif	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $freeplay$)		:i $destroy_band$ = %i(0)	:i else 		:i $destroy_band$ = %i(1)	:i endif	:i if (%GLOBAL%$type$ = $quickplay$)		:i $quickplay_unload_challenges$	:i endif	:i if (~$practice_enabled$ = %i(1))		:i $shut_down_practice_mode$	:i endif	:i $kill_gem_scroller$$destroy_band$ = %GLOBAL%$destroy_band$	:i if (~$calibrate_lag_enabled$ = %i(1))		:i $spawnscriptnow$${StructQBKey calibrate_highway_shutdown}$	:i endif	:i $change$${StructInt song_heap_required = 0}$	:i if $ScreenElementExists$${StructQBKey id = MushroomCloudHand}$		:i $DestroyScreenElement$${StructQBKey id = MushroomCloudHand}$	:i endif	:i if $ScreenElementExists$${StructQBKey id = song_outro_anims_container}$		:i $DestroyScreenElement$${StructQBKey id = song_outro_anims_container}$	:i endif	:i $UnPauseGame$	:i $disable_pause$	:i $musicstudio_mainobj$.$musicstudio_setplayingsongingame$${StructQBKey playing = false}$	:i $change$${StructInt g_band_use_alt_positions = 0}$	:i $change$${StructInt songtime_paused = 0}$	:i $change$${StructInt g_memcard_ingame_is_paused = 0}$	:i $StopSongStarCalculation$	:i endfunction]Script ui_return_gameplay a143dd6d [	:i if (~$calibrate_lag_enabled$ = %i(1))		:i $calibrate_highway_return$	:i endif	:i endfunction]Script animate_drop_player_msg 0x93dd8ad7 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				drop_msg			]		}		StructQBKey all	}$		:i if (%GLOBAL%$part$ = $Vocals$)		:i %GLOBAL%$parent_id$.$se_setprops$$meters_menu_alpha$ = %f(0.0)$time$ = %f(0.2000000)	:i endif	:i $obj_getid$	:i %GLOBAL%$ObjID$.$se_setprops$:s{$gamertag_alpha$ = %f(1.0)$gamertag_name_text$ = %GLOBAL%$drop_msg$$gamertag_scale$ = %vec2(2.0,1.0)$time$ = %f(0.1000000)$motion$ = $ease_out$:s}	:i %GLOBAL%$ObjID$.$se_waitprops$	:i %GLOBAL%$ObjID$.$se_setprops$:s{$gamertag_scale$ = %vec2(1.2000000476837158,1.0)$time$ = %f(0.1000000)$motion$ = $ease_out$:s}	:i %GLOBAL%$ObjID$.$se_waitprops$	:i endfunction]Script animate_off_screen_drop_player_msg c6d085ed [	${Unknown [00012800b15e8bdc6969696900000000]}$	:i $obj_getid$	:i %GLOBAL%$ObjID$.$se_setprops$:s{$gamertag_text$ = %GLOBAL%$drop_msg$$Scale$ = %vec2(2.0,1.0)$time$ = %f(0.1000000)$motion$ = $ease_out$:s}	:i %GLOBAL%$ObjID$.$se_waitprops$	:i %GLOBAL%$ObjID$.$se_setprops$:s{$Scale$ = %vec2(1.0,1.0)$time$ = %f(0.1000000)$motion$ = $ease_out$:s}	:i %GLOBAL%$ObjID$.$se_waitprops$	:i endfunction]Script gameplay_drop_player f08bd7f9 [	:i $printf$${StructQBStringQs bbbe3929}$	:i $gamemode_gettype$	:i if (%GLOBAL%$is_game_over$ = %i(0))		:i if (%GLOBAL%$type$ = $career$)			:i $career_wait_for_intro$			:i $getplayerinfo$%GLOBAL%$dropped_player_num$$band$			:i $RemovePlayerFromBand$$player$ = %GLOBAL%$dropped_player_num$$band$ = %GLOBAL%$band$			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$is_local_client$ = %i(0)			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$net_id_first$ = %i(0)			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$net_id_second$ = %i(0)			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$net_obj_id$ = %i(4294967295)			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$band$ = %i(1)			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$party_id$ = %i(4294967295)			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$in_game$ = %i(0)			:i $change$$net_num_players$ = ((~$net_num_players$) - %i(1))			:i $change$$net_dropped_players_flag$ = ((~$net_dropped_players_flag$) + %i(1))		:i else 			:i if $playerinfoequals$%GLOBAL%$dropped_player_num$$is_onscreen$ = %i(1)				:i $LaunchGemEvent$$event$ = $kill_objects_and_switch_player_non_interactive$$player$ = %GLOBAL%$dropped_player_num$				:i $WhammyFXOffAll$$player$ = %GLOBAL%$dropped_player_num$			:i endif			:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$in_game$ = %i(0)			:i $getplayerinfo$%GLOBAL%$dropped_player_num$$band$			:i $RemovePlayerFromBand$$player$ = %GLOBAL%$dropped_player_num$$band$ = %GLOBAL%$band$		:i endif		:i switch %GLOBAL%$drop_reason$			:i case $net_message_player_quit$				:i $FormatText$$textname$ = $drop_msg$^[567f10d8]^$s$ = %GLOBAL%$name_string$				:i endcase			case $net_message_player_dropped$				:i endcase			case $net_message_player_timed_out$				:i $FormatText$$textname$ = $drop_msg$^[d4b272d7]^$s$ = %GLOBAL%$name_string$				:i endcase			default 				:i $drop_msg$ = ^[00000000]^		:i end_switch		:i $getplayerinfo$%GLOBAL%$dropped_player_num$$part$		:i if $playerinfoequals$%GLOBAL%$dropped_player_num$$is_onscreen$ = %i(1)			:i $quest_progression_get_transition_level_name$			:i $Playlist_GetCurrentSong$			:i if (%GLOBAL%$current_song$ = %GLOBAL%$transition_level_name$)				:i $spawnscriptnow$$net_generic_drop_player$$params$ = :s{ isNull :s}			:i else 				:i if (%GLOBAL%$part$ = $Vocals$)					:i $getplayerinfo$%GLOBAL%$dropped_player_num$$combo_meter_id$$out$ = $highway_hud_root$				:i else 					:i $get_highway_hud_root_id$$player$ = %GLOBAL%$dropped_player_num$				:i endif				:i if $ScreenElementExists$$id$ = %GLOBAL%$highway_hud_root$					:i $getplayerinfo$%GLOBAL%$dropped_player_num$$part$					:i if %GLOBAL%$highway_hud_root$.$desc_resolvealias$$name$ = $alias_hud_gamertag$$param$ = $hud_gamertag$						:i %GLOBAL%$hud_gamertag$.$obj_spawnscriptnow$$animate_drop_player_msg$$params$ = :s{$drop_msg$ = %GLOBAL%$drop_msg$$parent_id$ = %GLOBAL%$highway_hud_root$$part$ = %GLOBAL%$part$:s}					:i endif				:i endif			:i endif		:i elseif $ScreenElementExists$${StructQBKey id = hud_root}$			:i if $hud_root$.$desc_resolvealias$${					StructQBKey name = alias_scoreboard_menu					StructQBKey param = scoreboard_menu				}$								:i if $GetScreenElementChildren$$id$ = %GLOBAL%$scoreboard_menu$					:i $GetArraySize$${StructQBKey children}$					:i if (%GLOBAL%$array_size$ > %i(0))						:i %GLOBAL%$i$ = %i(0)						:i while 						:i %GLOBAL%$child_id$ = (%GLOBAL%$children$:a{%GLOBAL%$i$:a})						:i if %GLOBAL%$child_id$.$Obj_GetIntegerTag$$tag_name$ = $player$$assert$ = %i(0)							:i if (%GLOBAL%$integer_value$ = %GLOBAL%$dropped_player_num$)								:i %GLOBAL%$child_id$.$obj_spawnscriptnow$$animate_off_screen_drop_player_msg$$params$ = :s{$drop_msg$ = %GLOBAL%$drop_msg$:s}								:i continue							:i endif						:i endif						:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))						:i loop_to %GLOBAL%$array_size$					:i endif				:i endif			:i endif		:i endif	:i else 		:i if (%GLOBAL%$type$ = $competitive$ OR (%GLOBAL%$type$ = $pro_faceoff$))			:i if (%GLOBAL%$dropped_player_num$ > %i(0))				:i $printf$${StructQBStringQs 0x3efb5626}$				:i $SetPlayerInfo$%GLOBAL%$dropped_player_num$$Score$ = %f(0.0)			:i endif		:i endif	:i endif	:i endfunction]Script gameplay_end_game ce51ddb6 [	:i $printf$${StructQBStringQs 0x743ca546}$	:i $printstruct$ isNull 	:i $destroy_dialog_box$	:i if ((%GLOBAL%$is_game_over$ = %i(1)) AND (~$net_popup_active$ = %i(0)))		:i $GetNumPlayersInGame$${StructQBKey local}$		:i if (%GLOBAL%$num_players$ > %i(0))			:i $GetFirstPlayer$${StructQBKey local}$			:i while 			:i $getplayerinfo$%GLOBAL%$player$$controller$			:i $getplayerinfo$%GLOBAL%$player$$bot_play$			:i if NOT (%GLOBAL%$bot_play$ = %i(1))				:i if NOT $CheckForSignin$$controller_index$ = %GLOBAL%$controller$$dont_set_primary$					:i $printf$^[6e784de6]^$d$ = %GLOBAL%$controller$					:i return 				:i endif			:i endif			:i $GetNextPlayer$$local$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_players$		:i endif		:i if $GotParam$${StructQBKey no_unpause}$			:i $net_disable_pause$${StructQBKey no_unpause}$		:i else 			:i $net_disable_pause$		:i endif		:i switch %GLOBAL%$drop_reason$			:i case $net_message_player_quit$				:i $FormatText$$textname$ = $first_msg$^[567f10d8]^$s$ = %GLOBAL%$name_string$				:i endcase			case $net_message_player_dropped$				:i endcase			case $net_message_player_timed_out$				:i $FormatText$$textname$ = $first_msg$^[d4b272d7]^$s$ = %GLOBAL%$name_string$				:i endcase			default 				:i $first_msg$ = ^[00000000]^		:i end_switch		:i $FormatText$$textname$ = $msg$^[78bb855f]^$s$ = %GLOBAL%$first_msg$		:i $ui_event_get_stack$		:i if ((%GLOBAL%$stack$:a{%i(0):a}->$base_name$) = %s("controller_disconnect"))			:i $ui_event$${StructQBKey event = menu_back}$			:i $ui_event_wait_for_safe$		:i endif		:i $create_net_popup$$Title$ = ^[5ca2c535]^$popup_text$ = %GLOBAL%$msg$		:i if $ScreenElementExists$${StructQBKey id = dialog_box_desc_id}$			:i $dialog_box_desc_id$.$obj_spawnscriptnow$$gameplay_end_game_spawned$$id$ = $not_ui_player_drop_scripts$$params$ = :s{ isNull :s}		:i endif	:i endif	:i endfunction]Script gameplay_end_game_spawned f736f327 [	${StructInt instant = 0}$	:i $setscriptcannotpause$	:i $printf$${StructQBStringQs 0x2094a470}$	:i if (%GLOBAL%$instant$ = %i(0))		:i $wait$${			StructInt 3			StructQBKey seconds		}$			:i endif	:i $ui_event_get_stack$	:i if (((%GLOBAL%$stack$:a{%i(0):a}->$base_name$) = %s("connection_loss")) OR ((%GLOBAL%$stack$:a{%i(0):a}->$base_name$) = %s("signin_changed")))		:i return 	:i endif	:i $destroy_net_popup$	:i if $ScriptIsRunning$${StructQBKey handle_signin_changed}$		:i return 	:i endif	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $career$)		:i if (~$playing_song$ = %i(1))			:i $kill_gem_scroller$		:i endif		:i $quit_network_game_early$		:i $band_lobby_restore_prematchmaking_settings$		:i $ui_event_get_stack$		:i if (((%GLOBAL%$stack$:a{%i(0):a}->$base_name$) = %s("connection_loss")) OR ((%GLOBAL%$stack$:a{%i(0):a}->$base_name$) = %s("signin_changed")))			:i return 		:i endif		:i $audio_kill_cutscene_audio$		:i if $ui_event_is_top_popup$			:i $ui_memcard_autosave_all_players$${				StructQBKey memcard_event = menu_replace				StructQBKey event = menu_back				StructQBKey state = uistate_band_lobby			}$					:i else 			:i $ui_memcard_autosave_all_players$${				StructQBKey event = menu_back				StructQBKey state = uistate_band_lobby			}$					:i endif	:i else 		:i if NOT ($GameIsOver$)			:i $extendcrc$${				StructQBKey song_won				StructString 0x00000000 = "p1"				StructQBKey out = type			}$						:i $broadcastevent$$type$ = %GLOBAL%$type$		:i endif	:i endif	:i $printf$${StructQBStringQs 0x713cc07b}$	:i endfunction]