Unknown [1c00000000000000000034880000000000000000]SectionInteger g_e3_demo_flow 0SectionInteger g_quest_map_index 0SectionInteger g_quest_map_first_time 1SectionArray g_quest_map_state{	ArrayInteger	[		0		0		0		0		0		0		0		0		0		0		0	]}SectionArray g_quest_map_stars{	ArrayInteger	[		0		0		0		0		0		0		0		0		0		0		0	]}SectionInteger g_quest_map_last_player_num 0SectionQBKeyStringQs g_quest_map_last_gamertag bceb627dSectionInteger g_career_skip_narration 1SectionFloat g_quest_map_initial_wait_before_anim 1.00000SectionFloat g_quest_map_wait_inbetween_anim 1.00000SectionFloat g_domination_anim_delay 4.00000SectionFloat g_domination_anim_speed 1.00000SectionFloat g_domination_anim_default 1.00000SectionFloat g_domination_anim_start_time 2.75000SectionFloat g_domination_anim_accelerator 0.720000SectionArray g_quest_map_info_box_text{	ArrayStruct	[		StructHeader		{			StructInt chapters = 0			StructQBStringQs text = 0x646aa51e		}		StructHeader		{			StructInt chapters = 1			StructQBStringQs text = 0x72c0f7bb		}		StructHeader		{			StructInt chapters = 4			StructQBStringQs text = b1c5dc72		}		StructHeader		{			StructInt chapters = 5			StructQBStringQs text = 0x72c0f7bb		}		StructHeader		{			StructInt chapters = 8			StructQBStringQs text = 0x3b8575e2		}		StructHeader		{			StructInt chapters = 9			StructQBStringQs text = 0x33959787		}		StructHeader		{			StructInt chapters = 10			StructQBStringQs text = ede8ecfe		}		StructHeader		{			StructInt chapters = 11			StructQBStringQs text = 0x6876acd2		}		]}Script ui_init_quest_map 0x3c500a6c [	:i $change$${StructQBKey respond_to_signin_changed_func = None}$	:i $change$${StructInt g_quest_map_index = 0}$	:i $net_leader$ = (~$g_net_leader_player_num$)	:i if (%GLOBAL%$net_leader$ < %i(1))		:i $GetFirstPlayer$${StructQBKey local}$		:i $net_leader$ = %GLOBAL%$player$	:i endif	:i if (%GLOBAL%$net_leader$ > %i(0))		:i $getplayerinfo$%GLOBAL%$net_leader$$gamertag$		:i if (~%GLOBAL%$gamertag$ !== ~$g_quest_map_last_gamertag$)			:i $change$${StructInt g_quest_map_index = 0}$		:i endif		:i $change$$g_quest_map_last_player_num$ = %GLOBAL%$net_leader$		:i $change$$g_quest_map_last_gamertag$ = (~%GLOBAL%$gamertag$)	:i endif	:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout_star_count}$	:i $audio_ui_enter_quest_map$	:i $change$${StructInt g_quest_map_first_time = 1}$	:i endfunction]Script ui_create_quest_map ffad8a06 [	${		StructInt play_outro_vo = 0		StructArray outro_vo_strings		{			Floats [0.00000, 0.00000]		}		StructInt net_play_song = 0	}$		:i $audio_ui_menu_music_on$	:i $spawnscriptnow$${StructQBKey audio_kill_crowds_during_stats_screen}$	:i $change$${StructQBKey rich_presence_context = presence_career_map}$	:i $change$${StructInt respond_to_signin_changed = 1}$	:i $change$${StructInt respond_to_signin_changed_all_players = 1}$	:i $change$${StructQBKey respond_to_signin_changed_func = None}$	:i $destroy_friend_feed$	:i $CreateScreenElement$:s{		:i $parent$ = $root_window$		:i $id$ = $QuestMapID$		:i $type$ = $descinterface$		:i $desc$ = %s("career_map")		:i $tags$ = :s{			:i $map_index$ = %i(4294967295)			:i $map_fillout_pass$ = %i(1)			:i $linear_progression$ = :a{:a}			:i $num_unlocked$ = %i(0)			:i $vo_unique_ids$ = :a{:a}			:i $initial_wait_flag$ = %i(0)			:i $domination_unlocked$ = %i(0)		:i :s}		:i $exclusive_device$ = (~$primary_controller$)		:i $character_description_alpha$ = %i(0)		:i $instruction_alpha$ = %i(0)	:i :s}	:i $GetArraySize$%GLOBAL%$outro_vo_strings$$param$ = $num_vo_strings$	:i if (%GLOBAL%$num_vo_strings$ = %i(0))		:i $play_outro_vo$ = %i(0)	:i endif	:i $quest_map_add_event_handlers$$vo_playing$ = %GLOBAL%$play_outro_vo$	:i if $InNetGame$		:i $net_career_setup_ui_stream$${StructQBKey parent = QuestMapID}$	:i endif	:i if (~$g_quest_map_first_time$ = %i(1))		:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout_unlock_array}$	:i endif	:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_create_linear_progression_array}$	:i if (%GLOBAL%$play_outro_vo$ = %i(1))		:i $counter$ = %i(0)		:i $GetArraySize$%GLOBAL%$outro_vo_strings$		:i if (%GLOBAL%$array_size$ > %i(0))			:i while 			:i if ((%GLOBAL%$outro_vo_strings$:a{%GLOBAL%$counter$:a}) = %s("Map_Demigod_Complete"))				:i $tutorial_system_get_language_prefix$				:i $FormatText$$checksumname$ = $mapdemigodcompletestreamname$%s("%l_UI_Demigod_Complete")$l$ = %GLOBAL%$language_prefix$				:i $StopSound$%GLOBAL%$mapdemigodcompletestreamname$				:i $QuestMapID$.$settags$${StructInt domination_unlocked = 1}$				:i continue			:i endif			:i $counter$ = (%GLOBAL%$counter$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout}$	:i $QuestMapID$.$desc_resolvealias$${StructQBKey name = alias_container}$	:i $QuestMapID$.$getsingletag$${StructQBKey num_unlocked}$	:i if (%GLOBAL%$num_unlocked$ > %i(9))		:i $QuestMapID$.$se_setprops$${StructInt tier03b_alpha = 1}$	:i endif	:i if (%GLOBAL%$num_unlocked$ > %i(5))		:i $QuestMapID$.$se_setprops$${StructInt tier03_alpha = 1}$	:i endif	:i if (%GLOBAL%$num_unlocked$ > %i(4))		:i $QuestMapID$.$se_setprops$${StructInt tier02b_alpha = 1}$	:i endif	:i if (%GLOBAL%$num_unlocked$ > %i(2))		:i $QuestMapID$.$se_setprops$${StructInt tier02_alpha = 1}$	:i endif	:i $quest_progression_get_number_of_completed_chapters$$savegame$ = (~$primary_controller$)	:i %GLOBAL%$index$ = %i(0)	:i $GetArraySize$(~$g_quest_map_info_box_text$)	:i while 	:i %GLOBAL%$chapters$ = (~$g_quest_map_info_box_text$:a{%GLOBAL%$index$:a}->$chapters$)	:i if (%GLOBAL%$number_of_unlocked_chapters$ >= %GLOBAL%$chapters$)		:i $QuestMapID$.$se_setprops$$instructional_text_text$ = (~$g_quest_map_info_box_text$:a{%GLOBAL%$index$:a}->$text$)	:i endif	:i %GLOBAL%$index$ = (%GLOBAL%$index$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i if $console_is_net_career_client$		:i %GLOBAL%$quest_map_first_time_setup$ = (~$g_net_career_progression$->$career_progression_tags$->$quest_map_first_time_setup$)	:i else 		:i $GetGlobalTags$$savegame$ = (~$primary_controller$)$career_progression_tags$$param$ = $quest_map_first_time_setup$	:i endif	:i $GetSavegameFromController$$controller$ = (~$primary_controller$)	:i $quest_calculate_career_progress$:s{$savegame$ = %GLOBAL%$savegame$:s}	:i $FormatText$$textname$ = $percentage_text$^[22cb1903]^$a$ = %GLOBAL%$career_complete_percentage$$decimalplaces$ = %i(0)	:i $QuestMapID$.$se_setprops$$percentage_text_text$ = %GLOBAL%$percentage_text$	:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_focus}$	:i if (%GLOBAL%$quest_map_first_time_setup$ = %i(0))		:i if $console_is_net_career_client$			:i $temp_struct$ = (~$g_net_career_progression$->$career_progression_tags$ + :s{$quest_map_first_time_setup$ = %i(1):s})			:i $AppendStruct$$struct$ = $g_net_career_progression$$field$ = $career_progression_tags$$params$ = %GLOBAL%$temp_struct$$globalstruct$		:i else 			:i $SetGlobalTags$$savegame$ = (~$primary_controller$)$career_progression_tags$$params$ = :s{$quest_map_first_time_setup$ = %i(1):s}$progression$ = $true$		:i endif		:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = %s("Map_Intro")		:i %GLOBAL%$outro_vo_strings$ = %GLOBAL%$array$		:i $quest_map_add_event_handlers$${StructInt vo_playing = 1}$		:i $QuestMapID$.$obj_spawnscript$$ui_quest_map_play_outro_vo$$params$ = :s{$vo_array$ = %GLOBAL%$outro_vo_strings$$finished_callback$ = $quest_map_vo_finished$$play_outro_vo$ = %i(1):s}	:i elseif (%GLOBAL%$play_outro_vo$ = %i(1))		:i $QuestMapID$.$obj_spawnscript$$ui_quest_map_play_outro_vo$$params$ = :s{$vo_array$ = %GLOBAL%$outro_vo_strings$$finished_callback$ = $quest_map_vo_finished$$play_outro_vo$ = %GLOBAL%$play_outro_vo$:s}	:i else 		:i $QuestMapID$.$obj_spawnscript$$quest_map_vo_finished$$params$ = :s{$vo_array$ = %GLOBAL%$outro_vo_strings$$play_outro_vo$ = %GLOBAL%$play_outro_vo$:s}	:i endif	:i $quest_map_get_slot_id$$chapter_num$ = (~$g_quest_map_index$ + %i(1))	:i %GLOBAL%$slot_id$.$se_setprops$$career_meter_scale$ = %vec2(1.5,1.5)	:i $wait$${		StructFloat 0.10000000149011612		StructQBKey seconds	}$		:i if (%GLOBAL%$net_play_song$ = %i(0))		:i $QuestMapID$.$settags$${StructInt map_fillout_pass = 2}$		:i $QuestMapID$.$getsingletag$${StructQBKey domination_unlocked}$		:i if (%GLOBAL%$domination_unlocked$ = %i(0))			:i $for_each_quest_progression_unlock$${				StructQBKey callback = ui_quest_map_fillout				StructInt spawned = 1			}$					:i else 			:i $wait$(~$g_domination_anim_delay$)$seconds$			:i $change$${StructQBString g_domination_anim_speed = g_domination_anim_start_time}$			:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout}$		:i endif	:i endif	:i $QuestMapID$.$settags$$map_index$ = (~$g_quest_map_index$)	:i $change$${StructInt g_quest_map_first_time = 0}$	:i $ui_event_remove_params$${StructQBKey param = play_outro_vo}$	:i endfunction]Script ui_return_quest_map 0x84898f88 [	:i if NOT $ScreenElementExists$${StructQBKey id = band_lobby_popup_menu}$		:i $quest_map_add_helpers$		:i $quest_map_add_event_handlers$		:i $AssignAlias$${			StructQBKey id = QuestMapID			StructQBKey alias = current_menu		}$				:i $LaunchEvent$${			StructQBKey type = focus			StructQBKey target = current_menu		}$			:i else 		:i $AssignAlias$${			StructQBKey id = band_lobby_popup_menu			StructQBKey alias = current_menu		}$				:i $clean_up_user_control_helpers$		:i $add_user_control_helper$$controller$ = (~$primary_controller$)$text$ = (~$band_lobby_strings$->$button_select$)$button$ = $green$$z$ = %i(100000)		:i $band_lobby_update_button_helpers$$controller$ = (~$primary_controller$)$menu$ = $playerslist$	:i endif	:i endfunction]Script quest_map_add_event_handlers 0x77c8a785 [	${StructInt vo_playing = 0}$	:i if $console_is_net_career_client$		:i %GLOBAL%$array$ = :a{			:i :s{$pad_up$$ui_quest_map_move$$params$ = :s{$savegame$ = (~$primary_controller$):s}:s}			:i :s{$pad_down$$ui_quest_map_move$$params$ = :s{$savegame$ = (~$primary_controller$)$up$ = %i(1):s}:s}			:i :s{$pad_back$$postgame_lobby_quit$$params$ = :s{$id$ = $QuestMapID$:s}:s}			:i :s{$pad_back$$UI_SFX$$params$ = :s{$menustate$ = $career_map$$uitype$ = $back$:s}:s}			:i :s{$pad_choose$$ui_quest_map_choose$$params$ = :s{$device_num$ = %GLOBAL%$device_num$:s}:s}			:i :s{$pad_choose$$UI_SFX$$params$ = :s{$menustate$ = $career_map$$uitype$ = $select$:s}:s}		:i :a}	:i else 		:i %GLOBAL%$array$ = :a{			:i :s{$pad_up$$ui_quest_map_move$$params$ = :s{$savegame$ = (~$primary_controller$):s}:s}			:i :s{$pad_down$$ui_quest_map_move$$params$ = :s{$savegame$ = (~$primary_controller$)$up$ = %i(1):s}:s}			:i :s{$pad_back$$ui_quest_map_back$:s}			:i :s{$pad_back$$UI_SFX$$params$ = :s{$menustate$ = $career_map$$uitype$ = $back$:s}:s}			:i :s{$pad_choose$$ui_quest_map_choose$$params$ = :s{$device_num$ = %GLOBAL%$device_num$:s}:s}			:i :s{$pad_choose$$UI_SFX$$params$ = :s{$menustate$ = $career_map$$uitype$ = $select$:s}:s}		:i :a}	:i endif	:i if $InNetGame$		:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = :s{$pad_option$$quest_map_players$$params$ = :s{$device_num$ = %GLOBAL%$device_num$:s}:s}	:i else 		:i if NOT $RetailBuild$			:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = $quest_chapter_finale$$param$ = $completed$			:i if (%GLOBAL%$completed$ = %i(0))				:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = :s{$pad_l1$$ui_quest_map_debug_beat$$params$ = :s{$beat_encore$ = %i(1):s}:s}				:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = :s{$pad_r1$$ui_quest_map_debug_beat$:s}			:i else 				:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = :s{$pad_l1$$ui_quest_map_debug_beat$$params$ = :s{$dominate$ = %i(1):s}:s}				:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = :s{$pad_r1$$ui_quest_map_debug_beat$:s}			:i endif			:i if (~$g_career_skip_narration$ = %i(1) AND %GLOBAL%$vo_playing$ = %i(1))				:i $QuestMapID$.$se_setprops$${					StructArray event_handlers					{						Floats [0.00000, 0.00000]					}					StructQBKey replace_handlers				}$								:i $array$ = :a{:s{$pad_option2$$quest_map_kill_vo$:s}:a}			:i endif		:i endif	:i endif	:i $QuestMapID$.$se_setprops$:s{		:i $event_handlers$ = %GLOBAL%$array$		:i $replace_handlers$	:i :s}	:i if (%GLOBAL%$vo_playing$ = %i(1))		:i if $cd$			:i $QuestMapID$.$se_setprops$${StructQBKey block_events}$		:i else 			:i if (~$g_career_skip_narration$ = %i(1))				:i $clean_up_user_control_helpers$				:i $add_user_control_helper$${					StructQBStringQs text = 0x8f5f1203					StructQBKey button = yellow				}$								:i $LaunchEvent$${					StructQBKey type = focus					StructQBKey target = QuestMapID				}$							:i else 				:i $QuestMapID$.$se_setprops$${StructQBKey block_events}$			:i endif		:i endif	:i else 		:i $QuestMapID$.$se_setprops$${StructQBKey unblock_events}$	:i endif	:i endfunction]Script quest_map_add_helpers 0x1d2a7e1e [	:i $clean_up_user_control_helpers$	:i $add_user_control_helper$${		StructQBStringQs text = c18d5e76		StructQBKey button = green	}$		:i $add_user_control_helper$${		StructQBStringQs text = af4d5dd2		StructQBKey button = red	}$		:i if $InNetGame$		:i $add_user_control_helper$${			StructQBStringQs text = a83061c6			StructQBKey button = blue		}$			:i else 		:i if NOT $RetailBuild$			:i if $quest_progression_check_domination_unlocked$$savegame$ = (~$primary_controller$)				:i $add_user_control_helper$${					StructQBStringQs text = 0x532a33ac					StructQBKey button = orange				}$							:i else 				:i $add_user_control_helper$${					StructQBStringQs text = 0x5ffd0ea3					StructQBKey button = orange				}$							:i endif			:i $add_user_control_helper$${				StructQBStringQs text = c6180e71				StructQBKey button = rb			}$					:i endif	:i endif	:i endfunction]Script quest_map_hilight_anim b15885ed [	:i while 	:i $se_setprops$${		StructInt alpha = 1		StructFloatX2 Scale		{			Floats [0.850000, 0.850000]		}		StructInt time = 0	}$		:i $wait$${		StructFloat 0.25		StructQBKey seconds	}$		:i $se_setprops$${		StructFloat alpha = 0.5		StructFloatX2 Scale		{			Floats [0.900000, 0.900000]		}		StructFloat time = 0.25	}$		:i $wait$${		StructFloat 0.25		StructQBKey seconds	}$		:i $se_setprops$${		StructInt alpha = 1		StructFloatX2 Scale		{			Floats [0.850000, 0.850000]		}		StructFloat time = 0.25	}$		:i $wait$${		StructFloat 0.25		StructQBKey seconds	}$		:i loop_to 	:i endfunction]Script quest_map_vo_finished 0x2c8a0ccc [	${StructInt play_outro_vo = 0}$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $show_help_page$ = %i(0)	:i if $GotParam$${StructQBKey vo_array}$		:i $GetArraySize$%GLOBAL%$vo_array$		:i if (%GLOBAL%$array_size$ > %i(0))			:i if ((%GLOBAL%$vo_array$:a{%i(0):a}) = %s("Map_Demigod_Complete"))				:i $universal_help_display_help_check$$help_context$ = $domination_intro$$device_num$ = (~$primary_controller$)				:i $change$$g_domination_anim_speed$ = (~$g_domination_anim_default$)			:i endif		:i endif	:i endif	:i if NOT $GotParam$${StructQBKey fb_outro}$		:i $QuestMapID$.$settags$${StructInt map_fillout_pass = 3}$		:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout}$	:i endif	:i $quest_map_get_slot_id$$chapter_num$ = (~$g_quest_map_index$ + %i(1))	:i %GLOBAL%$slot_id$.$se_setprops$$hilight_alpha$ = %i(1)	:i %GLOBAL%$slot_id$.$se_setprops$$hilight_glow_alpha$ = %i(1)	:i %GLOBAL%$slot_id$.$se_setprops$$career_meter_scale$ = %vec2(1.5,1.5)	:i if %GLOBAL%$slot_id$.$desc_resolvealias$$name$ = $alias_hilight$$param$ = $hilight_id$		:i %GLOBAL%$hilight_id$.$obj_spawnscript$$quest_map_hilight_anim$	:i else 		:i $scriptassert$${StructString 0x00000000 = "dschorn1"}$	:i endif	:i if %GLOBAL%$slot_id$.$desc_resolvealias$$name$ = $alias_hilight_glow$$param$ = $hilight_glow_id$		:i %GLOBAL%$hilight_glow_id$.$obj_spawnscript$$quest_map_hilight_anim$	:i else 		:i $scriptassert$${StructString 0x00000000 = "dschorn1"}$	:i endif	:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_focus}$	:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout_unlock_array}$	:i if (%GLOBAL%$show_help_page$ = %i(1))		:i $wait$${			StructFloat 1.2000000476837158			StructQBKey second		}$				:i $ui_event_wait$:s{			:i $event$ = $menu_change$			:i $state$ = $UIstate_universal_help$			:i $Data$ = :s{				:i $next_state_event$ = $menu_back$				:i $next_state_name$ = $UIstate_quest_map$				:i $help_global_index$ = %GLOBAL%$help_index$				:i $device_num$ = (~$primary_controller$)				:i $is_popup$			:i :s}		:i :s}		:i $LaunchEvent$${			StructQBKey type = unfocus			StructQBKey target = QuestMapID		}$			:i else 		:i $quest_map_add_helpers$		:i $quest_map_add_event_handlers$		:i $AssignAlias$${			StructQBKey id = QuestMapID			StructQBKey alias = current_menu		}$				:i $LaunchEvent$${			StructQBKey type = focus			StructQBKey target = current_menu		}$			:i endif	:i endfunction]Script quest_map_kill_hilight_anim f009af9d [	:i $se_setprops$${StructInt alpha = 0}$	:i endfunction]Script quest_map_kill_vo fa65bf30 [	:i $QuestMapID$.$getsingletag$${StructQBKey vo_unique_ids}$	:i $GetArraySize$%GLOBAL%$vo_unique_ids$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$vo_index$ = %i(0)		:i while 		:i %GLOBAL%$id$ = (%GLOBAL%$vo_unique_ids$:a{%GLOBAL%$vo_index$:a})		:i $StopSound$$unique_id$ = %GLOBAL%$id$$fade_time$ = %f(0.1000000)$fade_type$ = $linear$		:i %GLOBAL%$vo_index$ = (%GLOBAL%$vo_index$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i $QuestMapID$.$obj_spawnscript$${StructQBKey quest_map_vo_finished}$	:i endfunction]Script ui_destroy_quest_map ffad1de3 [	:i $quest_map_kill_vo$	:i $clean_up_user_control_helpers$	:i if $ScreenElementExists$${StructQBKey id = QuestMapID}$		:i $DestroyScreenElement$${StructQBKey id = QuestMapID}$	:i endif	:i endfunction]Script ui_deinit_quest_map e74c3349 [	:i $destroy_band$	:i $audio_ui_exit_quest_map$	:i endfunction]Script ui_quest_map_play_outro_vo c1be1b39 [	${		StructArray vo_array		{			Floats [0.00000, 0.00000]		}		StructQBKey finished_callback = NullScript	}$		:i %GLOBAL%$lang_crc$ = $null$	:i if $English$		:i %GLOBAL%$lang_crc$ = $EN_$	:i elseif $German$		:i %GLOBAL%$lang_crc$ = $GR_$	:i elseif $French$		:i %GLOBAL%$lang_crc$ = $FR_$	:i elseif $Italian$		:i %GLOBAL%$lang_crc$ = $IT_$	:i elseif $Spanish$		:i %GLOBAL%$lang_crc$ = $SP_$	:i endif	:i %GLOBAL%$vo_index$ = %i(0)	:i $GetArraySize$%GLOBAL%$vo_array$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$vo_array_size$ = %GLOBAL%$array_size$		:i while 		:i $extendcrc$%GLOBAL%$lang_crc$(%GLOBAL%$vo_array$:a{%GLOBAL%$vo_index$:a})$out$ = $outro_vo_crc$		:i $PreLoadStream$%GLOBAL%$outro_vo_crc$		:i $QuestMapID$.$getsingletag$${StructQBKey vo_unique_ids}$		:i $AddArrayElement$$array$ = %GLOBAL%$vo_unique_ids$$element$ = %GLOBAL%$unique_id$		:i $QuestMapID$.$settags$$vo_unique_ids$ = %GLOBAL%$array$		:i while 		:i if $PreLoadStreamDone$%GLOBAL%$unique_id$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 		:i $audio_cutscene_get_vol_tweak_of_preloaded_stream$$streamname$ = (%GLOBAL%$vo_array$:a{%GLOBAL%$vo_index$:a})		:i $StartPreLoadedStream$%GLOBAL%$unique_id$$buss$ = $front_end$$forcesafepreload$ = %i(1)$vol$ = %GLOBAL%$volumetweak$$priority$ = %i(1)		:i if (%GLOBAL%$vo_index$ = %i(0))			:i $quest_map_add_event_handlers$${StructInt vo_playing = 1}$		:i endif		:i if (%GLOBAL%$vo_array_size$ > %i(1) AND %GLOBAL%$vo_index$ + %i(1) < %GLOBAL%$vo_array_size$)			:i $audio_menu_music_duck_volume$$outro_vo$ = (%GLOBAL%$vo_array$:a{%GLOBAL%$vo_index$:a})			:i while 			:i if NOT $issoundplaying$%GLOBAL%$outro_vo_crc$				:i continue			:i endif			:i $wait$${				StructInt 1				StructQBKey gameframe			}$						:i loop_to 		:i else 			:i $audio_menu_music_duck_volume$$outro_vo$ = (%GLOBAL%$vo_array$:a{%GLOBAL%$vo_index$:a})		:i endif		:i if (%GLOBAL%$vo_index$ = %i(0))			:i if (%GLOBAL%$vo_array$:a{%GLOBAL%$vo_index$:a} = %s("Map_Demigod_Complete"))				:i $QuestMapID$.$settags$${StructInt map_fillout_pass = 3}$				:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout}$			:i else 				:i $QuestMapID$.$obj_spawnscript$%GLOBAL%$finished_callback$$params$ = :s{$vo_array$ = %GLOBAL%$vo_array$:s}			:i endif		:i elseif (%GLOBAL%$vo_index$ = %i(1) AND (%GLOBAL%$vo_array$:a{%GLOBAL%$vo_index$:a} = %s("Map_FB_Outro")))			:i $QuestMapID$.$obj_spawnscript$%GLOBAL%$finished_callback$$params$ = :s{$vo_array$ = %GLOBAL%$vo_array$$fb_outro$:s}		:i endif		:i %GLOBAL%$vo_index$ = (%GLOBAL%$vo_index$ + %i(1))		:i loop_to %GLOBAL%$vo_array_size$	:i endif	:i endfunction]Script ui_quest_create_linear_progression_array 0x7a59e52f [	${Unknown [000126004ca493f76969696900000000]}$	:i $QuestMapID$.$getsingletag$${StructQBKey linear_progression}$	:i $AddArrayElement$$array$ = %GLOBAL%$linear_progression$$element$ = %GLOBAL%$chapter_global$	:i %GLOBAL%$linear_progression$ = %GLOBAL%$array$	:i $QuestMapID$.$settags$$linear_progression$ = %GLOBAL%$linear_progression$	:i endfunction]Script ui_quest_map_fillout_unlock_array 0x590c5944 [	${Unknown [000126004ca493f76969696900000018000124000b564e2f6969696900000000]}$	:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $unlocked$	:i $SetArrayElement$$arrayName$ = $g_quest_map_state$$globalarray$$index$ = (%GLOBAL%$chapter_num$ - %i(1))$newValue$ = %GLOBAL%$unlocked$	:i endfunction]Script quest_get_char_icon 0x20f3556e [	${Unknown [00012700db76befb6969696900000018000126008d2df56c6969696900000000]}$	:i $FormatText$$checksumname$ = $character_texture$%s("Car_%s01_ICON")$s$ = %GLOBAL%$hero_name_nl$	:i $FormatText$$checksumname$ = $character_trans_texture$%s("Car_%s02_ICON")$s$ = %GLOBAL%$hero_name_nl$	:i if (%GLOBAL%$chapter_name$ = $quest_chapter_newfemale$)		:i %GLOBAL%$character_texture$ = $car_chicka01_icon$		:i %GLOBAL%$character_trans_texture$ = $car_chicka02_icon$	:i elseif (%GLOBAL%$chapter_name$ = $quest_chapter_newmale$)		:i %GLOBAL%$character_texture$ = $car_dude01_icon$		:i %GLOBAL%$character_trans_texture$ = $car_dude02_icon$	:i elseif (%GLOBAL%$chapter_name$ = $quest_chapter_midboss$)		:i %GLOBAL%$character_texture$ = $car_ax01_icon$		:i %GLOBAL%$character_trans_texture$ = $car_ax02_icon$	:i elseif (%GLOBAL%$chapter_name$ = $quest_chapter_demigod$)		:i %GLOBAL%$character_texture$ = $car_demi01_icon$		:i %GLOBAL%$character_trans_texture$ = $car_demi02_icon$	:i elseif (%GLOBAL%$chapter_name$ = $quest_chapter_finale$)		:i %GLOBAL%$character_texture$ = $car_amp01_icon$		:i %GLOBAL%$character_trans_texture$ = $car_amp02_icon$	:i endif	:i return $character_texture$ = %GLOBAL%$character_texture$$character_trans_texture$ = %GLOBAL%$character_trans_texture$	:i endfunction]Script ui_quest_map_fillout 0x8f544a4c [	${Unknown [000126004ca493f76969696900000018000124000b564e2f6969696900000000]}$	:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$chapter_global$->$name$)	:i %GLOBAL%$hero_info$ = (~%GLOBAL%$chapter_global$->$hero_info$)	:i %GLOBAL%$hero_name_nl$ = (~%GLOBAL%$hero_info$->$name_nl$)	:i $FormatText$$checksumname$ = $chapter_unlock$%s("%s")$s$ = %GLOBAL%$chapter_name$	:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i $domination_unlocked$ = %i(0)	:i $QuestMapID$.$getsingletag$${StructQBKey map_fillout_pass}$	:i $QuestMapID$.$getsingletag$${StructQBKey domination_unlocked}$	:i if $console_is_net_career_client$		:i $AddParams$(~$g_net_career_progression$->%GLOBAL%$chapter_unlock$)	:i else 		:i $GetGlobalTags$%GLOBAL%$chapter_unlock$$savegame$ = %GLOBAL%$savegame$	:i endif	:i $quest_map_get_slot_id$$chapter_num$ = %GLOBAL%$chapter_num$	:i $quest_get_char_icon$$hero_name_nl$ = %GLOBAL%$hero_name_nl$$chapter_name$ = %GLOBAL%$chapter_global$	:i %GLOBAL%$hero_global$ = (~%GLOBAL%$chapter_global$->$hero_info$)	:i if (%GLOBAL%$map_fillout_pass$ = %i(1))		:i if (%GLOBAL%$unlocked$ = %i(1))			:i $QuestMapID$.$getsingletag$${StructQBKey num_unlocked}$			:i $QuestMapID$.$settags$$num_unlocked$ = (%GLOBAL%$num_unlocked$ + %i(1))			:i %GLOBAL%$slot_id$.$se_setprops$$icon_character_texture$ = %GLOBAL%$character_texture$			:i if (~$g_quest_map_state$:a{(%GLOBAL%$chapter_num$ - %i(1)):a} = %i(1))				:i %GLOBAL%$slot_id$.$se_setprops$$alpha$ = %i(1)			:i endif			:i if $quest_progression_check_for_chapter_complete$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$				:i %GLOBAL%$character_texture$ = %GLOBAL%$character_trans_texture$				:i %GLOBAL%$slot_id$.$se_setprops$$icon_character_texture$ = %GLOBAL%$character_texture$			:i endif			:i if (%GLOBAL%$domination_unlocked$ = %i(1))				:i $quest_progression_get_number_of_stars_earned$$chapter_global$ = %GLOBAL%$chapter_global$$savegame$ = (~$primary_controller$)				:i $stars_needed_for_transform$ = (~%GLOBAL%$chapter_global$->$stars_for_encore$)				:i $stars_needed_for_max$ = (~%GLOBAL%$chapter_global$->$stars_for_reward$)				:i $force_red_fill$ = %i(0)				:i $stop_at_blue$ = %i(1)				:i $encore_completed$ = %i(0)				:i if (%GLOBAL%$hero_global$ = $midboss_hero_info$ OR %GLOBAL%$hero_global$ = $finale_hero_info$)					:i $force_red_fill$ = %i(1)					:i $stop_at_blue$ = %i(0)					:i $encore_completed$ = %i(1)					:i $stars_earned$ = %i(10)					:i $stars_needed_for_transform$ = %i(0)					:i $stars_needed_for_max$ = %i(10)				:i endif				:i $song_breakdown_apply_career_medallion_progress$:s{					:i $song_stars_earned$ = %i(0)					:i $current_total_stars$ = %GLOBAL%$stars_earned$					:i $stars_needed_for_transform$ = %GLOBAL%$stars_needed_for_transform$					:i $stars_needed_for_max$ = %GLOBAL%$stars_needed_for_max$					:i $apply_initial$ = %i(1)					:i $desc_id$ = %GLOBAL%$slot_id$					:i $use_16_textures$ = %i(1)					:i $force_stats_finished_animating$ = %i(1)					:i $stop_at_blue$ = %GLOBAL%$stop_at_blue$					:i $encore_completed$ = %i(1)					:i $force_red_fill$ = %GLOBAL%$force_red_fill$					:i $domination_unlocked$ = %i(0)					:i $encore_completed$ = %GLOBAL%$encore_completed$				:i :s}			:i endif		:i endif	:i elseif (%GLOBAL%$map_fillout_pass$ = %i(2))		:i if (%GLOBAL%$unlocked$ = %i(1))			:i if (%GLOBAL%$has_been_played$ = %i(1))				:i $quest_progression_get_number_of_stars_earned$$chapter_global$ = %GLOBAL%$chapter_global$$savegame$ = (~$primary_controller$)				:i %GLOBAL%$stars_before$ = (~$g_quest_map_stars$:a{%GLOBAL%$chapter_num$ - %i(1):a})				:i %GLOBAL%$new_stars$ = (%GLOBAL%$stars_earned$ - %GLOBAL%$stars_before$)				:i if (%GLOBAL%$stars_before$ < ~%GLOBAL%$chapter_global$->$stars_for_encore$)					:i %GLOBAL%$slot_id$.$se_setprops$$icon_character_texture$ = %GLOBAL%$character_texture$				:i endif				:i %GLOBAL%$stars_needed_for_transform$ = (~%GLOBAL%$chapter_global$->$stars_for_encore$)				:i %GLOBAL%$stars_needed_for_max$ = (~%GLOBAL%$chapter_global$->$stars_for_reward$)				:i if (%GLOBAL%$chapter_global$ = $quest_chapter_midboss$ OR %GLOBAL%$chapter_global$ = $quest_chapter_finale$)					:i if $console_is_net_career_client$						:i %GLOBAL%$rush_set_current_song$ = (~$g_net_career_progression$->$career_progression_tags$->$rush_set_current_song$)					:i else 						:i $GetGlobalTags$$career_progression_tags$$params$ = $rush_set_current_song$$savegame$ = (~$primary_controller$)					:i endif					:i $songs_array$ = (~%GLOBAL%$chapter_global$->$songs$)					:i $GetArraySize$%GLOBAL%$songs_array$$param$ = $num_songs$					:i %GLOBAL%$one_fraction$ = ((%f(1.0) / %GLOBAL%$num_songs$) * %f(100.0))					:i $CastToInteger$${StructQBKey one_fraction}$					:i %GLOBAL%$stars$ = %GLOBAL%$one_fraction$					:i if (%GLOBAL%$chapter_global$ = $quest_chapter_midboss$)						:i $rush_set_current_song$ = (%GLOBAL%$rush_set_current_song$ - %i(1))						:i $stars_earned$ = (%GLOBAL%$one_fraction$ * %GLOBAL%$rush_set_current_song$)					:i else 						:i $stars_earned$ = %i(0)					:i endif					:i %GLOBAL%$new_stars$ = %i(0)					:i %GLOBAL%$stars_needed_for_transform$ = %i(100)					:i %GLOBAL%$stars_needed_for_max$ = %i(300)					:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $completed$					:i if (%GLOBAL%$completed$ = %i(1))						:i %GLOBAL%$new_stars$ = %i(0)						:i $stars_earned$ = %GLOBAL%$num_songs$						:i $stars_needed_for_transform$ = %GLOBAL%$num_songs$						:i $stars_needed_for_max$ = %GLOBAL%$num_songs$					:i endif				:i endif				:i $apply_blue_flame$ = %i(0)				:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $encore_unlocked$				:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $completed$				:i if (%GLOBAL%$encore_unlocked$ = %i(1) AND %GLOBAL%$completed$ = %i(0))					:i $apply_blue_flame$ = %i(1)				:i endif				:i $stop_at_blue$ = %i(1)				:i $completed$ = %i(0)				:i if $quest_progression_check_domination_unlocked$$savegame$ = (~$primary_controller$)					:i $stop_at_blue$ = %i(0)					:i $completed$ = %i(1)				:i endif				:i $force_red_fill$ = %i(0)				:i $force_stats_finished_animating$ = %i(1)				:i if (%GLOBAL%$hero_global$ = $midboss_hero_info$ OR %GLOBAL%$hero_global$ = $finale_hero_info$)					:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $completed$					:i $force_red_fill$ = %i(1)					:i $force_stats_finished_animating$ = %i(1)					:i $stop_at_blue$ = %i(0)				:i endif				:i $apply_initial$ = %i(1)				:i if (%GLOBAL%$domination_unlocked$ = %i(1))					:i $apply_initial$ = %i(0)					:i $force_stats_finished_animating$ = %i(0)					:i $force_red_fill$ = %i(1)					:i if (%GLOBAL%$hero_global$ = $midboss_hero_info$ OR %GLOBAL%$hero_global$ = $finale_hero_info$)						:i return 					:i endif					:i if (~$g_medallion_pitch$ = %i(0))						:i $playsound$${							StructQBKey stats_screen_stars_loop							StructQBKey buss = ui							StructInt num_loops = -1							StructInt vol = -10						}$											:i else 						:i $setsoundparams$$stats_screen_stars_loop$$vol$ = (((~$g_medallion_pitch$ / %i(7)) * %i(10)) - %i(10))$pitch$ = ((~$g_medallion_pitch$ / %i(7)) * %i(5))					:i endif					:i $playsound$$medallion_flip$$vol$ = %i(4294967286)$buss$ = $front_end$$pitch$ = ((~$g_medallion_pitch$ / %i(5)) * %i(5))					:i $printf$${						StructQBKey channel = sfx						StructQBStringQs 0x0eec8116						StructQBString s = g_medallion_pitch					}$										:i $change$$g_medallion_pitch$ = (~$g_medallion_pitch$ + %i(1))				:i endif				:i if (~$g_medallion_pitch$ = %i(8))					:i $change$${StructInt g_medallion_pitch = 0}$					:i $StopSound$${StructQBKey stats_screen_stars_loop}$				:i endif				:i $song_breakdown_apply_career_medallion_progress$:s{					:i $song_stars_earned$ = %GLOBAL%$new_stars$					:i $current_total_stars$ = %GLOBAL%$stars_earned$					:i $stars_needed_for_transform$ = %GLOBAL%$stars_needed_for_transform$					:i $stars_needed_for_max$ = %GLOBAL%$stars_needed_for_max$					:i $apply_initial$ = %GLOBAL%$apply_initial$					:i $desc_id$ = %GLOBAL%$slot_id$					:i $use_16_textures$ = %i(1)					:i $force_stats_finished_animating$ = %GLOBAL%$force_stats_finished_animating$					:i $stop_at_blue$ = %GLOBAL%$stop_at_blue$					:i $encore_completed$ = %GLOBAL%$completed$					:i $force_red_fill$ = %GLOBAL%$force_red_fill$					:i $apply_blue_flame$ = %GLOBAL%$apply_blue_flame$					:i $domination_unlocked$ = %GLOBAL%$domination_unlocked$				:i :s}				:i if (%GLOBAL%$new_stars$ > %i(0))					:i $wait$(~$g_quest_map_wait_inbetween_anim$)$seconds$					:i %GLOBAL%$callback_params$ = :s{:s}					:i $force_stats_finished_animating$ = %i(1)					:i if $quest_progression_check_for_chapter_complete$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$						:i %GLOBAL%$callback_params$ = :s{							:i $animating_callback$ = $quest_map_medallion_animating_callback$							:i $animating_callback_params$ = :s{$chapter_num$ = %GLOBAL%$chapter_num$$chapter_global$ = %GLOBAL%$chapter_global$:s}						:i :s}						:i $force_stats_finished_animating$ = %i(0)					:i endif					:i $song_breakdown_apply_career_medallion_progress$:s{						:i $song_stars_earned$ = %GLOBAL%$new_stars$						:i $current_total_stars$ = %GLOBAL%$stars_earned$						:i $stars_needed_for_transform$ = %GLOBAL%$stars_needed_for_transform$						:i $stars_needed_for_max$ = %GLOBAL%$stars_needed_for_max$						:i $desc_id$ = %GLOBAL%$slot_id$						:i $use_16_textures$ = %i(1)						:i $wait_time$ = %i(1)						:i $stop_at_blue$ = %GLOBAL%$stop_at_blue$						:i $encore_completed$ = %GLOBAL%$completed$						:i $force_red_fill$ = %GLOBAL%$force_red_fill$						:i $apply_blue_flame$ = %GLOBAL%$apply_blue_flame$						:i $force_stats_finished_animating$ = %GLOBAL%$force_stats_finished_animating$						:i %GLOBAL%$callback_params$					:i :s}				:i endif			:i endif		:i else 			:i if (%GLOBAL%$chapter_num$ = ~$g_quest_map_index$ + %i(1))				:i $change$${StructInt g_quest_map_index = 0}$			:i endif		:i endif	:i elseif (%GLOBAL%$map_fillout_pass$ = %i(3))		:i if (%GLOBAL%$unlocked$ = %i(1))			:i if (~$g_quest_map_state$:a{(%GLOBAL%$chapter_num$ - %i(1)):a} = %i(0))				:i %GLOBAL%$slot_id$.$se_setprops$$alpha$ = %i(1)				:i $quest_map_anim_in_medallion$$slot_id$ = %GLOBAL%$slot_id$			:i endif		:i endif	:i endif	:i endfunction]Script quest_map_medallion_animating_callback 0x94041618 [	${Unknown [000124000b564e2f6969696900000018000126004ca493f76969696900000000]}$	:i $quest_map_get_slot_id$$chapter_num$ = %GLOBAL%$chapter_num$	:i %GLOBAL%$hero_info$ = (~%GLOBAL%$chapter_global$->$hero_info$)	:i %GLOBAL%$hero_name_nl$ = (~%GLOBAL%$hero_info$->$name_nl$)	:i $quest_get_char_icon$$hero_name_nl$ = %GLOBAL%$hero_name_nl$$chapter_name$ = %GLOBAL%$chapter_global$	:i if $quest_progression_check_for_chapter_complete$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$		:i $quest_map_get_slot_id$$chapter_num$ = %GLOBAL%$chapter_num$		:i $quest_get_char_icon$$hero_name_nl$ = %GLOBAL%$hero_name_nl$$chapter_name$ = %GLOBAL%$chapter_global$		:i %GLOBAL%$character_texture$ = %GLOBAL%$character_trans_texture$	:i endif	:i %GLOBAL%$slot_id$.$se_setprops$$icon_character_texture$ = %GLOBAL%$character_texture$	:i endfunction]Script quest_map_anim_in_medallion f235a28c [	${Unknown [00012600a61aee636969696900000000]}$	:i %GLOBAL%$time$ = %f(0.2000000)	:i $SoundEvent$${StructQBKey event = Audio_UI_Career_Medallion_Appear}$	:i %GLOBAL%$slot_id$.$se_setprops$$career_meter_scale$ = %vec2(0.0,0.0)$glow_scale$ = %vec2(0.0,0.0)$glow_alpha$ = %i(0)$time$ = %GLOBAL%$time$	:i $wait$%GLOBAL%$time$$seconds$	:i %GLOBAL%$slot_id$.$se_setprops$$career_meter_scale$ = %vec2(2.0,2.0)$glow_scale$ = %vec2(1.5,1.5)$glow_alpha$ = %i(1)$time$ = %GLOBAL%$time$	:i $wait$%GLOBAL%$time$$seconds$	:i %GLOBAL%$slot_id$.$se_setprops$$career_meter_scale$ = %vec2(1.0,1.0)$glow_scale$ = %vec2(0.0,0.0)$glow_alpha$ = %i(0)$time$ = %GLOBAL%$time$	:i $wait$%GLOBAL%$time$$seconds$	:i endfunction]Script quest_map_get_slot_id c492d659 [	${Unknown [000124000b564e2f6969696900000000]}$	:i if $ScreenElementExists$${StructQBKey id = QuestMapID}$		:i $QuestMapID$.$desc_resolvealias$${StructQBKey name = alias_container}$		:i $FormatText$$checksumname$ = $slot_child_id$%s("slot%d")$d$ = %GLOBAL%$chapter_num$		:i $ResolveScreenElementID$$id$ = :s{%GLOBAL%$resolved_id$$child$ = %GLOBAL%$slot_child_id$:s}		:i return $slot_id$ = %GLOBAL%$resolved_id$	:i endif	:i endfunction]Script ui_quest_map_move 0x346657fe [	${StructInt up = 0}$	:i $QuestMapID$.$getsingletag$${StructQBKey map_index}$	:i $QuestMapID$.$getsingletag$${StructQBKey linear_progression}$	:i $GetArraySize$%GLOBAL%$linear_progression$	:i %GLOBAL%$old_map_index$ = %GLOBAL%$map_index$	:i %GLOBAL%$check_for_unlock$ = %i(0)	:i if (%GLOBAL%$up$ = %i(1))		:i if (%GLOBAL%$map_index$ + %i(1) < %GLOBAL%$array_size$)			:i %GLOBAL%$map_index$ = (%GLOBAL%$map_index$ + %i(1))			:i %GLOBAL%$check_for_unlock$ = %i(1)		:i endif	:i else 		:i if (%GLOBAL%$map_index$ > %i(0))			:i %GLOBAL%$map_index$ = (%GLOBAL%$map_index$ - %i(1))			:i %GLOBAL%$check_for_unlock$ = %i(1)		:i endif	:i endif	:i $quest_map_get_slot_id$$chapter_num$ = (%GLOBAL%$map_index$ + %i(1))	:i %GLOBAL%$slot_id$.$se_getprops$$alpha$	:i if (%GLOBAL%$alpha$ = %i(0))		:i return 	:i endif	:i if (%GLOBAL%$check_for_unlock$ = %i(1))		:i %GLOBAL%$chapter_global$ = (%GLOBAL%$linear_progression$:a{%GLOBAL%$map_index$:a})		:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $unlocked$		:i if (%GLOBAL%$unlocked$ = %i(1))			:i $QuestMapID$.$settags$$map_index$ = %GLOBAL%$map_index$			:i $change$$g_quest_map_index$ = %GLOBAL%$map_index$			:i $quest_map_get_slot_id$$chapter_num$ = (%GLOBAL%$old_map_index$ + %i(1))			:i if $ScreenElementExists$$id$ = %GLOBAL%$slot_id$				:i %GLOBAL%$slot_id$.$se_getprops$				:i if (%GLOBAL%$type$ = $descinterface$)					:i %GLOBAL%$slot_id$.$se_setprops$$hilight_alpha$ = %i(0)					:i %GLOBAL%$slot_id$.$se_setprops$$career_meter_scale$ = %vec2(1.0,1.0)					:i if %GLOBAL%$slot_id$.$desc_resolvealias$$name$ = $alias_hilight$$param$ = $hilight_id$						:i %GLOBAL%$hilight_id$.$obj_spawnscript$$quest_map_kill_hilight_anim$						:i %GLOBAL%$hilight_id$.$obj_killspawnedscript$$name$ = $quest_map_hilight_anim$					:i else 						:i $scriptassert$${StructString 0x00000000 = "dschorn1"}$					:i endif					:i if %GLOBAL%$slot_id$.$desc_resolvealias$$name$ = $alias_hilight_glow$$param$ = $hilight_glow_id$						:i %GLOBAL%$hilight_glow_id$.$obj_spawnscript$$quest_map_kill_hilight_anim$						:i %GLOBAL%$hilight_glow_id$.$obj_killspawnedscript$$name$ = $quest_map_hilight_anim$					:i else 						:i $scriptassert$${StructString 0x00000000 = "dschorn1"}$					:i endif					:i $quest_map_get_slot_id$$chapter_num$ = (%GLOBAL%$map_index$ + %i(1))					:i %GLOBAL%$slot_id$.$se_setprops$$hilight_alpha$ = %i(1)					:i %GLOBAL%$slot_id$.$se_setprops$$hilight_glow_alpha$ = %i(1)					:i %GLOBAL%$slot_id$.$se_setprops$$career_meter_scale$ = %vec2(1.5,1.5)					:i if %GLOBAL%$slot_id$.$desc_resolvealias$$name$ = $alias_hilight$$param$ = $hilight_id$						:i %GLOBAL%$hilight_id$.$obj_spawnscript$$quest_map_hilight_anim$					:i else 						:i $scriptassert$${StructString 0x00000000 = "dschorn1"}$					:i endif					:i if %GLOBAL%$slot_id$.$desc_resolvealias$$name$ = $alias_hilight_glow$$param$ = $hilight_glow_id$						:i %GLOBAL%$hilight_glow_id$.$obj_spawnscript$$quest_map_hilight_anim$					:i else 						:i $scriptassert$${StructString 0x00000000 = "dschorn1"}$					:i endif				:i endif			:i else 				:i $printf$$channel$ = $jleckner$%s("slot_id - %d, map_index - %i does not EXIST")$d$ = %GLOBAL%$slot_id$$i$ = (%GLOBAL%$old_map_index$ + %i(1))			:i endif			:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_focus}$			:i if (%GLOBAL%$up$ = %i(1))				:i $UI_SFX$${					StructQBKey menustate = career_map					StructQBKey uitype = ScrollUp				}$							:i else 				:i $UI_SFX$${					StructQBKey menustate = career_map					StructQBKey uitype = ScrollDown				}$							:i endif		:i endif	:i endif	:i endfunction]Script ui_quest_map_focus 0x30d1ac46 [	${Unknown [000126004ca493f76969696900000018000124000b564e2f6969696900000000]}$	:i if (%GLOBAL%$chapter_num$ !== ~$g_quest_map_index$ + %i(1))		:i return 	:i endif	:i %GLOBAL%$completed_text$ = ^[d230996d]^	:i $max_stars$ = (~%GLOBAL%$chapter_global$->$stars_for_encore$)	:i $domination_unlocked$ = %i(0)	:i if $quest_progression_check_domination_unlocked$$savegame$ = (~$primary_controller$)		:i $domination_unlocked$ = %i(1)	:i endif	:i $special_case_info_text$ = $None$	:i if (%GLOBAL%$domination_unlocked$ = %i(0) AND %GLOBAL%$chapter_global$ !== $quest_chapter_demigod$)		:i $quest_progression_get_number_of_stars_earned$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$		:i if (%GLOBAL%$stars_earned$ >= ~%GLOBAL%$chapter_global$->$stars_for_encore$)			:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $completed$			:i if (%GLOBAL%$completed$ = %i(0) AND %GLOBAL%$chapter_global$ !== $quest_chapter_midboss$ AND %GLOBAL%$chapter_global$ !== $quest_chapter_demigod$ AND %GLOBAL%$chapter_global$ !== $quest_chapter_finale$)				:i %GLOBAL%$completed_text$ = ^[ab08bfb0]^				:i $special_case_info_text$ = $pass_encore$			:i elseif (%GLOBAL%$chapter_global$ !== $quest_chapter_midboss$ AND %GLOBAL%$chapter_global$ !== $quest_chapter_demigod$ AND %GLOBAL%$chapter_global$ !== $quest_chapter_finale$)				:i %GLOBAL%$completed_text$ = ^[fcc1ea3b]^				:i %GLOBAL%$stars_earned$ = %GLOBAL%$max_stars$				:i $special_case_info_text$ = $complete$			:i endif		:i endif	:i else 		:i if $quest_progression_check_chapter_dominated$$savegame$ = (~$primary_controller$)$chapter$ = %GLOBAL%$chapter_global$			:i $completed_text$ = ^[b12cf33d]^			:i $max_stars$ = (~%GLOBAL%$chapter_global$->$stars_for_reward$)		:i else 			:i $completed_text$ = ^[6c9c9533]^			:i $max_stars$ = (~%GLOBAL%$chapter_global$->$stars_for_reward$)		:i endif	:i endif	:i $quest_progression_get_number_of_stars_earned$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$	:i if (%GLOBAL%$stars_earned$ > %GLOBAL%$max_stars$)		:i $stars_earned$ = %GLOBAL%$max_stars$	:i endif	:i $FormatText$$textname$ = $stars_number_text$^[9f9d1ef2]^$a$ = %GLOBAL%$stars_earned$$b$ = %GLOBAL%$max_stars$	:i %GLOBAL%$hero_info$ = (~%GLOBAL%$chapter_global$->$hero_info$)	:i if $quest_progression_check_domination_unlocked$$savegame$ = (~$primary_controller$)		:i $hero_name$ = (~%GLOBAL%$hero_info$->$character_transformation_fullname$)		:i $power_name$ = ((~$demigod_hero_info$)->$character_power2$)	:i else 		:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $completed$		:i if (%GLOBAL%$completed$ = %i(1))			:i $hero_name$ = (~%GLOBAL%$hero_info$->$character_transformation_fullname$)			:i $power_name$ = (~%GLOBAL%$hero_info$->$character_power2$)		:i else 			:i $hero_name$ = (~%GLOBAL%$hero_info$->$character_fullname$)			:i $power_name$ = (~%GLOBAL%$hero_info$->$character_power$)		:i endif	:i endif	:i $QuestMapID$.$se_setprops$:s{		:i $character_name_text$ = %GLOBAL%$hero_name$		:i $power_name_text$ = %GLOBAL%$power_name$		:i $stars_number_text$ = %GLOBAL%$stars_number_text$		:i $stars_completed_text$ = %GLOBAL%$completed_text$		:i $character_description_alpha$ = %i(1)		:i $instruction_alpha$ = %i(1)		:i $time$ = %f(0.1000000)	:i :s}	:i if (%GLOBAL%$chapter_global$ = $quest_chapter_midboss$ OR %GLOBAL%$chapter_global$ = $quest_chapter_finale$)		:i $QuestMapID$.$se_setprops$${			StructFloat stars_to_complete_alpha = 0.00			StructFloatX2 character_name_pos			{				Floats [-5.00000, -16.0000]			}			StructFloatX2 power_name_pos			{				Floats [48.0000, 90.0000]			}		}$			:i else 		:i $QuestMapID$.$se_setprops$${			StructFloat stars_to_complete_alpha = 1.00			StructFloatX2 character_name_pos			{				Floats [-5.00000, -29.0000]			}			StructFloat character_name_scale = 1.00			StructFloatX2 power_name_pos			{				Floats [48.0000, 70.0000]			}			StructFloat power_name_scale = 1.00			StructFloat rush_smoke_scale = 1.00			StructFloat final_smoke_scale = 1.00			StructFloat demigod_smoke_scale = 1.00		}$			:i endif	:i if (%GLOBAL%$special_case_info_text$ = $complete$)		:i $QuestMapID$.$se_setprops$${			StructFloat stars_to_complete_alpha = 0.00			StructFloat chapter_complete_alpha = 1.00			StructQBStringQs chapter_complete_text = 0x015c3862		}$			:i elseif (%GLOBAL%$special_case_info_text$ = $pass_encore$)		:i $QuestMapID$.$se_setprops$${			StructFloat stars_to_complete_alpha = 0.00			StructFloat chapter_complete_alpha = 1.00			StructQBStringQs chapter_complete_text = 0x84c9bc8d		}$			:i else 		:i $QuestMapID$.$se_setprops$${StructFloat chapter_complete_alpha = 0.00}$	:i endif	:i if (%GLOBAL%$chapter_global$ = $quest_chapter_midboss$)		:i $QuestMapID$.$se_setprops$${StructFloat rush_smoke_scale = 1.7000000476837158}$	:i elseif (%GLOBAL%$chapter_global$ = $quest_chapter_finale$)		:i $QuestMapID$.$se_setprops$${			StructFloat final_smoke_scale = 1.7000000476837158			StructFloat demigod_smoke_scale = 1.00		}$			:i elseif (%GLOBAL%$chapter_global$ = $quest_chapter_demigod$)		:i $QuestMapID$.$se_setprops$${			StructFloat demigod_smoke_scale = 1.5			StructFloat final_smoke_scale = 1.00		}$			:i endif	:i if $console_is_net_career_client$		:i if ((%GLOBAL%$chapter_global$ = $quest_chapter_midboss$) OR (%GLOBAL%$chapter_global$ = $quest_chapter_finale$))			:i $clean_up_user_control_helpers$			:i $add_user_control_helper$${				StructQBStringQs text = af4d5dd2				StructQBKey button = red			}$						:i $add_user_control_helper$${				StructQBStringQs text = a83061c6				StructQBKey button = blue			}$					:i else 			:i $quest_map_add_helpers$		:i endif	:i endif	:i endfunction]Script ui_quest_map_choose 0x41962175 [	${Unknown [00012400c9428a086969696900000000]}$	:i $QuestMapID$.$getsingletag$${StructQBKey map_index}$	:i $QuestMapID$.$getsingletag$${StructQBKey linear_progression}$	:i $GetArraySize$%GLOBAL%$linear_progression$	:i if (%GLOBAL%$map_index$ < %i(0) OR %GLOBAL%$map_index$ > (%GLOBAL%$array_size$ - %i(1)))		:i return 	:i endif	:i %GLOBAL%$chapter_name$ = (%GLOBAL%$linear_progression$:a{%GLOBAL%$map_index$:a})	:i %GLOBAL%$venue$ = (~%GLOBAL%$chapter_name$->$venue$)	:i $change$$current_level$ = %GLOBAL%$venue$	:i $for_each_quest_progression_unlock$${StructQBKey callback = ui_quest_map_fillout_star_count}$	:i %GLOBAL%$state$ = $UIstate_quest_map_giglist$	:i %GLOBAL%$character_id$ = (~%GLOBAL%$chapter_name$->$rocker_id$)	:i $GetNumPlayersInGame$${StructQBKey local}$	:i $GetFirstPlayer$${StructQBKey local}$	:i while 	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i if (%GLOBAL%$controller$ = %GLOBAL%$device_num$)		:i $SetPlayerInfo$%GLOBAL%$player$$character_id$ = %GLOBAL%$character_id$		:i $SetPlayerInfo$%GLOBAL%$player$$score_attribute_level$ = %i(1)		:i continue	:i endif	:i $GetNextPlayer$$player$ = %GLOBAL%$player$$local$	:i loop_to %GLOBAL%$num_players$	:i $change$$current_chapter$ = %GLOBAL%$chapter_name$	:i $change$${		StructArray g_quest_recent_unlocked_awards		{			Floats [0.00000, 0.00000]		}	}$		:i if (%GLOBAL%$chapter_name$ = $quest_chapter_midboss$ OR %GLOBAL%$chapter_name$ = $quest_chapter_finale$)		:i if $console_is_net_career_client$			:i $net_career_prompt_client_no_continue$		:i elseif (%GLOBAL%$chapter_name$ = $quest_chapter_midboss$)			:i $ui_quest_map_choose_rush_set$		:i elseif (%GLOBAL%$chapter_name$ = $quest_chapter_finale$)			:i $hide_glitch$${StructInt num_frames = 8}$			:i $ui_quest_map_choose_final_battle$$chapter_name$ = %GLOBAL%$chapter_name$		:i endif	:i else 		:i $generic_event_choose$$state$ = %GLOBAL%$state$$Data$ = :s{$chapter_name$ = %GLOBAL%$chapter_name$:s}	:i endif	:i endfunction]Script ui_quest_map_fillout_star_count 0x15ed3117 [	${Unknown [000126004ca493f76969696900000018000124000b564e2f6969696900000000]}$	:i $quest_progression_get_number_of_stars_earned$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$	:i $SetArrayElement$$arrayName$ = $g_quest_map_stars$$globalarray$$index$ = (%GLOBAL%$chapter_num$ - %i(1))$newValue$ = %GLOBAL%$stars_earned$	:i endfunction]Script ui_quest_get_vo_array 0x565ad44f [	${Unknown [000126008d2df56c6969696900000000]}$	:i %GLOBAL%$outro_vo_strings$ = :a{:a}	:i $quest_progression_get_number_of_completed_chapters$$savegame$ = (~$primary_controller$)	:i if (%GLOBAL%$number_of_unlocked_chapters$ = %i(1))		:i if $StructureContains$$structure$ = (~%GLOBAL%$chapter_name$)$alt_outro_vo$			:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = (~%GLOBAL%$chapter_name$->$alt_outro_vo$)			:i %GLOBAL%$outro_vo_strings$ = %GLOBAL%$array$			:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = %s("Map_Unlock_2nd_Tier")			:i %GLOBAL%$outro_vo_strings$ = %GLOBAL%$array$		:i endif	:i else 		:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = (~%GLOBAL%$chapter_name$->$outro_vo$)		:i %GLOBAL%$outro_vo_strings$ = %GLOBAL%$array$		:i if (%GLOBAL%$number_of_unlocked_chapters$ = %i(4))			:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = %s("Map_Unlock_Rush")		:i elseif (%GLOBAL%$number_of_unlocked_chapters$ = %i(9))			:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = %s("Map_FB_Intro")		:i elseif (%GLOBAL%$number_of_unlocked_chapters$ = %i(10))			:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = %s("Map_Unlock_Demigod")		:i elseif (%GLOBAL%$number_of_unlocked_chapters$ = %i(11))			:i $AddArrayElement$$array$ = %GLOBAL%$outro_vo_strings$$element$ = %s("Map_FB_Outro")		:i endif		:i %GLOBAL%$outro_vo_strings$ = %GLOBAL%$array$	:i endif	:i $recent_unlock_data$ = (~$g_quest_recent_unlocked_awards$)	:i $GetArraySize$%GLOBAL%$recent_unlock_data$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $reward_check_counter$ = %i(0)		:i while 		:i $reward_struct$ = (%GLOBAL%$recent_unlock_data$:a{%GLOBAL%$reward_check_counter$:a})		:i if $StructureContains$$structure$ = %GLOBAL%$reward_struct$$reward_when$			:i if (%GLOBAL%$reward_struct$->$reward_when$ = $chapter_dominated$)				:i $outro_vo_strings$ = :a{:a}				:i continue			:i endif		:i endif		:i $reward_check_counter$ = (%GLOBAL%$reward_check_counter$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return $vo_array$ = %GLOBAL%$outro_vo_strings$	:i endfunction]SectionInteger debug_quest_map_view_all_animations 0Script ui_quest_map_debug_beat 0x22ce34fb [	${		StructInt dominate = 0		StructInt beat_encore = 0		StructInt debugging_from_map = 1	}$		:i if (%GLOBAL%$debugging_from_map$ = %i(1))		:i $QuestMapID$.$getsingletag$${StructQBKey map_index}$		:i $QuestMapID$.$getsingletag$${StructQBKey linear_progression}$		:i %GLOBAL%$chapter_name$ = (%GLOBAL%$linear_progression$:a{%GLOBAL%$map_index$:a})	:i elseif NOT $GotParam$${StructQBKey chapter_name}$		:i return 	:i endif	:i $change$${		StructArray g_quest_recent_unlocked_awards		{			Floats [0.00000, 0.00000]		}	}$		:i $songlist$ = (~%GLOBAL%$chapter_name$->$songs$)	:i $song_idx$ = %i(0)	:i $GetArraySize$%GLOBAL%$songlist$	:i $encore_song$ = (%GLOBAL%$songlist$:a{%GLOBAL%$array_size$%i(4294967295):a})	:i while 	:i $song$ = (%GLOBAL%$songlist$:a{%GLOBAL%$song_idx$:a})	:i if (%GLOBAL%$song$ = %GLOBAL%$encore_song$ AND %GLOBAL%$dominate$ = %i(0) AND %GLOBAL%$beat_encore$ = %i(0))		:i continue	:i endif	:i $ui_quest_map_giglist_debug_beat$$chosen_song_name$ = %GLOBAL%$song$$chapter_global$ = %GLOBAL%$chapter_name$$refresh_menu$ = %i(0)$dominate$ = %GLOBAL%$dominate$	:i %GLOBAL%$song_idx$ = (%GLOBAL%$song_idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $set_chapter_venue_intro_flags$$level$ = (~%GLOBAL%$chapter_name$->$venue$)$value$ = %i(1)	:i if (%GLOBAL%$debugging_from_map$ = %i(0))		:i return 	:i endif	:i if (~$debug_quest_map_view_all_animations$ = %i(0))		:i $quest_progression_get_number_of_stars_earned$$chapter_global$ = %GLOBAL%$chapter_name$$savegame$ = (~$primary_controller$)		:i $SetArrayElement$$arrayName$ = $g_quest_map_state$$globalarray$$index$ = (%GLOBAL%$map_index$)$newValue$ = %i(1)		:i $SetArrayElement$$arrayName$ = $g_quest_map_stars$$globalarray$$index$ = (%GLOBAL%$map_index$)$newValue$ = %GLOBAL%$stars_earned$	:i endif	:i $ui_quest_get_vo_array$$chapter_name$ = %GLOBAL%$chapter_name$	:i $GetArraySize$%GLOBAL%$vo_array$	:i $play_outro_vo$ = %i(0)	:i if (%GLOBAL%$array_size$ > %i(0))		:i $play_outro_vo$ = %i(1)	:i endif	:i $ui_event$$event$ = $menu_refresh$$Data$ = :s{$play_outro_vo$ = %GLOBAL%$play_outro_vo$$outro_vo_strings$ = %GLOBAL%$vo_array$:s}	:i endfunction]Script quest_map_players e54c873d [	:i if $ScreenElementExists$${StructQBKey id = QuestMapID}$		:i if $QuestMapID$.$desc_resolvealias$${StructQBKey name = alias_pu_cont_parent}$			:i $audio_ui_band_lobby_sfx_logic$$player_num$ = %GLOBAL%$player$$choose$ = %i(1)			:i $GetFirstPlayer$${StructQBKey local}$			:i while 			:i $getplayerinfo$%GLOBAL%$player$$controller$			:i if (%GLOBAL%$controller$ = %GLOBAL%$device_num$)				:i continue			:i endif			:i $GetNextPlayer$$player$ = %GLOBAL%$player$$local$			:i loop_to 			:i $LaunchEvent$${				StructQBKey type = unfocus				StructQBKey target = QuestMapID			}$						:i $band_lobby_create_popup_menu$:s{				:i $menu$ = $playerslist$				:i $player$ = %GLOBAL%$player$				:i $container$ = %GLOBAL%$resolved_id$				:i $parent$ = $QuestMapID$			:i :s}		:i endif	:i endif	:i endfunction]Script quest_calculate_career_progress 0x95b2fb36 [	${		StructQBKey map_id = QuestMapID		StructInt savegame = 0	}$		:i %GLOBAL%$map_id$.$settags$:s{		:i $current_total_percentage$ = %i(0)	:i :s}	:i $for_each_quest_progression_unlock$:s{		:i $callback$ = $quest_sum_chapter_percentages$		:i $params$ = :s{$map_id$ = %GLOBAL%$map_id$$savegame$ = %GLOBAL%$savegame$:s}	:i :s}	:i %GLOBAL%$map_id$.$getsingletag$$current_total_percentage$	:i return $career_complete_percentage$ = %GLOBAL%$current_total_percentage$	:i endfunction]Script quest_sum_chapter_percentages cc03d6f2 [	${Unknown [00012600ac3aa09b6969696900000018000126004ca493f76969696900000028000124001b0509c56969696900000000]}$	:i %GLOBAL%$map_id$.$getsingletag$$current_total_percentage$	:i $quest_progression_get_chapter_tag$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$$param$ = $completed$	:i $quest_progression_get_number_of_stars_earned$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$chapter_global$	:i if (%GLOBAL%$completed$ = %i(1))		:i if (%GLOBAL%$chapter_global$ = $quest_chapter_finale$)			:i $current_total_percentage$ = (%GLOBAL%$current_total_percentage$ + ~$g_final_battle_percentage$)		:i elseif (%GLOBAL%$chapter_global$ = $quest_chapter_midboss$)			:i $current_total_percentage$ = (%GLOBAL%$current_total_percentage$ + ~$g_rush_percentage$)		:i elseif (%GLOBAL%$chapter_global$ = $quest_chapter_demigod$)			:i if (%GLOBAL%$stars_earned$ >= (~%GLOBAL%$chapter_global$->$stars_for_reward$))				:i $current_total_percentage$ = (%GLOBAL%$current_total_percentage$ + ~$g_demigod_percentage$)			:i endif		:i else 			:i $current_total_percentage$ = (%GLOBAL%$current_total_percentage$ + ~$g_chapter_completed_percentage$)			:i if (%GLOBAL%$stars_earned$ >= (~%GLOBAL%$chapter_global$->$stars_for_reward$))				:i $current_total_percentage$ = (%GLOBAL%$current_total_percentage$ + ~$g_chapter_dominated_percentage$)			:i endif		:i endif	:i endif	:i %GLOBAL%$map_id$.$settags$:s{		:i $current_total_percentage$ = %GLOBAL%$current_total_percentage$	:i :s}	:i endfunction]Script quest_sum_chapter_domination_stars 0x7c9f0f27 [	${Unknown [00012600ac3aa09b6969696900000018000126004ca493f76969696900000028000124001b0509c56969696900000000]}$	:i %GLOBAL%$map_id$.$getsingletag$$total_domination_stars$	:i %GLOBAL%$map_id$.$getsingletag$$current_domination_stars$	:i %GLOBAL%$map_id$.$getsingletag$$total_special_chapter_percentage$	:i %GLOBAL%$map_id$.$getsingletag$$current_special_chapter_percentage$	:i $chapter_songs$ = (~%GLOBAL%$chapter_global$->$songs$)	:i $GetArraySize$%GLOBAL%$chapter_songs$$param$ = $num_songs$	:i if (%GLOBAL%$num_songs$ < %i(1))		:i return 	:i endif	:i $boss_chapter$ = %i(0)	:i $song_percentage_value$ = %i(0)	:i if $StructureContains$$structure$ = (~%GLOBAL%$chapter_global$)$song_percentage_value$		:i $boss_chapter$ = %i(1)		:i $song_percentage_value$ = (~%GLOBAL%$chapter_global$->$song_percentage_value$)	:i endif	:i if (%GLOBAL%$boss_chapter$ = %i(0))		:i %GLOBAL%$map_id$.$settags$:s{			:i $total_domination_stars$ = (%GLOBAL%$total_domination_stars$ + (~%GLOBAL%$chapter_global$->$stars_for_reward$))		:i :s}	:i elseif (%GLOBAL%$boss_chapter$ = %i(1))		:i %GLOBAL%$map_id$.$settags$:s{			:i $total_special_chapter_percentage$ = (%GLOBAL%$total_special_chapter_percentage$ + (%GLOBAL%$song_percentage_value$ * %GLOBAL%$num_songs$))		:i :s}	:i endif	:i $earned_stars$ = %i(0)	:i $earned_percentage$ = %i(0)	:i $song_index$ = %i(0)	:i while 	:i $format_career_song_gigtag$$chapter_name$ = (~%GLOBAL%$chapter_global$->$name$)$song$ = (%GLOBAL%$chapter_songs$:a{%GLOBAL%$song_index$:a})	:i if $console_is_net_career_client$		:i $stars$ = (~$g_net_career_progression$->%GLOBAL%$song_gigtag$->$stars$)	:i else 		:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$%GLOBAL%$song_gigtag$$param$ = $stars$	:i endif	:i if (%GLOBAL%$boss_chapter$ = %i(0))		:i $earned_stars$ = (%GLOBAL%$earned_stars$ + %GLOBAL%$stars$)	:i elseif (%GLOBAL%$boss_chapter$ = %i(1) AND %GLOBAL%$stars$ > %i(0))		:i $earned_percentage$ = (%GLOBAL%$earned_percentage$ + %GLOBAL%$song_percentage_value$)	:i endif	:i $song_index$ = (%GLOBAL%$song_index$ + %i(1))	:i loop_to %GLOBAL%$num_songs$	:i %GLOBAL%$map_id$.$settags$:s{		:i $current_domination_stars$ = (%GLOBAL%$current_domination_stars$ + %GLOBAL%$earned_stars$)	:i :s}	:i %GLOBAL%$map_id$.$settags$:s{		:i $current_special_chapter_percentage$ = (%GLOBAL%$current_special_chapter_percentage$ + %GLOBAL%$earned_percentage$)	:i :s}	:i endfunction]Script ui_quest_map_back 0x4fbb69ca [	:i if $InNetGame$		:i if $ishost$			:i $SendStructure$${				StructQBKey callback = net_career_back_to_lobby				StructStruct data_to_send				{					StructHeader					{						StructQBKey None					}				}			}$						:i $net_career_back_to_lobby$		:i endif	:i else 		:i $generic_event_back$	:i endif	:i endfunction]