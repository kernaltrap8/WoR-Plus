Unknown [1c0000000000000000001a580000000000000000]Script ui_create_music_store_hub 0x21931806 [	:i $SetMenuAutoRepeatTimes$${		StructFloatX2 0x00000000		{			Floats [0.300000, 0.100000]		}	}$		:i $destroy_dialog_box$	:i $CreateScreenElement$${		StructQBKey type = descinterface		StructString desc = "music_store_hub"		StructQBKey id = music_store_hub		StructQBKey parent = root_window		StructFloatX2 Pos		{			Floats [0.00000, 0.00000]		}		StructInt z_priority = 150	}$		:i if $IsPS3$		:i $music_store_set_Playstation_Logo$${StructQBKey desc = music_store_hub}$		:i $music_store_hub$.$se_setprops$${StructFloat music_store_Playstation_Logo_alpha = 1.00}$	:i endif	:i $music_store_hub$.$settags$${		StructInt music_store_hub_options_index = 0		StructInt completed_grab = 0	}$		:i if $ScreenElementExists$${StructQBKey id = SongList_detail}$		:i $SongList_detail$.$se_setprops$${			StructFloat alpha = 0.00			StructFloat songlist_detail_cont_alpha = 0.00		}$			:i endif	:i if $IsXenonOrWinDX$		:i $music_store_hub$.$se_setprops$${StructQBStringQs MS_purchase_text_text = b0bcf58b}$	:i else 		:i $music_store_hub$.$se_setprops$${StructFloat xenon_info_cont_alpha = 0.00}$	:i endif	:i if $music_store_hub$.$desc_resolvealias$${StructQBKey name = alias_music_store_hub_vmenu}$		:i $AssignAlias$$id$ = %GLOBAL%$resolved_id$$alias$ = $music_store_hub_vmenu$	:i else 		:i $scriptassert$${StructQBStringQs 0x5ffdb2cb}$	:i endif	:i if $music_store_hub$.$desc_resolvealias$${StructQBKey name = alias_store_pack_contents_vmenu}$		:i $AssignAlias$$id$ = %GLOBAL%$resolved_id$$alias$ = $store_pack_contents_vmenu$	:i else 		:i $scriptassert$${StructQBStringQs fd845456}$	:i endif	:i if NOT $GotParam$${StructQBKey exclusive_device}$		:i %GLOBAL%$exclusive_device$ = (~$primary_controller$)	:i endif	:i $music_store_hub_vmenu$.$se_setprops$$exclusive_device$ = %GLOBAL%$exclusive_device$	:i $music_store_hub_vmenu$.$settags$$exclusive_device$ = %GLOBAL%$exclusive_device$	:i $music_store_hub_vmenu$.$se_setprops$${		StructArray event_handlers		{			ArrayStruct			[				StructHeader				{					StructQBKey pad_up					StructQBKey music_store_hub_scroll_up				}				StructHeader				{					StructQBKey pad_down					StructQBKey music_store_hub_scroll_down				}				StructHeader				{					StructQBKey pad_btn_right					StructQBKey Music_Store_back_SFX					StructStruct params					{						StructHeader						{							StructQBKey generic						}					}				}				StructHeader				{					StructQBKey pad_btn_right					StructQBKey music_store_hub_back				}			]		}	}$		:i $music_store_hub_create_menu_options$$exclusive_device$ = %GLOBAL%$exclusive_device$	:i $music_store_hub_create_default_user_control_helpers$	:i $PreviewAssetCache$${StructQBKey func = cancel_all_requests}$	:i $music_store_hub$.$obj_spawnscriptnow$${StructQBKey music_store_preview_content_source_grab}$	:i $music_store_focus_menu$	:i endfunction]Script music_store_set_Playstation_Logo 0x702d1679 [	${StructQBKey desc = songlist}$	:i if $IsStandardDef$		:i %GLOBAL%$desc$.$se_setprops$:s{			:i $music_store_Playstation_Logo_texture$ = $Playstation_Logo_SD$			:i $music_store_Playstation_Logo_scale$ = %f(1.5)			:i $music_store_Playstation_Logo_dims$ = %vec2(136.0,32.0)		:i :s}	:i else 		:i %GLOBAL%$desc$.$se_setprops$:s{			:i $music_store_Playstation_Logo_texture$ = $Playstation_Logo_HD720$			:i $music_store_Playstation_Logo_scale$ = %f(1.0)			:i $music_store_Playstation_Logo_dims$ = %vec2(180.0,40.0)		:i :s}	:i endif	:i endfunction]Script music_store_focus_menu a3fbd8e1 [	:i %GLOBAL%$child_index$ = %i(0)	:i $songlist_component$.$getsingletag$${StructQBKey music_store_mode}$	:i if $GotParam$${StructQBKey music_store_mode}$		:i $GetArraySize$(~$g_music_store_hub_options$)		:i if (%GLOBAL%$array_size$ > %i(0))			:i %GLOBAL%$i$ = %i(0)			:i while 			:i if (%GLOBAL%$music_store_mode$ = (((~$g_music_store_hub_options$):a{%GLOBAL%$i$:a})->$mode$))				:i %GLOBAL%$child_index$ = %GLOBAL%$i$			:i endif			:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i $songlist_component$.$settags$${StructQBKey music_store_mode = hub}$	:i $LaunchEvent$$type$ = $focus$$target$ = $music_store_hub_vmenu$$Data$ = :s{$child_index$ = %GLOBAL%$child_index$:s}	:i endfunction]Script music_store_hub_create_default_user_control_helpers 0x6e016089 [	:i $clean_up_user_control_helpers$	:i $add_user_control_helper$${		StructQBStringQs text = c18d5e76		StructQBKey button = green		StructInt z = 100000	}$		:i if $ui_event_exists_in_stack$${StructString name = "band_lobby"}$		:i $add_user_control_helper$${			StructQBStringQs text = f03b0975			StructQBKey button = red			StructInt z = 100000		}$			:i else 		:i $add_user_control_helper$${			StructQBStringQs text = 0x89152f9c			StructQBKey button = red			StructInt z = 100000		}$			:i endif	:i $songlist_component$.$getsingletag$${StructQBKey tab_enabled}$	:i if (%GLOBAL%$tab_enabled$ = %i(1))		:i $music_store_hub_vmenu$.$se_setprops$${			StructArray event_handlers			{				ArrayStruct				[					StructHeader					{						StructQBKey pad_select						StructQBKey generic_event_back						StructStruct params						{							StructHeader							{								StructStruct Data								{									StructHeader									{										StructQBKey bypass_return_script = songlist_go_to_song_library_tab									}								}							}						}					}				]			}			StructQBKey replace_handlers		}$				:i $add_super_user_control_helper$${			StructQBStringQs text = ae6cf896			StructQBKey button = back		}$			:i endif	:i endfunction]Script ui_destroy_music_store_hub 0x38af24dd [	:i if $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i $music_store_hub$.$obj_killspawnedscript$${StructQBKey name = music_store_hub_populate_detail}$	:i endif	:i if $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i $DestroyScreenElement$${StructQBKey id = music_store_hub}$	:i endif	:i $cleanup_music_store_preview_grab$	:i $songlist_component$.$MembFunc_Songlist_UIStack_GetMode$	:i if (%GLOBAL%$mode$ = $music_store$)		:i $clean_up_user_control_helpers$		:i $songlist_create_default_user_control_helpers$${StructQBKey mode = music_store}$	:i endif	:i endfunction]Script ui_deinit_music_store_hub 0x491dadd5 [	:i $cleanup_music_store_preview_grab$	:i endfunction]Script music_store_hub_create_menu_options e5d5149b [	:i $GetArraySize$${StructQBString g_music_store_hub_options}$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i %GLOBAL%$item_struct$ = ((~$g_music_store_hub_options$):a{%GLOBAL%$i$:a})		:i if NOT $StructureContains$$structure$ = %GLOBAL%$item_struct$$not_visible$			:i $GetScreenElementChildren$${StructQBKey id = music_store_hub_vmenu}$			:i %GLOBAL%$id$ = (%GLOBAL%$children$:a{%GLOBAL%$i$:a})			:i %GLOBAL%$array$ = :a{				:i :s{$focus$$music_store_hub_item_focus$$params$ = :s{$index$ = %GLOBAL%$i$:s}:s}				:i :s{$unfocus$$music_store_hub_item_unfocus$$params$ = :s{$index$ = %GLOBAL%$i$:s}:s}				:i :s{$pad_choose$$generic_blocking_execute_script$$params$ = :s{$pad_script$ = $music_store_hub_choose$$pad_params$ = :s{$index$ = %GLOBAL%$i$:s}:s}:s}			:i :a}			:i %GLOBAL%$id$.$se_setprops$:s{				:i $event_handlers$ = %GLOBAL%$array$				:i $exclusive_device$ = %GLOBAL%$exclusive_device$			:i :s}			:i if $StructureContains$$structure$ = %GLOBAL%$item_struct$$not_focusable$				:i %GLOBAL%$id$.$se_setprops$:s{					:i $not_focusable$					:i $menurow_txt_item_rgba$ = :a{%i(100)%i(100)%i(100)%i(255):a}				:i :s}			:i endif		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i endfunction]Script music_store_hub_item_focus 0x27f0b7c8 [	${StructFloat time = 0.10000000149011612}$	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				index			]		}		StructQBKey all	}$		:i $GetScreenElementChildren$${StructQBKey id = music_store_hub_vmenu}$	:i %GLOBAL%$id$ = (%GLOBAL%$children$:a{%GLOBAL%$index$:a})	:i %GLOBAL%$id$.$se_setprops$:s{		:i $menurow_txt_item_rgba$ = (~$g_music_store_item_focus_rgba$)		:i $menurow_txt_item_shadow_enabled$ = $false$		:i $menurow_highlight_bar_alpha$ = %i(1)		:i $time$ = %GLOBAL%$time$	:i :s}	:i $music_store_hub$.$obj_spawnscriptnow$$music_store_hub_cycle_preview$$params$ = :s{$hub_options_index$ = %GLOBAL%$index$:s}	:i endfunction]Script music_store_hub_item_unfocus df2c67c2 [	${StructFloat time = 0.10000000149011612}$	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				index			]		}		StructQBKey all	}$		:i $GetScreenElementChildren$${StructQBKey id = music_store_hub_vmenu}$	:i %GLOBAL%$id$ = (%GLOBAL%$children$:a{%GLOBAL%$index$:a})	:i %GLOBAL%$id$.$se_setprops$:s{		:i $menurow_txt_item_rgba$ = (~$g_music_store_item_unfocus_rgba$)		:i $menurow_txt_item_shadow_enabled$ = $true$		:i $menurow_highlight_bar_alpha$ = %i(0)		:i $time$ = %GLOBAL%$time$	:i :s}	:i if $ScriptIsRunning$${StructQBKey music_store_hub_cycle_preview}$		:i $KillSpawnedScript$${StructQBKey name = music_store_hub_cycle_preview}$	:i endif	:i endfunction]Script music_store_hub_scroll_up e84c1722 [	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = ScrollUp	}$		:i endfunction]Script music_store_hub_scroll_down 0x86555272 [	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = ScrollDown	}$		:i endfunction]Script music_store_hub_back 0x46d9e3fd [	:i if $ScriptIsRunning$${StructQBKey music_store_hub_choose}$		:i return 	:i endif	:i $marketplace_exit_check$	:i endfunction]Script music_store_hub_choose ddbe92c6 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				index			]		}		StructQBKey all	}$		:i $LaunchEvent$${		StructQBKey type = unfocus		StructQBKey target = music_store_hub_vmenu	}$		:i $music_store_hub_vmenu$.$se_setprops$${StructQBKey block_events}$	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = select	}$		:i $spawnscriptnow$${StructQBKey audio_ui_menu_music_off}$	:i $songlist_component$.$settags$${StructQBKey music_store_seek_override = true}$	:i %GLOBAL%$music_store_mode$ = (((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})->$mode$)	:i $songlist_component$.$settags$:s{		:i $music_store_mode$ = %GLOBAL%$music_store_mode$	:i :s}	:i if $StructureContains$$structure$ = ((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})$invert_filterspec$		:i $songlist_change_filterspec$$filterspec$ = (((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})->$filterspec$)$invert_filterspec$	:i else 		:i if (%GLOBAL%$music_store_mode$ = $recommendations$)			:i $music_store_recommendations_process$			:i while 			:i if (~$g_music_store_recommendations_complete$ = %i(1))				:i $GetArraySize$${StructQBString g_music_store_recommendations}$				:i if (%GLOBAL%$array_size$ > %i(0))					:i %GLOBAL%$filterspec$ = :a{						:i :s{							:i $key$ = $song_checksum$							:i $union_list$ = (~$g_music_store_recommendations$)							:i $comparator$ = $equal$						:i :s}					:i :a}				:i else 					:i %GLOBAL%$passed_in_index$ = %GLOBAL%$index$					:i $music_store_hub_get_index_by_mode$${StructQBKey mode = new_arrivals}$					:i %GLOBAL%$filterspec$ = (((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})->$filterspec$)					:i %GLOBAL%$element$ = :s{						:i $key$ = $type$						:i $union_list$ = :a{$pack$$album$$song$:a}						:i $comparator$ = $equal$					:i :s}					:i $AddArrayElement$$array$ = %GLOBAL%$filterspec$$element$ = %GLOBAL%$element$					:i %GLOBAL%$filterspec$ = %GLOBAL%$array$					:i %GLOBAL%$index$ = %GLOBAL%$passed_in_index$				:i endif				:i $songlist_change_filterspec$$filterspec$ = %GLOBAL%$filterspec$				:i continue			:i endif			:i $wait$${				StructInt 1				StructQBKey gameframe			}$						:i loop_to 		:i else 			:i $songlist_change_filterspec$$filterspec$ = (((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})->$filterspec$)		:i endif	:i endif	:i $change$$g_music_store_hub_options_index$ = %GLOBAL%$index$	:i $change$${StructInt g_songlist_refresh_menus = 1}$	:i $songlist_change_sort_index$$index$ = (((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})->$sort_index$)	:i if $StructureContains$$structure$ = ((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})$pad_choose_script$		:i (((~$g_music_store_hub_options$):a{%GLOBAL%$index$:a})->$pad_choose_script$)	:i endif	:i $hide_glitch$${StructInt num_frames = 8}$	:i $generic_event_back$${		StructQBKey nosound		StructStruct Data		{			StructHeader			{				StructQBKey no_pivot			}		}	}$		:i endfunction]Script music_store_hub_cycle_items 0x2868f06a [	:i if NOT $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i return 	:i endif	:i if NOT $ScreenElementExists$${StructQBKey id = songlist}$		:i return 	:i endif	:i $music_store_hub$.$obj_killspawnedscript$${StructQBKey name = music_store_hub_populate_detail}$	:i $music_store_hub$.$obj_spawnscriptnow$$music_store_hub_populate_detail$$params$ = :s{		:i $ui_struct$ = %GLOBAL%$content_item$		:i $morph_time$ = %f(0.5)	:i :s}	:i endfunction]Script music_store_hub_populate_detail 0x78290b72 [	${		StructFloat morph_time = 0.00		Unknown [00012b00b2ab39886969696900000000]	}$		:i $music_store_hub$.$se_setprops$:s{		:i $store_pack_contents_vmenu_alpha$ = %f(0.0)		:i $album_art_alpha$ = %f(0.0)		:i $time$ = %GLOBAL%$morph_time$	:i :s}	:i $wait$%GLOBAL%$morph_time$$seconds$	:i $DestroyScreenElement$${		StructQBKey id = store_pack_contents_vmenu		StructQBKey preserve_parent	}$		:i $SetScreenElementLock$${		StructQBKey id = store_pack_contents_vmenu		StructQBKey Off	}$		:i $SetScreenElementLock$${		StructQBKey id = store_pack_contents_vmenu		StructQBKey on	}$		:i $GetScreenElementChildren$${StructQBKey id = store_pack_contents_vmenu}$	:i if (%GLOBAL%$ui_struct$->$type$ = $song$)		:i %GLOBAL%$line0$ = (%GLOBAL%$ui_struct$->$song_title$)		:i %GLOBAL%$line1$ = (%GLOBAL%$ui_struct$->$song_artist$)		:i $FormatText$$textname$ = $album_year_text$^[69a0e5e0]^$a$ = (%GLOBAL%$ui_struct$->$album$)$y$ = (%GLOBAL%$ui_struct$->$song_year$)		:i %GLOBAL%$line2$ = %GLOBAL%$album_year_text$		:i $CreateScreenElement$:s{			:i $type$ = $descinterface$			:i $desc$ = %s("music_store_hub_pack_item")			:i $parent$ = $store_pack_contents_vmenu$			:i $line_0_text$ = %GLOBAL%$line0$			:i $line_1_fit_height$ = $expand dims$			:i $line_1_text$ = %GLOBAL%$line1$			:i $line_2_fit_height$ = $expand dims$			:i $line_2_text$ = %GLOBAL%$line2$			:i $autosizedims$ = $true$		:i :s}		:i %GLOBAL%$id$.$desc_refreshcontentdims$	:i elseif (%GLOBAL%$ui_struct$->$type$ = $pack$ OR %GLOBAL%$ui_struct$->$type$ = $import$)		:i if (%GLOBAL%$ui_struct$->$type$ = $pack$)			:i %GLOBAL%$title_array$ = (%GLOBAL%$ui_struct$->$title_strings$)			:i %GLOBAL%$artist_array$ = (%GLOBAL%$ui_struct$->$artist_strings$)			:i $GetArraySize$%GLOBAL%$title_array$		:i else 			:i $GetArraySize$(%GLOBAL%$ui_struct$->$contents$)		:i endif		:i if (%GLOBAL%$array_size$ > %i(3))			:i %GLOBAL%$iters$ = %i(3)		:i else 			:i %GLOBAL%$iters$ = %GLOBAL%$array_size$		:i endif		:i %GLOBAL%$i$ = %i(0)		:i while 		:i if (%GLOBAL%$ui_struct$->$type$ = $pack$)			:i %GLOBAL%$line0$ = (%GLOBAL%$title_array$:a{%GLOBAL%$i$:a})			:i %GLOBAL%$line1$ = (%GLOBAL%$artist_array$:a{%GLOBAL%$i$:a})		:i else 			:i %GLOBAL%$line0$ = ((%GLOBAL%$ui_struct$->$contents$):a{%GLOBAL%$i$:a}->$Title$)			:i %GLOBAL%$line1$ = ((%GLOBAL%$ui_struct$->$contents$):a{%GLOBAL%$i$:a}->$artist$)		:i endif		:i $CreateScreenElement$:s{			:i $type$ = $descinterface$			:i $desc$ = %s("music_store_hub_pack_item")			:i $parent$ = $store_pack_contents_vmenu$			:i $line_0_text$ = %GLOBAL%$line0$			:i $line_1_fit_height$ = $expand dims$			:i $line_1_text$ = %GLOBAL%$line1$			:i $autosizedims$ = $true$		:i :s}		:i %GLOBAL%$id$.$desc_refreshcontentdims$		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$iters$		:i if (%GLOBAL%$array_size$ > %i(3))			:i $FormatText$$textname$ = $more_songs$^[560b5eda]^$n$ = (%GLOBAL%$array_size$ - %i(3))			:i $CreateScreenElement$:s{				:i $type$ = $descinterface$				:i $desc$ = %s("music_store_hub_pack_item")				:i $parent$ = $store_pack_contents_vmenu$				:i $line_0_text$ = %GLOBAL%$more_songs$				:i $autosizedims$ = $true$			:i :s}			:i %GLOBAL%$id$.$desc_refreshcontentdims$		:i endif	:i elseif (%GLOBAL%$ui_struct$->$type$ = $patch$)		:i $CreateScreenElement$:s{			:i $type$ = $descinterface$			:i $desc$ = %s("music_store_hub_pack_item")			:i $parent$ = $store_pack_contents_vmenu$			:i $line_0_text$ = (%GLOBAL%$ui_struct$->$song_title$)			:i $autosizedims$ = $true$		:i :s}		:i %GLOBAL%$id$.$desc_refreshcontentdims$	:i else 		:i %GLOBAL%$line0$ = (%GLOBAL%$ui_struct$->$song_title$)		:i %GLOBAL%$line1$ = (%GLOBAL%$ui_struct$->$song_artist$)		:i %GLOBAL%$line2$ = ^[73ab05d2]^		:i $CreateScreenElement$:s{			:i $type$ = $descinterface$			:i $desc$ = %s("music_store_hub_pack_item")			:i $parent$ = $store_pack_contents_vmenu$			:i $line_0_text$ = %GLOBAL%$line0$			:i $line_1_fit_height$ = $expand dims$			:i $line_1_text$ = %GLOBAL%$line1$			:i $line_2_fit_height$ = $expand dims$			:i $line_2_text$ = %GLOBAL%$line2$			:i $autosizedims$ = $true$		:i :s}		:i %GLOBAL%$id$.$desc_refreshcontentdims$	:i endif	:i if $StructureContains$$structure$ = %GLOBAL%$ui_struct$$song_preview_asset_name$		:i $music_store_change_album_cover$:s{			:i $texture_name$ = (%GLOBAL%$ui_struct$->$song_preview_asset_name$)			:i $desc$ = $music_store_hub$		:i :s}	:i endif	:i $music_store_hub$.$se_setprops$:s{		:i $store_pack_contents_vmenu_alpha$ = %f(1.0)		:i $album_art_alpha$ = %f(1.0)		:i $time$ = %GLOBAL%$morph_time$	:i :s}	:i endfunction]Script music_store_hub_cycle_preview b830dc57 [	${StructFloat cycle_time = 5.00}$	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				hub_options_index			]		}		StructQBKey all	}$		:i if NOT $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i return 	:i endif	:i if NOT $ScreenElementExists$${StructQBKey id = songlist}$		:i return 	:i endif	:i while 	:i $music_store_hub$.$getsingletag$${StructQBKey completed_grab}$	:i if (%GLOBAL%$completed_grab$ = %i(1))		:i continue	:i endif	:i $wait$${		StructInt 3		StructQBKey gameframes	}$		:i loop_to 	:i $preview_array$ = ((~$g_music_store_hub_options$:a{%GLOBAL%$hub_options_index$:a})->$preview_array$)	:i $songlist_component$.$MembFunc_Songlist_UIStack_GetListName$	:i $GetArraySize$%GLOBAL%$preview_array$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i if $ContentManFunc$$func$ = $is_ready$$name$ = %GLOBAL%$list_name$			:i $ContentManFunc$:s{				:i $func$ = $request_page$				:i $name$ = %GLOBAL%$list_name$				:i $single_item$				:i $seek$ = (%GLOBAL%$preview_array$:a{%GLOBAL%$i$:a})				:i $callback$ = $music_store_hub_cycle_items$			:i :s}		:i endif		:i $wait$%GLOBAL%$cycle_time$$seconds$		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i if (%GLOBAL%$i$ >= %GLOBAL%$array_size$)			:i %GLOBAL%$i$ = %i(0)		:i endif		:i loop_to 	:i else 		:i %GLOBAL%$time$ = %f(0.5)		:i $music_store_hub$.$obj_killspawnedscript$${StructQBKey name = music_store_hub_populate_detail}$		:i $music_store_hub$.$se_setprops$:s{			:i $store_pack_contents_vmenu_alpha$ = %f(0.0)			:i $time$ = %GLOBAL%$time$		:i :s}		:i $music_store_hub$.$se_getprops$		:i if (%GLOBAL%$songlist_detail_album_sprite_texture$ !== $mainmenu_logo_lrg$)			:i $music_store_hub$.$se_setprops$:s{				:i $album_art_alpha$ = %f(0.0)				:i $time$ = %GLOBAL%$time$			:i :s}			:i $wait$%GLOBAL%$time$$seconds$			:i $music_store_hub$.$se_setprops$${StructQBKey songlist_detail_album_sprite_texture = mainmenu_logo_lrg}$		:i endif		:i $music_store_hub$.$se_setprops$:s{			:i $album_art_alpha$ = %f(1.0)			:i $time$ = %GLOBAL%$time$		:i :s}	:i endif	:i endfunction]Script music_store_preview_content_source_grab b56fbbf5 [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = kill_oldest	}$		:i $GetArraySize$(~$g_music_store_hub_options$)	:i if (%GLOBAL%$array_size$ <= %i(0))		:i return 	:i endif	:i if NOT $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i return 	:i endif	:i if NOT $ScreenElementExists$${StructQBKey id = songlist}$		:i return 	:i endif	:i $change$${StructInt generic_menu_block_input = 1}$	:i $songlist_component$.$MembFunc_Songlist_UIStack_GetListName$	:i $music_store_hub$.$getsingletag$${StructQBKey music_store_hub_options_index}$	:i if (%GLOBAL%$music_store_hub_options_index$ < %GLOBAL%$array_size$)		:i if $StructureContains$$structure$ = ((~$g_music_store_hub_options$):a{%GLOBAL%$music_store_hub_options_index$:a})$no_previews$			:i $OnExitRun$${StructQBKey music_store_preview_content_source_dont_preview}$			:i return 		:i endif		:i while 		:i if $ContentManFunc$$func$ = $is_ready$$name$ = %GLOBAL%$list_name$			:i %GLOBAL%$cman_params$ = :s{				:i $func$ = $request_page$				:i $name$ = %GLOBAL%$list_name$				:i $current_page$				:i $callback$ = $music_store_preview_content_source_grab_callback$				:i $filterspec$ = ((~$g_music_store_hub_options$:a{%GLOBAL%$music_store_hub_options_index$:a})->$filterspec$)				:i $sortspec$ = :s{$key$ = $arrived_date$$alt_key$ = $song_title$:s}			:i :s}			:i if $StructureContains$$structure$ = (~$g_music_store_hub_options$:a{%GLOBAL%$music_store_hub_options_index$:a})$invert_filterspec$				:i $ContentManFunc$:s{					:i %GLOBAL%$cman_params$					:i $invert_filterspec$ = %i(1)				:i :s}			:i else 				:i $ContentManFunc$:s{					:i %GLOBAL%$cman_params$				:i :s}			:i endif			:i return 		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to %i(1000)	:i else 		:i $change$${StructInt generic_menu_block_input = 0}$		:i $music_store_hub$.$settags$${StructInt completed_grab = 1}$		:i return 	:i endif	:i endfunction]Script music_store_preview_content_source_dont_preview f97c0332 [	:i $change$${StructInt generic_menu_block_input = 0}$	:i $music_store_hub$.$getsingletag$${StructQBKey music_store_hub_options_index}$	:i $music_store_hub_options_index$ = (%GLOBAL%$music_store_hub_options_index$ + %i(1))	:i $music_store_hub$.$settags$$music_store_hub_options_index$ = %GLOBAL%$music_store_hub_options_index$	:i $music_store_hub$.$obj_spawnscriptnow$${StructQBKey music_store_preview_content_source_grab}$	:i endfunction]Script music_store_preview_content_source_grab_callback 0x2a593634 [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = kill_oldest	}$		:i if NOT $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i $change$${StructInt generic_menu_block_input = 0}$		:i return 	:i endif	:i if NOT $ScreenElementExists$${StructQBKey id = songlist}$		:i $change$${StructInt generic_menu_block_input = 0}$		:i return 	:i endif	:i $songlist_component$.$MembFunc_Songlist_UIStack_GetListName$	:i if (%GLOBAL%$page_size$ > (~$g_music_store_preview_max_size$))		:i $page_size$ = (~$g_music_store_preview_max_size$)	:i endif	:i if (%GLOBAL%$page_size$ > %i(0))		:i $ContentManFunc$:s{			:i $func$ = $request_data$			:i $name$ = %GLOBAL%$list_name$			:i $start_index$ = %i(0)			:i $end_index$ = (%GLOBAL%$page_size$ - %i(1))			:i $callback$ = $music_store_preview_content_source_grab_data_callback$		:i :s}	:i else 		:i $music_store_hub$.$getsingletag$${StructQBKey music_store_hub_options_index}$		:i $music_store_hub_options_index$ = (%GLOBAL%$music_store_hub_options_index$ + %i(1))		:i $music_store_hub$.$settags$$music_store_hub_options_index$ = %GLOBAL%$music_store_hub_options_index$		:i $music_store_hub$.$obj_spawnscriptnow$${StructQBKey music_store_preview_content_source_grab}$	:i endif	:i endfunction]Script music_store_preview_content_source_grab_data_callback b8b7634a [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = kill_oldest	}$		:i if NOT $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i $change$${StructInt generic_menu_block_input = 0}$		:i return 	:i endif	:i if NOT $ScreenElementExists$${StructQBKey id = songlist}$		:i $change$${StructInt generic_menu_block_input = 0}$		:i return 	:i endif	:i %GLOBAL%$preview_array$ = :a{:a}	:i %GLOBAL%$images$ = :a{:a}	:i $GetArraySize$%GLOBAL%$range$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i $AddArrayElement$$array$ = %GLOBAL%$preview_array$$element$ = ((%GLOBAL%$range$:a{%GLOBAL%$i$:a})->$song_checksum$)		:i %GLOBAL%$preview_array$ = %GLOBAL%$array$		:i $AddArrayElement$$array$ = %GLOBAL%$images$$element$ = ((%GLOBAL%$range$:a{%GLOBAL%$i$:a})->$song_preview_asset_name$)		:i %GLOBAL%$images$ = %GLOBAL%$array$		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i $PreviewAssetCache$$func$ = $request_image$$images$ = %GLOBAL%$images$	:i $music_store_hub$.$getsingletag$${StructQBKey music_store_hub_options_index}$	:i $option_struct$ = :s{(~$g_music_store_hub_options$:a{%GLOBAL%$music_store_hub_options_index$:a})$preview_array$ = %GLOBAL%$preview_array$:s}	:i $SetArrayElement$$arrayName$ = $g_music_store_hub_options$$globalarray$$index$ = %GLOBAL%$music_store_hub_options_index$$newValue$ = %GLOBAL%$option_struct$	:i if NOT $ScreenElementExists$${StructQBKey id = music_store_hub}$		:i $change$${StructInt generic_menu_block_input = 0}$		:i return 	:i endif	:i $music_store_hub$.$getsingletag$${StructQBKey music_store_hub_options_index}$	:i $music_store_hub_options_index$ = (%GLOBAL%$music_store_hub_options_index$ + %i(1))	:i $music_store_hub$.$settags$$music_store_hub_options_index$ = %GLOBAL%$music_store_hub_options_index$	:i $music_store_hub$.$obj_spawnscriptnow$${StructQBKey music_store_preview_content_source_grab}$	:i endfunction]Script cleanup_music_store_preview_grab cd9bc9ff [	:i if $ScriptIsRunning$${StructQBKey music_store_preview_content_source_grab}$		:i $KillSpawnedScript$${StructQBKey name = music_store_preview_content_source_grab}$	:i endif	:i if $ScriptIsRunning$${StructQBKey music_store_preview_content_source_grab_callback}$		:i $KillSpawnedScript$${StructQBKey name = music_store_preview_content_source_grab_callback}$	:i endif	:i if $ScriptIsRunning$${StructQBKey music_store_preview_content_source_grab_data_callback}$		:i $KillSpawnedScript$${StructQBKey name = music_store_preview_content_source_grab_data_callback}$	:i endif	:i if $ScriptIsRunning$${StructQBKey music_store_hub_cycle_preview}$		:i $KillSpawnedScript$${StructQBKey name = music_store_hub_cycle_preview}$	:i endif	:i $change$${StructInt generic_menu_block_input = 0}$	:i endfunction]