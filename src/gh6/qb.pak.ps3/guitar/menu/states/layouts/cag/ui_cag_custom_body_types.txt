Unknown [1c00000000000000000011440000000000000000]Script ui_create_cag_custom_body_types c362814f [	${StructQBKey show_all = false}$	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				old_instrument			]		}		StructQBKey all	}$		:i %GLOBAL%$instrument_text$ = (~$cag_instruments$:a{~$cag_instrument_idxs$->%GLOBAL%$old_instrument$:a}->$text$)	:i %GLOBAL%$full_body_part$ = (~$cag_instruments$:a{~$cag_instrument_idxs$->%GLOBAL%$old_instrument$:a}->$full_body_part$)	:i $FormatText$$textname$ = $title_text$^[f1798733]^$i$ = %GLOBAL%$instrument_text$	:i $make_generic_car_menu$:s{		:i $Title$ = %GLOBAL%$instrument_text$	:i :s}	:i $generic_menu$.$se_setprops$${StructInt skull_alpha = 0}$	:i $generic_menu$.$se_setprops$${StructInt border_elements_alpha = 1}$	:i $make_list_menu$:s{		:i $Title$ = %GLOBAL%$title_text$		:i $vmenu_id$ = $create_cag_custom_body_types_vmenu$		:i $icon$ = %GLOBAL%$hist_tex$		:i $exclusive_device$ = %GLOBAL%$state_device$		:i $pad_back_script$ = $generic_exit_restore$		:i $pad_back_params$ = :s{$old_instrument$ = %GLOBAL%$old_instrument$:s}	:i :s}	:i $setup_cas_menu_handlers$$vmenu_id$ = $create_cag_custom_body_types_vmenu$$camera_list$ = %GLOBAL%$camera_list$$zoom_camera$ = %GLOBAL%$zoom_camera$$controller$ = %GLOBAL%$state_device$	:i $get_part_current_desc_id$$part$ = %GLOBAL%$part$	:i $current_part$ = %i(0)	:i $num_parts_added$ = %i(0)	:i if $GotParam$${StructQBKey download}$		:i $scriptassert$${StructString 0x00000000 = "download flag not supported"}$	:i endif	:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i if (%GLOBAL%$old_instrument$ = $Bass$)		:i %GLOBAL%$focus_script$ = $load_cab_preset$		:i %GLOBAL%$preset_name$ = $cab_factory_presets$	:i else 		:i %GLOBAL%$focus_script$ = $load_cag_preset$		:i %GLOBAL%$preset_name$ = $cag_factory_presets$	:i endif	:i if (%GLOBAL%$show_all$ = $true$)		:i %GLOBAL%$part_list$ = (~%GLOBAL%$part$)		:i %GLOBAL%$focus_script$ = $add_cag_body_part$		:i $GetArraySize$%GLOBAL%$part_list$	:i else 		:i $GetArraySize$%GLOBAL%$preset_name$$globalarray$	:i endif	:i %GLOBAL%$current_index$ = %i(4294967295)	:i if (%GLOBAL%$array_size$ > %i(0))		:i $i$ = %i(0)		:i while 		:i %GLOBAL%$focus_params$ = :s{$index$ = %GLOBAL%$i$$restore_car$ = %i(0)$state_device$ = %GLOBAL%$state_device$:s}		:i %GLOBAL%$pad_choose_script$ = $cag_custom_body_types_choose$		:i if (%GLOBAL%$show_all$ = $true$)			:i %GLOBAL%$part_struct$ = (%GLOBAL%$part_list$:a{%GLOBAL%$i$:a})			:i %GLOBAL%$cur_part$ = %GLOBAL%$part$			:i %GLOBAL%$focus_params$ = :s{%GLOBAL%$focus_params$$part$ = %GLOBAL%$part$$desc_id$ = ((%GLOBAL%$part_list$:a{%GLOBAL%$i$:a})->$desc_id$):s}			:i %GLOBAL%$text$ = ((%GLOBAL%$part_list$:a{%GLOBAL%$i$:a})->$frontend_desc$)		:i else 			:i %GLOBAL%$preset_struct$ = (~%GLOBAL%$preset_name$:a{%GLOBAL%$i$:a})			:i %GLOBAL%$text$ = (%GLOBAL%$preset_struct$->$frontend_desc$)			:i if $StructureContains$$structure$ = %GLOBAL%$preset_struct$%GLOBAL%$part$				:i %GLOBAL%$part_struct$ = (%GLOBAL%$preset_struct$->%GLOBAL%$part$)				:i %GLOBAL%$cur_part$ = %GLOBAL%$part$			:i elseif $StructureContains$$structure$ = %GLOBAL%$preset_struct$%GLOBAL%$full_body_part$				:i %GLOBAL%$part_struct$ = (%GLOBAL%$preset_struct$->%GLOBAL%$full_body_part$)				:i %GLOBAL%$cur_part$ = %GLOBAL%$full_body_part$			:i else 				:i $scriptassert$${StructQBStringQs f9b37f08}$			:i endif		:i endif		:i %GLOBAL%$desc_id$ = (%GLOBAL%$part_struct$->$desc_id$)		:i %GLOBAL%$add_item$ = $true$		:i $focus_params$ = :s{%GLOBAL%$focus_params$$cannot_choose$ = %i(0):s}		:i if $is_part_unlockable$$part$ = %GLOBAL%$cur_part$$desc_id$ = %GLOBAL%$desc_id$$savegame$ = (~$cas_current_savegame$)			:i if $is_part_unlocked$$part$ = %GLOBAL%$cur_part$$desc_id$ = %GLOBAL%$desc_id$$savegame$ = %GLOBAL%$savegame$				:i $locked$ = :s{					:i $is_unlocked_item$				:i :s}			:i else 				:i $locked$ = :s{					:i $is_locked_item$				:i :s}				:i $focus_params$ = :s{%GLOBAL%$focus_params$$cannot_choose$ = %i(1):s}				:i $RemoveParameter$${StructQBKey pad_choose_script}$			:i endif		:i endif		:i if (%GLOBAL%$add_item$ = $true$)			:i if $cag_current_part_matches$$part$ = %GLOBAL%$cur_part$$desc_id$ = %GLOBAL%$desc_id$				:i %GLOBAL%$focus_params$ = :s{%GLOBAL%$focus_params$$restore_car$ = %i(1):s}				:i $current_index$ = %GLOBAL%$num_parts_added$			:i endif			:i $add_list_item$:s{				:i $text$ = %GLOBAL%$text$				:i $pad_choose_script$ = %GLOBAL%$pad_choose_script$				:i $pad_choose_params$ = :s{$old_instrument$ = %GLOBAL%$old_instrument$$cag_preset_index$ = %GLOBAL%$i$:s}				:i $camera_list$ = %GLOBAL%$camera_list$				:i $zoom_camera$ = %GLOBAL%$zoom_camera$				:i $additional_focus_script$ = %GLOBAL%$focus_script$				:i $additional_focus_params$ = %GLOBAL%$focus_params$				:i $index$ = %GLOBAL%$num_parts_added$				:i %GLOBAL%$locked$			:i :s}			:i $num_parts_added$ = (%GLOBAL%$num_parts_added$ + %i(1))		:i endif		:i $RemoveParameter$${StructQBKey locked}$		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i else 		:i $add_list_item$${StructQBStringQs text = 0x830e7c66}$		:i $add_user_control_helper$$controller$ = %GLOBAL%$state_device$$text$ = ^[af4d5dd2]^$button$ = $red$$z$ = %i(100000)	:i endif	:i if (%GLOBAL%$current_index$ = %i(4294967295))		:i $scriptassert$%s("Guitar %s not found!")$s$ = %GLOBAL%$desc_id$		:i %GLOBAL%$current_index$ = %i(0)	:i endif	:i if $generic_list_menu$.$desc_resolvealias$${StructQBKey name = alias_generic_scrollbar_wgt}$		:i $generic_scrollbar_wgt_initialize$$id$ = %GLOBAL%$resolved_id$		:i $generic_scrollbar_wgt_set_resolution$$id$ = %GLOBAL%$resolved_id$$num_elements$ = %GLOBAL%$num_parts_added$	:i endif	:i $CreateScreenElement$${		StructQBKey parent = root_window		StructQBKey type = descinterface		StructQBKey id = sponsor_logo		StructString desc = "Axesmith_menu_item"		StructQBKey not_focusable	}$		:i $LaunchEvent$$type$ = $focus$$target$ = $create_cag_custom_body_types_vmenu$$Data$ = :s{$child_index$ = %GLOBAL%$current_index$:s}	:i endfunction]Script ui_destroy_cag_custom_body_types 0x8bc221bf [	:i if $ScreenElementExists$${StructQBKey id = sponsor_logo}$		:i $DestroyScreenElement$${StructQBKey id = sponsor_logo}$	:i endif	:i $destroy_generic_menu$	:i $generic_list_destroy$	:i endfunction]Script ui_init_cag_custom_body_types 0x42bed530 [	:i $PushTemporaryCASAppearance$	:i $ui_cas_precache$$part$ = %GLOBAL%$part$	:i endfunction]Script ui_deinit_cag_custom_body_types 0x0d3b786a [	:i $FlushAllCompositeTexturesFromUI$	:i $PopTemporaryCASAppearance$	:i $cleanup_cas_menu_handlers$	:i endfunction]Script cag_current_part_matches 0x78f8e0ac [	${Unknown [00012600b6f08f396969696900000018000126004bb2084e6969696900000000]}$	:i %GLOBAL%$desc_id_checking$ = %GLOBAL%$desc_id$	:i if $GetCASAppearancePartDescID$$part$ = %GLOBAL%$part$		:i if (%GLOBAL%$desc_id_checking$ = %GLOBAL%$desc_id$)			:i return ${StructQBKey true}$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script cag_custom_body_types_choose 0x3974a84c [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i $ui_event_wait_for_safe$	:i if $ui_event_exists_in_stack$${StructString name = "cag_main"}$		:i $ui_event_block$$event$ = $menu_back$$state$ = $UIstate_cag_main$$Data$ = :s{$selected_index$ = %i(1)$cag_preset_index$ = %GLOBAL%$cag_preset_index$:s}	:i elseif $ui_event_exists_in_stack$${StructString name = "cag_custom_body_types"}$		:i $ui_event_block$$event$ = $menu_replace$$Data$ = :s{			:i $state$ = $UIstate_cag_main$			:i $old_instrument$ = %GLOBAL%$old_instrument$			:i $Instrument$ = (~$cas_default_instrument$)			:i $instrument_info$ = (~$cag_instruments$:a{~$cag_instrument_idxs$->%GLOBAL%$old_instrument$:a})			:i $selected_index$ = %i(1)			:i $cag_preset_index$ = %GLOBAL%$cag_preset_index$		:i :s}	:i endif	:i endfunction]Script add_cag_body_part 0x32c8f7cf [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				desc_id				cannot_choose				state_device			]		}		StructQBKey all	}$		:i $KillAllCompositeTextures$	:i $DumpCompositeScratchTextures$	:i $get_part_current_desc_id$$part$ = %GLOBAL%$part$	:i if NOT (%GLOBAL%$desc_id$ = %GLOBAL%$current_desc_id$)		:i $fix_cag_include_part$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$$force_first_include_part$ = %i(1)		:i $cas_add_item_to_appearance$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$$incremental$	:i endif	:i if $get_cas_sponsor_texture_and_title$$part$ = %GLOBAL%$part$		:i $sponsor_logo$.$se_setprops$$AxeSmith_Menu_Item_img_texture$ = %GLOBAL%$texture$		:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 1.00}$	:i else 		:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 0.00}$	:i endif	:i $clean_up_user_control_helpers$	:i if (%GLOBAL%$cannot_choose$ = %i(1))		:i $menu_finish$$car_helper_text_cancel_only$$controller$ = %GLOBAL%$state_device$	:i else 		:i $menu_finish$$car_helper_text_cancel$$controller$ = %GLOBAL%$state_device$	:i endif	:i endfunction]Script get_instrument_preset_from_current_appearance 0x3738c3cc [	${Unknown [00012c00cd8046ab6969696900000000]}$	:i %GLOBAL%$newstruct$ = :s{:s}	:i $GetArraySize$%GLOBAL%$part_array$	:i %GLOBAL%$i$ = %i(0)	:i while 	:i $part$ = (%GLOBAL%$part_array$:a{%GLOBAL%$i$:a})	:i if $GetCASAppearancePartInstance$$part$ = %GLOBAL%$part$		:i $UpdateStructElement$$struct$ = %GLOBAL%$newstruct$$element$ = %GLOBAL%$part$$value$ = %GLOBAL%$part_instance$	:i endif	:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i return $new_struct$ = %GLOBAL%$newstruct$	:i endfunction]Script set_instrument_preset_into_current_appearance 0x6517c7ab [	${Unknown [00012c00cd8046ab696969690000001800012b00d3a01bcd6969696900000000]}$	:i $GetArraySize$%GLOBAL%$part_array$	:i %GLOBAL%$i$ = %i(0)	:i while 	:i $part$ = (%GLOBAL%$part_array$:a{%GLOBAL%$i$:a})	:i if $StructureContains$$structure$ = %GLOBAL%$preset$%GLOBAL%$part$		:i $SetCASAppearancePartInstance$$part$ = %GLOBAL%$part$$part_instance$ = (%GLOBAL%$preset$->%GLOBAL%$part$)	:i else 		:i $EditCASAppearance$:s{			:i $target$ = $clearpart$			:i $targetParams$ = :s{$part$ = %GLOBAL%$part$:s}		:i :s}	:i endif	:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script load_cag_preset 0x14fd9969 [	${Unknown [000124007f8c98fe696969690000001800012400951842ef6969696900000028000124007db27be4696969690000003800012400ff1496de6969696900000000]}$	:i %GLOBAL%$preset$ = (~$cag_factory_presets$:a{%GLOBAL%$index$:a})	:i if (%GLOBAL%$restore_car$ = %i(1))		:i $RestoreTopTemporaryCASAppearance$${StructQBKey no_rebuild}$	:i else 		:i $set_instrument_preset_into_current_appearance$$part_array$ = (~$instrument_part_sets$->$guitar$)$preset$ = %GLOBAL%$preset$	:i endif	:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 0.00}$	:i if $StructureContains$$structure$ = %GLOBAL%$preset$$sponsor_id$		:i if $get_cas_sponsor_texture_and_title$$sponsor_id$ = (%GLOBAL%$preset$->$sponsor_id$)			:i $sponsor_logo$.$se_setprops$$AxeSmith_Menu_Item_img_texture$ = %GLOBAL%$texture$			:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 1.00}$		:i endif	:i endif	:i $printcurrentappearance$	:i $RebuildCurrentCASModel$	:i $clean_up_user_control_helpers$	:i if (%GLOBAL%$cannot_choose$ = %i(1))		:i $menu_finish$$car_helper_text_cancel_only$$controller$ = %GLOBAL%$state_device$	:i else 		:i $menu_finish$$car_helper_text_cancel$$controller$ = %GLOBAL%$state_device$	:i endif	:i if $GotParam$${StructQBKey locked}$		:i $user_control_destroy_helper$${StructQBKey button = green}$		:i $obj_getid$		:i $SetScreenElementProps$:s{			:i $id$ = %GLOBAL%$ObjID$			:i $event_handlers$ = :a{				:i :s{$pad_choose$$NullScript$:s}			:i :a}			:i $replace_handlers$		:i :s}	:i endif	:i endfunction]Script load_cab_preset 0x92b327b0 [	${Unknown [000124007f8c98fe696969690000001800012400951842ef6969696900000028000124007db27be4696969690000003800012400ff1496de6969696900000000]}$	:i %GLOBAL%$preset$ = (~$cab_factory_presets$:a{%GLOBAL%$index$:a})	:i if (%GLOBAL%$restore_car$ = %i(1))		:i $RestoreTopTemporaryCASAppearance$${StructQBKey no_rebuild}$	:i else 		:i $set_instrument_preset_into_current_appearance$$part_array$ = (~$instrument_part_sets$->$Bass$)$preset$ = %GLOBAL%$preset$	:i endif	:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 0.00}$	:i if $StructureContains$$structure$ = %GLOBAL%$preset$$sponsor_id$		:i if $get_cas_sponsor_texture_and_title$$sponsor_id$ = (%GLOBAL%$preset$->$sponsor_id$)			:i $sponsor_logo$.$se_setprops$$AxeSmith_Menu_Item_img_texture$ = %GLOBAL%$texture$			:i $sponsor_logo$.$se_setprops$${StructFloat AxeSmith_Menu_Item_img_alpha = 1.00}$		:i endif	:i endif	:i $printcurrentappearance$	:i $RebuildCurrentCASModel$	:i $clean_up_user_control_helpers$	:i if (%GLOBAL%$cannot_choose$ = %i(1))		:i $menu_finish$$car_helper_text_cancel_only$$controller$ = %GLOBAL%$state_device$	:i else 		:i $menu_finish$$car_helper_text_cancel$$controller$ = %GLOBAL%$state_device$	:i endif	:i if $GotParam$${StructQBKey locked}$		:i $user_control_destroy_helper$${StructQBKey button = green}$		:i $obj_getid$		:i $SetScreenElementProps$:s{			:i $id$ = %GLOBAL%$ObjID$			:i $event_handlers$ = :a{				:i :s{$pad_choose$$NullScript$:s}			:i :a}			:i $replace_handlers$		:i :s}	:i endif	:i endfunction]Script fix_cag_include_part 0x5304c614 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				desc_id			]		}		StructQBKey all	}$		:i $cas_part_will_conflict$$part_name$ = %GLOBAL%$part$$part_desc_id$ = %GLOBAL%$desc_id$$force_first_include_part$ = %GLOBAL%$force_first_include_part$	:i if $GotParam$${StructQBKey change_parts}$		:i $printf$${StructQBStringQs b3a58f0c}$		:i $GetArraySize$${StructQBKey change_parts}$		:i if (%GLOBAL%$array_size$ > %i(0))			:i $i$ = %i(0)			:i while 			:i $skip_item$ = %i(0)			:i if $GotParam$${StructQBKey node_parts_only}$				:i if NOT $is_node_mesh_part$$part$ = (%GLOBAL%$change_parts$:a{%GLOBAL%$i$:a}->$part$)					:i $skip_item$ = %i(1)				:i endif			:i endif			:i if (%GLOBAL%$skip_item$ = %i(0))				:i $printf$%s("Changing %a to %b")$a$ = (%GLOBAL%$change_parts$:a{%GLOBAL%$i$:a}->$part$)$b$ = (%GLOBAL%$change_parts$:a{%GLOBAL%$i$:a}->$desc_id$)				:i $cas_add_item_to_appearance$$part$ = (%GLOBAL%$change_parts$:a{%GLOBAL%$i$:a}->$part$)$desc_id$ = (%GLOBAL%$change_parts$:a{%GLOBAL%$i$:a}->$desc_id$)$no_rebuild$			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i endfunction]Script is_node_mesh_part c2aa3a72 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part			]		}		StructQBKey all	}$		:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i return ${StructQBKey false}$	:i endif	:i if NOT $GetActualCASOptionStruct$$part$ = %GLOBAL%$part$$desc_id$ = %GLOBAL%$desc_id$		:i return ${StructQBKey false}$	:i endif	:i if $GotParam$${StructQBKey node_meshes}$		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script add_cag_part_spin_guitar eb3ab38c [	:i $GetCurrentCASObject$	:i if $is_female_char$		:i $Band_PlaysimpleAnim$$name$ = %GLOBAL%$cas_object$$anim$ = $car_female_select_guitar_turn_flip$$blendduration$ = %f(1.0)	:i else 		:i $Band_PlaysimpleAnim$$name$ = %GLOBAL%$cas_object$$anim$ = $CAR_male_Select_guitar_turn_flip$$blendduration$ = %f(1.0)	:i endif	:i endfunction]