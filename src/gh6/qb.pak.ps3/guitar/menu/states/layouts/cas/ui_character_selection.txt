Unknown [1c0000000000000000002fc00000000000000000]Script ui_create_character_selection 0x9122c673 [	:i $scene_swap_do$${StructQBKey name = main}$	:i $change$${StructInt in_character_select = 1}$	:i $set_cas_loading_setup$${StructQBKey setup = hidden}$	:i $anim_paks_set_state$${		StructQBKey state = frontend		StructInt async = 1	}$		:i $cas_get_player$	:i if $GotParam$${StructQBKey from_main_menu}$		:i $change$${StructQBKey rich_presence_context = presence_rockstar_creator}$		:i $change$${StructQBKey cas_started_from = main_menu}$		:i $get_savegame_from_controller$${StructQBString controller = primary_controller}$	:i else 		:i $change$${StructQBKey rich_presence_context = presence_menus}$		:i $change$${StructQBKey cas_started_from = career_select}$		:i $get_savegame_from_player$$player$ = %GLOBAL%$player$	:i endif	:i $printf$%s("savegame=%s")$s$ = %GLOBAL%$savegame$	:i $GetPakManCurrent$${StructQBKey map = zones}$	:i $extendcrc$%GLOBAL%$pak$%s("_TRG_Waypoint_")$out$ = $node_prefix$	:i $extendcrc$%GLOBAL%$node_prefix$%s("Vocalist_Start")$out$ = $node$	:i $change$$CAS_node_name$ = %GLOBAL%$node$	:i $cas_set_object_node_pos$$player$ = %GLOBAL%$player$	:i $focus_index$ = %i(0)	:i $focus_character_id$ = $None$	:i if $GotParam$${StructQBKey from_main_menu}$		:i $pad_back_params$ = :s{$savegame$ = %GLOBAL%$savegame$$from_main_menu$:s}	:i else 		:i $pad_back_params$ = :s{$savegame$ = %GLOBAL%$savegame$:s}		:i if NOT $GotParam$${StructQBKey gone_into_charselect}$			:i $printf$%s("Changing charid from %s to axel")$s$ = (~$g_charselect_previous_character_id$)		:i endif	:i endif	:i $make_character_selection_menu$:s{		:i $pad_back_script$ = $character_select_back_out$		:i $pad_back_params$ = %GLOBAL%$pad_back_params$		:i $vmenu_alias$ = $create_character_selection_vmenu$	:i :s}	:i $create_character_selection_vmenu$.$se_setprops$${		StructArray event_handlers		{			ArrayStruct			[				StructHeader				{					StructQBKey pad_up					StructQBKey ui_character_selection_pad_up				}				StructHeader				{					StructQBKey pad_down					StructQBKey ui_character_selection_pad_down				}			]		}	}$		:i $CharacterProfileGetList$$savegame$ = %GLOBAL%$savegame$$categories$ = :a{$cars$:a}	:i $GetArraySize$%GLOBAL%$profile_list$	:i if $ScreenElementExists$${StructQBKey id = character_select_num_custom_profiles}$		:i $DestroyScreenElement$${StructQBKey id = character_select_num_custom_profiles}$	:i endif	:i $FormatText$$textname$ = $num_profiles_text$^[3ee1aa75]^$a$ = %GLOBAL%$array_size$$b$ = ~$max_num_create_a_rockers$	:i $CreateScreenElement$:s{		:i $id$ = $character_select_num_custom_profiles$		:i $parent$ = $root_window$		:i $type$ = $TextBlockElement$		:i $Pos$ = %vec2(135.0,205.0)		:i $text$ = %GLOBAL%$num_profiles_text$		:i $font$ = $fontgrid_text_a1$		:i $Scale$ = %i(1)		:i $dims$ = %vec2(350.0,80.0)		:i $rgba$ = :a{%i(220)%i(220)%i(220)%i(255):a}		:i $just$ = :a{$left$$center$:a}		:i $z_priority$ = %i(1000)		:i $fit_width$ = $scale each line if larger$	:i :s}	:i %GLOBAL%$can_create_new_character$ = %i(0)	:i if (%GLOBAL%$array_size$ < ~$max_num_create_a_rockers$)		:i if $GotParam$${StructQBKey from_main_menu}$			:i $additional_focus_params$ = :s{$from_main_menu$$savegame$ = %GLOBAL%$savegame$:s}			:i $additional_unfocus_params$ = :s{$from_main_menu$$savegame$ = %GLOBAL%$savegame$:s}		:i else 			:i $additional_focus_params$ = :s{$savegame$ = %GLOBAL%$savegame$:s}			:i $additional_unfocus_params$ = :s{$savegame$ = %GLOBAL%$savegame$:s}		:i endif		:i $add_character_selection_item$:s{			:i $name$ = ^[68b4554a]^			:i $bio$ = ^[f8d12f45]^			:i $icon$ = $icon_face$			:i $pad_choose_script$ = $create_new_custom_character$			:i $pad_choose_params$ = :s{$savegame$ = %GLOBAL%$savegame$:s}			:i $pad_btn_left_script$ = $character_selection_randomize_car$			:i $pad_btn_left_params$ = :s{$is_female$ = %i(0):s}			:i $pad_btn_top_script$ = $character_selection_randomize_car$			:i $pad_btn_top_params$ = :s{$is_female$ = %i(1):s}			:i $additional_focus_script$ = $new_custom_char_focus$			:i $additional_focus_params$ = :s{%GLOBAL%$additional_focus_params$$vmenu$ = $create_character_selection_vmenu$$deleted_car$ = %GLOBAL%$deleted_car$:s}			:i $additional_unfocus_script$ = $change_character_unfocus$			:i $additional_unfocus_params$ = %GLOBAL%$additional_unfocus_params$		:i :s}		:i $new_rocker_id$ = %GLOBAL%$selection_item_id$		:i if $IsAvatarSystemInitialized$			:i $add_character_selection_item$:s{				:i $name$ = ^[96a2209c]^				:i $bio$ = ^[8172e1df]^				:i $icon$ = $icon_face$				:i $pad_choose_script$ = $create_new_avatar_character$				:i $pad_choose_params$ = :s{$savegame$ = %GLOBAL%$savegame$:s}				:i $pad_btn_left_script$ = $character_selection_randomize_avatar$				:i $pad_btn_left_params$ = :s{$is_female$ = %i(0):s}				:i $pad_btn_top_script$ = $character_selection_randomize_avatar$				:i $pad_btn_top_params$ = :s{$is_female$ = %i(1):s}				:i $additional_focus_script$ = $new_custom_avatar_focus$				:i $additional_focus_params$ = :s{%GLOBAL%$additional_focus_params$$vmenu$ = $create_character_selection_vmenu$$deleted_car$ = %GLOBAL%$deleted_car$:s}				:i $additional_unfocus_script$ = $change_character_unfocus$				:i $additional_unfocus_params$ = %GLOBAL%$additional_unfocus_params$			:i :s}			:i %GLOBAL%$menu_index$ = %i(2)		:i else 			:i %GLOBAL%$menu_index$ = %i(1)		:i endif		:i %GLOBAL%$can_create_new_character$ = %i(1)	:i else 		:i if ((~$g_charselect_previous_character_id$) = $None$)			:i $printf$${StructString 0x00000000 = "Changing charid from *NONE* to axel"}$			:i $set_charselect_previous_character_id$${StructQBKey id = GH_Rocker_Axel}$		:i endif		:i %GLOBAL%$menu_index$ = %i(0)	:i endif	:i $ui_event_remove_params$${StructQBKey param = deleted_car}$	:i $CharacterProfileGetList$$savegame$ = %GLOBAL%$savegame$	:i $GetArraySize$%GLOBAL%$profile_list$	:i $i$ = %i(0)	:i while 	:i $this_id$ = (%GLOBAL%$profile_list$:a{%GLOBAL%$i$:a})	:i $CharacterProfileGetStruct$$savegame$ = %GLOBAL%$savegame$$name$ = %GLOBAL%$this_id$	:i if $GotParam$${StructQBKey from_main_menu}$		:i if $profile_can_be_modified$$id$ = %GLOBAL%$this_id$			:i $choose_script$ = $choose_character_to_edit$		:i else 			:i $choose_script$ = $NullScript$		:i endif	:i else 		:i $choose_script$ = $choose_character_to_play$	:i endif	:i $getplayerinfo$%GLOBAL%$player$$part$	:i if $GotParam$${StructQBKey from_main_menu}$		:i if $display_character_logic$$profile_struct$ = %GLOBAL%$profile_struct$$savegame$ = %GLOBAL%$savegame$$from_main_menu$$part$ = %GLOBAL%$part$			:i $ok_to_select$ = %i(1)		:i else 			:i $ok_to_select$ = %i(0)		:i endif	:i else 		:i if $display_character_logic$$profile_struct$ = %GLOBAL%$profile_struct$$savegame$ = %GLOBAL%$savegame$$part$ = %GLOBAL%$part$			:i $ok_to_select$ = %i(1)		:i else 			:i $ok_to_select$ = %i(0)		:i endif	:i endif	:i if (%GLOBAL%$ok_to_select$ = %i(1))		:i $bio$ = (%GLOBAL%$profile_struct$->$blurb$)		:i if $is_completely_custom_musician$$id$ = %GLOBAL%$this_id$			:i $get_current_band_name$			:i $printf$${StructQBStringQs 0x1feab727}$			:i $FormatText$$textname$ = $bio$^[f135a5ff]^$s$ = (%GLOBAL%$profile_struct$->$fullname$)		:i endif		:i $CharacterProfileGetType$$savegame$ = %GLOBAL%$savegame$$name$ = %GLOBAL%$this_id$		:i if (%GLOBAL%$profile_type$ = $Avatar$)			:i $getplayerinfo$%GLOBAL%$player$$controller$			:i $NetSessionFunc$$obj$ = $match$$func$ = $get_gamertag$$params$ = :s{$controller$ = %GLOBAL%$controller$:s}			:i if (%GLOBAL%$name$ = ^[00000000]^)				:i $FormatText$$textname$ = $name$^[72f23aff]^$d$ = %GLOBAL%$player$			:i endif			:i $get_avatar_bio$$gamertag$ = %GLOBAL%$name$		:i else 			:i if $is_avatar_character$$savegame$ = %GLOBAL%$savegame$$id$ = %GLOBAL%$this_id$				:i $get_created_avatar_bio$$profile_struct$ = %GLOBAL%$profile_struct$			:i else 				:i if NOT $is_completely_custom_musician$$id$ = %GLOBAL%$this_id$					:i $get_localized_bio$$id$ = %GLOBAL%$this_id$				:i endif			:i endif		:i endif		:i $get_fullname_of_character$$savegame$ = %GLOBAL%$savegame$$id$ = (%GLOBAL%$profile_struct$->$name$)$profanity_allowed$		:i if $GotParam$${StructQBKey from_main_menu}$			:i $additional_focus_params$ = :s{$character_id$ = %GLOBAL%$this_id$$from_main_menu$$savegame$ = %GLOBAL%$savegame$:s}			:i $additional_unfocus_params$ = :s{$character_id$ = %GLOBAL%$this_id$$from_main_menu$$savegame$ = %GLOBAL%$savegame$:s}		:i else 			:i $additional_focus_params$ = :s{$character_id$ = %GLOBAL%$this_id$$savegame$ = %GLOBAL%$savegame$:s}			:i $additional_unfocus_params$ = :s{$character_id$ = %GLOBAL%$this_id$$savegame$ = %GLOBAL%$savegame$:s}		:i endif		:i $add_character_selection_item$:s{			:i $price$ = %GLOBAL%$price$			:i $bio$ = %GLOBAL%$bio$			:i $name$ = %GLOBAL%$fullname$			:i $icon$ = $icon_face$			:i $pad_choose_script$ = %GLOBAL%$choose_script$			:i $pad_choose_params$ = :s{$character_id$ = %GLOBAL%$this_id$$savegame$ = %GLOBAL%$savegame$$price$ = %GLOBAL%$price$:s}			:i $additional_focus_script$ = $change_character_focus$			:i $additional_focus_params$ = :s{%GLOBAL%$additional_focus_params$$vmenu$ = $create_character_selection_vmenu$:s}			:i $additional_unfocus_script$ = $change_character_unfocus$			:i $additional_unfocus_params$ = %GLOBAL%$additional_unfocus_params$		:i :s}		:i if (%GLOBAL%$this_id$ = (~$g_charselect_previous_character_id$))			:i $focus_index$ = %GLOBAL%$menu_index$			:i $focus_character_id$ = %GLOBAL%$this_id$		:i endif		:i $menu_index$ = (%GLOBAL%$menu_index$ + %i(1))	:i endif	:i if $GotParam$${StructQBKey price}$		:i $RemoveParameter$${StructQBKey price}$	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i if NOT $GotParam$${StructQBKey gone_into_charselect}$		:i $ui_event_add_params$${StructInt gone_into_charselect = 1}$		:i $SetButtonEventMappings$${StructQBKey block_menu_input}$		:i $PushUnsafeForShutdown$${StructQBKey context = ui_character_select_load}$		:i if (%GLOBAL%$focus_character_id$ = $None$)			:i $set_charselect_previous_character_id$${StructQBKey id = None}$			:i if $GotParam$${StructQBKey new_rocker_id}$				:i $new_custom_char_focus$:s{					:i $id$ = %GLOBAL%$new_rocker_id$					:i $savegame$ = %GLOBAL%$savegame$					:i $vmenu$ = $create_character_selection_vmenu$					:i $from_main_menu$				:i :s}			:i endif		:i else 			:i $cas_queue_new_character_profile$$id$ = %GLOBAL%$focus_character_id$$player$ = (~$cas_current_player$)$Instrument$ = $None$$savegame$ = %GLOBAL%$savegame$		:i endif		:i $cas_queue_wait$		:i $create_frontend_lock_targets$		:i $LightShow_NotInGamePlay_SetMood$${StructQBKey mood = menu}$		:i $PopUnsafeForShutdown$${StructQBKey context = ui_character_select_load}$		:i $spawnscriptnow$${StructQBKey character_selection_menu_fix_input}$	:i endif	:i $set_cas_loading_setup$${StructQBKey setup = single}$	:i if $ScreenElementExists$${StructQBKey id = generic_barrel_menu}$		:i $generic_barrel_menu_finish$$no_helper_pills$ = %i(1)$index$ = %GLOBAL%$focus_index$		:i if $ScreenElementExists$${StructQBKey id = barrel_menu_desc}$			:i $barrel_menu_desc$.$se_getprops$			:i $barrel_menu_desc$.$se_setprops$:s{				:i $generic_barrel_window_dims$ = (((%GLOBAL%$generic_barrel_window_dims$:a{%i(0):a}) * %vec2(1.0,0.0)) + (((%GLOBAL%$generic_barrel_window_dims$:a{%i(1):a} + %f(1.0))) * %vec2(0.0,1.0)))			:i :s}		:i endif	:i endif	:i if $ScreenElementExists$${StructQBKey id = character_selection}$		:i $character_selection$.$se_setprops$${			StructStruct character_selection_control_pos			{				StructHeader				{					StructFloatX2 0x00000000					{						Floats [0.00000, -30.0000]					}					StructQBKey relative				}			}			StructInt time = 0		}$			:i endif	:i if ((~$autolaunch_cas_instrument$ !== $None$) OR (~$autolaunch_cas_new_char$ !== $None$))		:i $SpawnScriptDelayed$$frames$ = %i(10)$create_new_custom_character$$params$ = :s{$savegame$ = %GLOBAL%$savegame$$do_wait$:s}		:i $change$${StructQBKey autolaunch_cas_new_char = None}$	:i endif	:i $hide_glitch$${StructInt num_frames = 6}$	:i if NOT $GotParam$${StructQBKey gone_into_charselect}$		:i $wait$${			StructInt 2			StructQBKey gameframes		}$			:i endif	:i $SpawnScriptLater$${StructQBKey HACK_restore_camera}$	:i $destroy_mainmenu_bg$	:i endfunction]Script HACK_restore_camera 0x8684c5a5 [	:i $change$${StructString current_menu_camera = "none"}$	:i endfunction]Script character_selection_menu_fix_input 0x106e67ef [	:i $printf$${StructString 0x00000000 = "character_selection_menu_fix_input"}$	:i $setscriptcannotpause$	:i $OnExitRun$${StructQBKey character_selection_menu_fix_input_done}$	:i $wait$${		StructInt 20		StructQBKey gameframes	}$		:i while 	:i if NOT $ScriptIsRunning$${StructQBKey task_menu_default_anim_in}$		:i continue	:i endif	:i $printf$${StructString 0x00000000 = "waiting for task_menu_default_anim_in"}$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i endfunction]Script character_selection_menu_fix_input_done 0x4e20d29f [	:i $printf$${StructString 0x00000000 = "character_selection_menu_fix_input_done"}$	:i $SetButtonEventMappings$${StructQBKey unblock_menu_input}$	:i endfunction]Script get_localized_bio 0x0a2d9878 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				id			]		}		StructQBKey all	}$		:i if $CharacterProfileExists$$savegame$ = %i(4294967295)$name$ = %GLOBAL%$id$		:i $CharacterProfileGetStruct$$savegame$ = %i(4294967295)$name$ = %GLOBAL%$id$		:i return $bio$ = (%GLOBAL%$profile_struct$->$blurb$)	:i endif	:i endfunction]Script ui_character_selection_pad_up 0x7c24ab31 [	:i if $ScreenElementExists$${StructQBKey id = generic_barrel_menu}$		:i if $generic_barrel_menu$.$desc_resolvealias$${StructQBKey name = alias_generic_barrel_menu_up_arrow}$			:i %GLOBAL%$arrow_up_id$ = %GLOBAL%$resolved_id$		:i else 			:i $scriptassert$${StructQBStringQs 0x5abff433}$		:i endif		:i %GLOBAL%$arrow_up_id$.$obj_spawnscript$$ui_character_selection_do_scroll_glow$		:i %GLOBAL%$arrow_up_id$.$obj_spawnscript$$ui_character_selection_do_arrow_pulse$	:i endif	:i endfunction]Script ui_character_selection_pad_down 0x5c1d9666 [	:i if $ScreenElementExists$${StructQBKey id = generic_barrel_menu}$		:i if $generic_barrel_menu$.$desc_resolvealias$${StructQBKey name = alias_generic_barrel_menu_down_arrow}$			:i %GLOBAL%$arrow_down_id$ = %GLOBAL%$resolved_id$		:i else 			:i $scriptassert$${StructQBStringQs 0x5abff433}$		:i endif		:i %GLOBAL%$arrow_down_id$.$obj_spawnscript$$ui_character_selection_do_scroll_glow$		:i %GLOBAL%$arrow_down_id$.$obj_spawnscript$$ui_character_selection_do_arrow_pulse$$params$ = :s{$down$ = %i(1):s}	:i endif	:i endfunction]Script ui_character_selection_do_scroll_glow 0x540ac42f [	:i $obj_getid$	:i $CreateScreenElement$:s{		:i $type$ = $SpriteElement$		:i $parent$ = %GLOBAL%$ObjID$		:i $texture$ = $circle_gradient_64$		:i $dims$ = %vec2(64.0,64.0)		:i $Pos$ = %vec2(32.0,32.0)		:i $rgba$ = :a{%i(255)%i(215)%i(0)%i(255):a}		:i $just$ = :a{$center$$center$:a}		:i $z_priority$ = %i(20)		:i $alpha$ = %f(0.2000000)		:i $Blend$ = $Add$	:i :s}	:i %GLOBAL%$id$.$se_setprops$$Scale$ = %f(1.2000000)$relative_scale$	:i %GLOBAL%$id$.$se_setprops$$Scale$ = (select(2f,3,01 00 01 00 01 00) :OFFSET(0):OFFSET(1):OFFSET(2)	:POS(0) %f(2.0)	:BREAKTO(3) 	:POS(1) %f(2.5)	:BREAKTO(3) 	:POS(2) %f(3.0)	:POS(3) )$alpha$ = %f(0.0)$time$ = %f(0.2000000)$relative_scale$$motion$ = $ease_out$	:i $wait$${		StructFloat 0.20000000298023224		StructQBKey seconds	}$		:i $DestroyScreenElement$$id$ = %GLOBAL%$id$	:i endfunction]Script ui_character_selection_do_arrow_pulse d9a4b3b9 [	:i $obj_getid$	:i $CreateScreenElement$:s{		:i $type$ = $SpriteElement$		:i $parent$ = %GLOBAL%$ObjID$		:i $texture$ = $mainmenu_wgt_barrel_arrow$		:i $dims$ = %vec2(64.0,64.0)		:i $Pos$ = %vec2(32.0,32.0)		:i $just$ = :a{$center$$center$:a}		:i $z_priority$ = %i(20)		:i $rgba$ = $NTSCWhite$	:i :s}	:i if $GotParam$${StructQBKey down}$		:i %GLOBAL%$id$.$se_setprops$$flip_h$	:i endif	:i %GLOBAL%$id$.$se_setprops$$Scale$ = %f(1.2999999)$time$ = %f(0.0099999)$relative_scale$	:i %GLOBAL%$id$.$se_waitprops$	:i %GLOBAL%$id$.$se_setprops$$Scale$ = %f(1.0)$time$ = %f(0.1000000)$relative_scale$	:i $wait$${		StructFloat 0.10000000149011612		StructQBKey seconds	}$		:i $DestroyScreenElement$$id$ = %GLOBAL%$id$	:i endfunction]Script cleanup_charselect_ui 0x20246796 [	:i if $ScreenElementExists$${StructQBKey id = character_select_num_custom_profiles}$		:i $DestroyScreenElement$${StructQBKey id = character_select_num_custom_profiles}$	:i endif	:i $destroy_character_selection_menu$	:i endfunction]Script ui_destroy_character_selection 0x3b2e6121 [	:i $cleanup_charselect_ui$	:i $change$${StructInt in_character_select = 0}$	:i endfunction]Script ui_return_character_selection 0x6cfba6c5 [	:i if $ScreenElementExists$${StructQBKey id = create_character_selection_vmenu}$		:i $create_character_selection_vmenu$.$se_setprops$${StructQBKey unblock_events}$		:i $LaunchEvent$${			StructQBKey type = focus			StructQBKey target = create_character_selection_vmenu		}$			:i endif	:i endfunction]Script ui_init_character_selection d2e0cc54 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				device_num			]		}		StructQBKey all	}$		:i $printscriptinfo$${StructString 0x00000000 = "ui_init_character_selection"}$	:i $printstruct$ isNull 	:i $create_mainmenu_bg$${StructInt z_priority = 1000000}$	:i $destroy_friend_feed$	:i $stop_venue_effects$	:i if NOT $GotParam$${StructQBKey gone_into_charselect}$	:i endif	:i $change$${StructInt respond_to_signin_changed = 1}$	:i $cas_destroy_all_characters$	:i $check_CAR_unlocks$	:i $set_charselect_previous_character_id$${StructQBKey id = None}$	:i $player$ = (%GLOBAL%$device_num$ + %i(1))	:i $change$$cas_current_player$ = %GLOBAL%$player$	:i $FormatText$$checksumname$ = $player_name$%s("cas_player%i")$i$ = %GLOBAL%$player$	:i $change$$cas_current_player_name$ = %GLOBAL%$player_name$	:i $get_savegame_from_controller$$controller$ = %GLOBAL%$device_num$	:i $SetPlayerInfo$%i(1)$controller$ = %GLOBAL%$device_num$	:i $hack_stop_ampzilla$	:i endfunction]Script ui_deinit_character_selection ec70cd39 [	:i $PopDisableRendering$${		StructQBKey context = going_into_car		StructQBKey type = unchecked	}$		:i $set_cas_loading_setup$${StructQBKey setup = hidden}$	:i $cleanup_charselect_ui$	:i if (~$is_in_cas$ = %i(1))		:i $cas_free_resources$	:i endif	:i $start_venue_effects$	:i $destroy_frontend_lock_targets$	:i $change$${StructInt in_character_select = 0}$	:i $change$${StructInt respond_to_signin_changed = 0}$	:i if NOT $GotParam$${StructQBKey backed_out_safely}$		:i $change$${StructInt in_character_select = 0}$		:i $cas_destroy_all_characters$	:i else 	:i endif	:i $hack_start_ampzilla$	:i endfunction]Script create_new_car_from_character_id 0x66ed7832 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				character_id				savegame			]		}		StructQBKey all	}$		:i $new_custom_character_name$$savegame$ = %GLOBAL%$savegame$	:i $CharacterProfileGetStruct$$name$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$	:i $profile_struct$ = :s{		:i %GLOBAL%$profile_struct$		:i $name$ = %GLOBAL%$new_character_id$	:i :s}	:i $add_new_custom_profile$$profile$ = %GLOBAL%$profile_struct$$savegame$ = %GLOBAL%$savegame$	:i return $new_character_id$ = %GLOBAL%$new_character_id$	:i endfunction]Script create_new_custom_character 0x4f9a4152 [	:i $hide_glitch$${StructInt num_frames = 30}$	:i $net_counter_increment$${StructQBKey counter_name = globalcounter_create_new_rocker}$	:i $destroy_character_selection_menu$	:i $cas_get_player$	:i $FormatText$$checksumname$ = $id_checksum$%s("temporary_car_%d")$d$ = %GLOBAL%$savegame$$addtostringlookup$ = $true$	:i $create_new_car_from_character_id$$character_id$ = %GLOBAL%$id_checksum$$savegame$ = %GLOBAL%$savegame$	:i $update_temporary_random_car$$slot$ = %GLOBAL%$savegame$$savegame$ = %GLOBAL%$savegame$	:i $cas_edit_character_profile$$character_id$ = %GLOBAL%$new_character_id$$savegame$ = %GLOBAL%$savegame$	:i $change$${StructQBKey cas_editing_new_character = true}$	:i if $GotParam$${StructQBKey do_wait}$		:i while 		:i if $is_menu_camera_finished$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 		:i $ui_event_wait_for_safe$	:i endif	:i $PushDisableRendering$${		StructQBKey context = going_into_car		StructQBKey type = unchecked	}$		:i $generic_event_choose$$state$ = $UIstate_customize_character_enter$$Data$ = :s{$force_id$ = $cas_current_appearance$$new_data$ = :s{$state_device$ = (~$primary_controller$):s}:s}	:i endfunction]Script create_new_avatar_character 0x4e234738 [	:i $destroy_character_selection_menu$	:i $cas_get_player$	:i $FormatText$$checksumname$ = $id_checksum$%s("temporary_avatar_%d")$d$ = %GLOBAL%$savegame$$addtostringlookup$ = $true$	:i $create_new_car_from_character_id$$character_id$ = %GLOBAL%$id_checksum$$savegame$ = %GLOBAL%$savegame$	:i $update_temporary_random_avatar$$slot$ = %GLOBAL%$savegame$$savegame$ = %GLOBAL%$savegame$	:i $cas_edit_character_profile$$character_id$ = %GLOBAL%$new_character_id$$savegame$ = %GLOBAL%$savegame$	:i $change$${StructQBKey cas_editing_new_character = true}$	:i if $GotParam$${StructQBKey do_wait}$		:i while 		:i if $is_menu_camera_finished$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 		:i $ui_event_wait_for_safe$	:i endif	:i $PushDisableRendering$${		StructQBKey context = going_into_car		StructQBKey type = unchecked	}$		:i $generic_event_choose$$state$ = $UIstate_customize_character_enter$$Data$ = :s{$force_id$ = $cas_current_appearance$$new_data$ = :s{$is_avatar$ = %i(1)$state_device$ = (~$primary_controller$):s}:s}	:i endfunction]Script character_selection_randomize_avatar 0x922049ed [	:i $UI_SFX$${		StructQBKey ui_type = select		StructQBKey menustate = car	}$		:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i $FormatText$$checksumname$ = $id_checksum$%s("temporary_avatar_%d")$d$ = %GLOBAL%$savegame$$addtostringlookup$ = $true$	:i $CharacterProfileGetStruct$$name$ = %GLOBAL%$id_checksum$$savegame$ = %GLOBAL%$savegame$	:i $change$$cas_current_appearance$ = (%GLOBAL%$profile_struct$->$appearance$)	:i $generate_random_avatar_profile$$name$ = %GLOBAL%$id_checksum$$is_female$ = %GLOBAL%$is_female$$savegame$ = %GLOBAL%$savegame$	:i $CharacterProfileSetStruct$$name$ = %GLOBAL%$id_checksum$$savegame$ = %GLOBAL%$savegame$$profile_struct$ = %GLOBAL%$profile$	:i $change$${		StructStruct cas_current_appearance		{			StructHeader {}		}	}$		:i $cas_queue_new_character_profile$$id$ = %GLOBAL%$id_checksum$$player$ = (~$cas_current_player$)$Instrument$ = $None$$savegame$ = %GLOBAL%$savegame$	:i endfunction]Script character_selection_randomize_car 0x323fc9d6 [	:i $UI_SFX$${		StructQBKey ui_type = select		StructQBKey menustate = car	}$		:i $get_savegame_from_controller$$controller$ = (~$primary_controller$)	:i $FormatText$$checksumname$ = $id_checksum$%s("temporary_car_%d")$d$ = %GLOBAL%$savegame$$addtostringlookup$ = $true$	:i $CharacterProfileGetStruct$$name$ = %GLOBAL%$id_checksum$$savegame$ = %GLOBAL%$savegame$	:i $change$$cas_current_appearance$ = (%GLOBAL%$profile_struct$->$appearance$)	:i $update_temporary_random_car$$is_female$ = %GLOBAL%$is_female$$slot$ = %GLOBAL%$savegame$$savegame$ = %GLOBAL%$savegame$	:i $change$${		StructStruct cas_current_appearance		{			StructHeader {}		}	}$		:i $cas_queue_new_character_profile$$id$ = %GLOBAL%$id_checksum$$player$ = (~$cas_current_player$)$Instrument$ = $None$$savegame$ = %GLOBAL%$savegame$	:i endfunction]Script choose_character_to_edit 0x17fb4705 [	${StructQBKey event = menu_change}$	:i if NOT $GotParam$${StructQBKey no_charsel}$		:i $destroy_character_selection_menu$	:i endif	:i $character_select_num_custom_profiles$.$se_setprops$${StructFloat alpha = 0.00}$	:i if $IsPS3$		:i $hide_glitch$${StructInt num_frames = 9}$	:i endif	:i $cas_edit_character_profile$$character_id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$	:i $change$${StructQBKey cas_editing_new_character = false}$	:i if $GotParam$${StructQBKey state}$		:i $Data$ = :s{%GLOBAL%$Data$$state$ = %GLOBAL%$state$:s}	:i endif	:i $PushDisableRendering$${		StructQBKey context = going_into_car		StructQBKey type = unchecked	}$		:i $ui_event_wait$$event$ = %GLOBAL%$event$$Data$ = :s{$state$ = $UIstate_customize_character_enter$$new_data$ = :s{$state_device$ = (~$primary_controller$):s}:s}	:i endfunction]Script choose_character_to_play 0x797d5293 [	${Unknown [00012400c9428a086969696900000000]}$	:i $hide_glitch$${StructInt num_frames = 12}$	:i $destroy_character_selection_menu$	:i $cas_destroy_all_characters$	:i $cas_get_player$	:i $get_savegame_from_player$$player$ = %GLOBAL%$player$	:i $SetPlayerInfo$%GLOBAL%$player$$character_id$ = %GLOBAL%$character_id$	:i $SetPlayerInfo$%GLOBAL%$player$$character_savegame$ = %GLOBAL%$savegame$	:i $SetPlayerInfo$%GLOBAL%$player$$stored_character_index$ = %i(0)	:i $globaltag_set_career_band_leader_choice$$savegame$ = %GLOBAL%$savegame$$character_id$ = %GLOBAL%$character_id$	:i $SetPlayerInfo$${		StructInt 1		StructInt controller = 0	}$		:i $SetPlayerInfo$${		StructInt 2		StructInt controller = 1	}$		:i $SetPlayerInfo$${		StructInt 3		StructInt controller = 2	}$		:i $SetPlayerInfo$${		StructInt 4		StructInt controller = 3	}$		:i $change$${StructQBKey g_lobby_state = quickplay}$	:i $change$${StructInt g_lobby_enter_from_main_menu = 1}$	:i $SetGlobalTags$$savegame$ = %GLOBAL%$savegame$$user_options$$params$ = :s{$quickplay_did_first_time_in$ = %i(1):s}	:i $ui_event_wait$$event$ = $menu_replace$$Data$ = :s{$state$ = $uistate_band_lobby$$device_num$ = %GLOBAL%$device_num$:s}	:i endfunction]Script check_character_vmenu_flag 0x3714b472 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				character_id			]		}		StructQBKey all	}$		:i if $getsingletag$${StructQBKey last_character_focused}$		:i if (%GLOBAL%$character_id$ = %GLOBAL%$last_character_focused$)			:i $printf$${StructString 0x00000000 = "Hack to get round the poxy barrel menu firing off two focus events"}$			:i return ${StructQBKey false}$		:i endif	:i endif	:i $settags$$last_character_focused$ = %GLOBAL%$character_id$	:i return ${StructQBKey true}$	:i endfunction]Script change_character_focus adedde77 [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				character_id				id				vmenu			]		}		StructQBKey all	}$		:i $CharacterProfileGetStruct$$name$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$	:i $can_reset$ = %i(1)	:i if $is_completely_custom_musician$$id$ = %GLOBAL%$character_id$		:i $can_reset$ = %i(0)	:i elseif $is_avatar_appearance$$appearance$ = (%GLOBAL%$profile_struct$->$appearance$)		:i $can_reset$ = %i(0)	:i elseif NOT $profile_can_be_modified$$id$ = %GLOBAL%$character_id$		:i $can_reset$ = %i(0)	:i endif	:i if (%GLOBAL%$can_reset$ = %i(1))		:i if NOT $has_custom_rocker_been_modified$$id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$			:i $can_reset$ = %i(0)		:i endif	:i endif	:i if NOT %GLOBAL%$vmenu$.$check_character_vmenu_flag$$character_id$ = %GLOBAL%$character_id$		:i $skip_rebuild$ = %i(1)	:i endif	:i $character_selection_focus$$id$ = %GLOBAL%$id$	:i $set_charselect_previous_character_id$$id$ = %GLOBAL%$character_id$	:i if $is_completely_custom_musician$$id$ = %GLOBAL%$character_id$		:i $character_select_num_custom_profiles$.$se_setprops$${StructFloat alpha = 1.00}$		:i $cleanup_character_select_handlers$		:i $SetScreenElementProps$:s{			:i $id$ = $create_character_selection_vmenu$			:i $event_handlers$ = 			:i :a{				:i :s{$pad_option$$character_select_delete_character$$params$ = :s{$character_id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$:s}:s}				:i :s{$pad_option$$UI_SFX$$params$ = :s{$menustate$ = $generic$$uitype$ = $warningmessage$:s}:s}				:i :s{$pad_l1$$NullScript$:s}			:i :a}			:i $replace_handlers$		:i :s}		:i $clean_up_user_control_helpers$		:i $add_user_control_helper$${			StructQBStringQs text = c18d5e76			StructQBKey button = green			StructInt z = 100000		}$				:i $add_user_control_helper$${			StructQBStringQs text = af4d5dd2			StructQBKey button = red			StructInt z = 100000		}$				:i if NOT $GotParam$${StructQBKey from_main_menu}$			:i $add_user_control_helper$${				StructQBStringQs text = 0x57a22b82				StructQBKey button = yellow				StructInt z = 100000			}$					:i endif		:i $add_user_control_helper$${			StructQBStringQs text = 0x271a1633			StructQBKey button = blue			StructInt z = 100000		}$			:i else 		:i $character_select_num_custom_profiles$.$se_setprops$${StructFloat alpha = 0.00}$		:i if $profile_can_be_modified$$id$ = %GLOBAL%$character_id$			:i if (%GLOBAL%$can_reset$ = %i(1))				:i if $GotParam$${StructQBKey from_main_menu}$					:i %GLOBAL%$pad$ = $pad_option2$				:i else 					:i %GLOBAL%$pad$ = $pad_l1$				:i endif				:i $SetScreenElementProps$:s{					:i $id$ = $create_character_selection_vmenu$					:i $event_handlers$ = 					:i :a{						:i :s{%GLOBAL%$pad$$ui_event$$params$ = :s{								:i $event$ = $menu_change$								:i $Data$ = :s{									:i $state$ = $UIstate_generic_dialog_box$									:i $is_popup$									:i $heading_text$ = ^[ca83309b]^									:i $body_text$ = ^[99035772]^									:i $confirm_func$ = $reset_preset_character$									:i $confirm_func_params$ = :s{$character_id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$:s}									:i $cancel_func$ = $ui_character_select_return$								:i :s}							:i :s}						:i :s}						:i :s{%GLOBAL%$pad$$UI_SFX$$params$ = :s{$menustate$ = $car$$uitype$ = $select$:s}:s}						:i :s{$pad_option$$NullScript$:s}					:i :a}					:i $replace_handlers$				:i :s}			:i else 				:i $cleanup_character_select_handlers$			:i endif		:i else 			:i $cleanup_character_select_handlers$		:i endif		:i $clean_up_user_control_helpers$		:i if $GotParam$${StructQBKey from_main_menu}$			:i if $profile_can_be_modified$$id$ = %GLOBAL%$character_id$				:i $add_user_control_helper$${					StructQBStringQs text = c18d5e76					StructQBKey button = green					StructInt z = 100000				}$							:i endif		:i else 			:i $add_user_control_helper$${				StructQBStringQs text = c18d5e76				StructQBKey button = green				StructInt z = 100000			}$					:i endif		:i $add_user_control_helper$${			StructQBStringQs text = af4d5dd2			StructQBKey button = red			StructInt z = 100000		}$				:i if $profile_can_be_modified$$id$ = %GLOBAL%$character_id$			:i if $GotParam$${StructQBKey from_main_menu}$				:i %GLOBAL%$instrument_button$ = $yellow$				:i %GLOBAL%$pad_button$ = $yellow$			:i else 				:i $add_user_control_helper$${					StructQBStringQs text = 0x57a22b82					StructQBKey button = yellow					StructInt z = 100000				}$								:i %GLOBAL%$instrument_button$ = $orange$				:i %GLOBAL%$pad_button$ = $lb$			:i endif			:i %GLOBAL%$controller$ = (~$primary_controller$)			:i if (%GLOBAL%$can_reset$ = %i(1))				:i if (($IsGuitarController$$controller$ = %GLOBAL%$controller$) OR ($IsDrumController$$controller$ = %GLOBAL%$controller$))					:i $add_user_control_helper$$text$ = ^[38ee4773]^$button$ = %GLOBAL%$instrument_button$$z$ = %i(100000)				:i else 					:i $add_user_control_helper$$text$ = ^[38ee4773]^$button$ = %GLOBAL%$pad_button$$z$ = %i(100000)				:i endif			:i endif		:i endif	:i endif	:i if NOT $GotParam$${StructQBKey from_main_menu}$		:i if $profile_can_be_modified$$id$ = %GLOBAL%$character_id$			:i $SetScreenElementProps$:s{				:i $id$ = $create_character_selection_vmenu$				:i $event_handlers$ = :a{					:i :s{$pad_option2$$UI_SFX$$params$ = :s{$menustate$ = $car$$uitype$ = $select$:s}:s}					:i :s{$pad_option2$$choose_character_to_edit$$params$ = :s{$character_id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$:s}:s}				:i :a}				:i $replace_handlers$			:i :s}		:i endif	:i endif	:i if NOT $GotParam$${StructQBKey skip_rebuild}$		:i $cas_queue_add_request$$appearance$ = (%GLOBAL%$profile_struct$->$appearance$)$player$ = (~$cas_current_player$)$Instrument$ = $None$	:i endif	:i endfunction]Script character_select_delete_character f9e003a9 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				character_id				savegame			]		}		StructQBKey all	}$		:i if $ScreenElementExists$${StructQBKey id = create_character_selection_vmenu}$		:i $LaunchEvent$${			StructQBKey type = unfocus			StructQBKey target = create_character_selection_vmenu		}$				:i $create_character_selection_vmenu$.$se_setprops$${StructQBKey block_events}$	:i endif	:i $ui_event_wait$$event$ = $menu_change$$Data$ = :s{		:i $state$ = $UIstate_generic_dialog_box$		:i $is_popup$		:i $heading_text$ = ^[305859e8]^		:i $body_text$ = ^[bfc216cf]^		:i $confirm_func$ = $delete_character_profile$		:i $confirm_func_params$ = :s{$character_id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$:s}		:i $cancel_func$ = $ui_character_select_return$	:i :s}	:i endfunction]Script ui_character_select_return 0x832beeb6 [	:i $SpawnScript$${StructQBKey ui_character_select_return_spawned}$	:i endfunction]Script ui_character_select_return_spawned 0x3e375a0f [	:i $ui_event$${StructQBKey event = menu_back}$	:i $ui_event_wait$${StructQBKey event = menu_refresh}$	:i endfunction]Script change_character_unfocus 0x8f080c7d [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				id			]		}		StructQBKey all	}$		:i $character_selection_unfocus$$id$ = %GLOBAL%$id$	:i endfunction]Script character_select_back_out 0x759b1336 [	:i if $ScriptIsRunning$${StructQBKey ui_create_character_selection}$		:i return 	:i endif	:i $hide_glitch$${StructInt num_frames = 6}$	:i $create_mainmenu_bg$${StructInt z_priority = 1000000}$	:i $play_cameracut$${StructString prefix = "cameras_no_band"}$	:i $set_cas_loading_setup$${StructQBKey setup = hidden}$	:i $cleanup_charselect_ui$	:i $ui_event_add_params$${StructInt backed_out_safely = 1}$	:i $change$${StructInt in_character_select = 0}$	:i $persistent_band_force_create_and_wait$${StructQBKey no_wait}$	:i $generic_event_back$${		StructQBKey nosound		StructQBKey state = uistate_mainmenu	}$		:i endfunction]Script delete_character_profile 0x767d2e62 [	:i $cas_destroy_all_characters$	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				character_id				savegame			]		}		StructQBKey all	}$		:i $delete_custom_profile$$id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$	:i $cas_get_player$	:i if NOT $CharacterProfileExists$$name$ = (~$g_charselect_previous_character_id$)$savegame$ = %GLOBAL%$savegame$		:i $set_charselect_previous_character_id$$id$ = %GLOBAL%$character_id$	:i endif	:i $ui_memcard_autosave_replace$$event$ = $menu_back$$state$ = $uistate_character_selection$$Data$ = :s{$savegame$ = %GLOBAL%$savegame$$deleted_car$ = %i(1):s}	:i endfunction]Script reset_preset_character 0x0dd2811d [	:i $cas_destroy_all_characters$	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				character_id			]		}		StructQBKey all	}$		:i $restore_custom_musician_parts$$id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$	:i if (~$cas_started_from$ !== $main_menu$)		:i $cas_queue_new_character_profile$$player$ = (~$cas_current_player$)$id$ = %GLOBAL%$character_id$$savegame$ = %GLOBAL%$savegame$	:i endif	:i $ui_memcard_autosave_replace$$event$ = $menu_back$$state$ = $uistate_character_selection$$Data$ = :s{$savegame$ = %GLOBAL%$savegame$:s}	:i endfunction]Script cleanup_character_select_handlers 0x456ba0c5 [	:i if $ScreenElementExists$${StructQBKey id = create_character_selection_vmenu}$		:i $SetScreenElementProps$${			StructQBKey id = create_character_selection_vmenu			StructArray event_handlers			{				ArrayStruct				[					StructHeader					{						StructQBKey pad_option						StructQBKey NullScript					}					StructHeader					{						StructQBKey pad_l1						StructQBKey NullScript					}					StructHeader					{						StructQBKey pad_option2						StructQBKey NullScript					}				]			}			StructQBKey replace_handlers		}$			:i endif	:i $clean_up_user_control_helpers$	:i endfunction]Script new_custom_char_focus 0x528f2416 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				vmenu			]		}		StructQBKey all	}$		:i if NOT %GLOBAL%$vmenu$.$check_character_vmenu_flag$$character_id$ = $cas_current_appearance$		:i $printf$${StructString 0x00000000 = "new_custom_char_focus - already have the appearance"}$		:i return 	:i endif	:i if NOT $GotParam$${StructQBKey deleted_car}$		:i if $ScriptIsRunning$${StructQBKey ui_create_character_selection}$			:i if (~$g_charselect_previous_character_id$ !== $None$)				:i $printf$${StructString 0x00000000 = "new_custom_char_focus: Preventing during creation"}$				:i return 			:i endif		:i endif	:i endif	:i $set_charselect_previous_character_id$${StructQBKey id = None}$	:i $cleanup_character_select_handlers$	:i $character_selection_focus$$id$ = %GLOBAL%$id$	:i $character_select_num_custom_profiles$.$se_setprops$${StructFloat alpha = 1.00}$	:i $FormatText$$checksumname$ = $id_checksum$%s("temporary_car_%d")$d$ = %GLOBAL%$savegame$$addtostringlookup$ = $true$	:i $cas_queue_new_character_profile$$id$ = %GLOBAL%$id_checksum$$player$ = (~$cas_current_player$)$Instrument$ = $None$$savegame$ = %GLOBAL%$savegame$	:i $add_user_control_helper$${		StructQBStringQs text = c18d5e76		StructQBKey button = green		StructInt z = 100000	}$		:i $add_user_control_helper$${		StructQBStringQs text = af4d5dd2		StructQBKey button = red		StructInt z = 100000	}$		:i $add_user_control_helper$${		StructQBStringQs text = ddfe29d4		StructQBKey button = yellow		StructInt z = 100000	}$		:i $add_user_control_helper$${		StructQBStringQs text = cfa30924		StructQBKey button = blue		StructInt z = 100000	}$		:i endfunction]Script new_custom_avatar_focus 0x34fbb9bd [	:i %GLOBAL%$new_char$ = select(2f,2,01 00 01 00) :OFFSET(0):OFFSET(1)	:POS(0) $avatar_male$	:BREAKTO(2) 	:POS(1) $avatar_female$	:POS(2) 	:i if NOT %GLOBAL%$vmenu$.$check_character_vmenu_flag$$character_id$ = %GLOBAL%$new_char$		:i $printf$${StructString 0x00000000 = "new_custom_char_focus - already have the appearance"}$		:i return 	:i endif	:i $change$$cas_current_new_char_type$ = %GLOBAL%$new_char$	:i $set_charselect_previous_character_id$${StructQBKey id = None}$	:i $cleanup_character_select_handlers$	:i $character_selection_focus$$id$ = %GLOBAL%$id$	:i $character_select_num_custom_profiles$.$se_setprops$${StructFloat alpha = 1.00}$	:i $FormatText$$checksumname$ = $id_checksum$%s("temporary_avatar_%d")$d$ = %GLOBAL%$savegame$$addtostringlookup$ = $true$	:i $cas_queue_new_character_profile$$id$ = %GLOBAL%$id_checksum$$player$ = (~$cas_current_player$)$Instrument$ = $None$$savegame$ = %GLOBAL%$savegame$	:i $add_user_control_helper$${		StructQBStringQs text = c18d5e76		StructQBKey button = green		StructInt z = 100000	}$		:i $add_user_control_helper$${		StructQBStringQs text = af4d5dd2		StructQBKey button = red		StructInt z = 100000	}$		:i $add_user_control_helper$${		StructQBStringQs text = ddfe29d4		StructQBKey button = yellow		StructInt z = 100000	}$		:i $add_user_control_helper$${		StructQBStringQs text = cfa30924		StructQBKey button = blue		StructInt z = 100000	}$		:i endfunction]Script display_character_logic ca0df14f [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				savegame				profile_struct				part			]		}		StructQBKey all	}$		:i if NOT $GotParam$${StructQBKey from_main_menu}$		:i if NOT $is_allowed_part$$profile_struct$ = %GLOBAL%$profile_struct$$part$ = %GLOBAL%$part$			:i if $GotParam$${StructQBKey bandplay}$				:i if (%GLOBAL%$part$ = $guitar$)					:i if NOT $is_allowed_part$$profile_struct$ = %GLOBAL%$profile_struct$$part$ = $Bass$						:i return ${StructQBKey false}$					:i endif				:i else 					:i return ${StructQBKey false}$				:i endif			:i else 				:i return ${StructQBKey false}$			:i endif		:i endif	:i endif	:i if $CharacterProfileGetCategory$$name$ = (%GLOBAL%$profile_struct$->$name$)		:i if ((%GLOBAL%$profile_category$ = $temporary$) OR (%GLOBAL%$profile_category$ = $debug$))			:i return ${StructQBKey false}$		:i endif	:i endif	:i if NOT $IsAvatarSystemInitialized$		:i if $is_avatar_appearance$$appearance$ = (%GLOBAL%$profile_struct$->$appearance$)			:i return ${StructQBKey false}$		:i endif	:i endif	:i if $is_profile_unlocked$$savegame$ = %GLOBAL%$savegame$$profile_struct$ = %GLOBAL%$profile_struct$		:i if $is_selectable_profile$$profile_struct$ = %GLOBAL%$profile_struct$			:i if NOT $GotParam$${StructQBKey from_main_menu}$				:i return ${StructQBKey true}$			:i else 				:i if $profile_can_be_modified$$id$ = (%GLOBAL%$profile_struct$->$name$)					:i return ${StructQBKey true}$				:i else 					:i return ${StructQBKey false}$				:i endif			:i endif		:i else 			:i return ${StructQBKey false}$		:i endif	:i endif	:i endfunction]Script get_avatar_bio 0x26e0ec31 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				gamertag			]		}		StructQBKey all	}$		:i $FormatText$$textname$ = $blurb$^[80d8a4fe]^$g$ = %GLOBAL%$gamertag$	:i return $bio$ = %GLOBAL%$blurb$	:i endfunction]Script get_created_avatar_bio da424167 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				profile_struct			]		}		StructQBKey all	}$		:i if $IsAvatarFemale$$avatar_meta_data$ = ((%GLOBAL%$profile_struct$->$appearance$->$CAS_Full_Body$)->$avatar_meta_data$)		:i $FormatText$$textname$ = $blurb$^[cb4b4213]^$f$ = (%GLOBAL%$profile_struct$->$fullname$)	:i else 		:i $FormatText$$textname$ = $blurb$^[f551e068]^$f$ = (%GLOBAL%$profile_struct$->$fullname$)	:i endif	:i return $bio$ = %GLOBAL%$blurb$	:i endfunction]Script set_charselect_previous_character_id d68d3733 [	${Unknown [0001260040c698af6969696900000000]}$	:i $printscriptinfo$%s("charselect_previous_character_id %s")$s$ = %GLOBAL%$id$	:i $change$$g_charselect_previous_character_id$ = %GLOBAL%$id$	:i endfunction]Script hack_stop_ampzilla a97c88e5 [	:i if $ScriptExists$${StructQBKey Z_Credits_Ampzilla_stopanimate}$		:i $Z_Credits_Ampzilla_stopanimate$		:i $z_credits_TRG_Geo_Ampzilla$.$Anim_ForceToDefaultPose$${StructQBKey default_anim_name = gh6_rocker_ampzilla_default}$		:i $z_credits_TRG_Geo_AmpzillaSoft$.$Anim_ForceToDefaultPose$${StructQBKey default_anim_name = gh6_rocker_ampzilla_default}$	:i endif	:i endfunction]Script hack_start_ampzilla 0x21798d6f [	:i if $ScriptExists$${StructQBKey Z_Credits_Ampzilla_animate}$		:i $Z_Credits_Ampzilla_animate$	:i endif	:i endfunction]