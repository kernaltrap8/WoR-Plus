Unknown [1c0000000000000000000d5c0000000000000000]Script ui_create_character_face_deformation_options d89bf059 [	:i $printstruct$ isNull 	:i $ui_event_add_params$$hist_tex$ = %GLOBAL%$hist_tex$	:i if NOT $GetCASAppearancePart$${StructQBKey part = cas_body}$		:i $scriptassert$${			StructString 0x00000000 = "%s not found"			StructQBKey s = cas_body		}$			:i endif	:i if NOT $GetActualCASOptionStruct$$part$ = $cas_body$$desc_id$ = %GLOBAL%$desc_id$		:i $scriptassert$%s("%s %t not found")$s$ = $cas_body$$t$ = %GLOBAL%$desc_id$	:i endif	:i $make_generic_car_menu$:s{		:i $vmenu_id$ = $create_character_face_deformation_options_vmenu$		:i $Title$ = %GLOBAL%$text$		:i $exclusive_device$ = %GLOBAL%$state_device$		:i $show_history$	:i :s}	:i $setup_cas_menu_handlers$$vmenu_id$ = $create_character_face_deformation_options_vmenu$$camera_list$ = :a{%s("customize_character_head")%s("customize_character_head_R")%s("customize_character_head_B")%s("customize_character_head_L"):a}$zoom_camera$ = %s("customize_character_Zoom")$controller$ = %GLOBAL%$state_device$	:i $GetArraySize$${StructQBKey option_array}$	:i $i$ = %i(0)	:i while 	:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$bonemenu$		:i if $find_bone_deform_info$$deform_bones$ = (%GLOBAL%$deform_bones$)$group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$)			:i $RemoveParameter$${StructQBKey invert}$			:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$invert$				:i $invert$ = :s{$invert$:s}			:i endif			:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$icon_rot$				:i $icon_rot$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$icon_rot$)			:i else 				:i $RemoveParameter$${StructQBKey icon_rot}$			:i endif			:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$icon$				:i $cas_get_bone_slider_value$$part$ = $cas_body$$group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$)				:i $FormatText$$checksumname$ = $widget_id$%s("widget_%i")$i$ = %GLOBAL%$i$				:i %GLOBAL%$set_up_down$ = $true$				:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$pad_direction$					:i if (((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$pad_direction$) = $horiz$)						:i %GLOBAL%$set_up_down$ = $false$						:i %GLOBAL%$pad_left_script$ = $update_bone_deformation$						:i %GLOBAL%$pad_left_params$ = :s{$part$ = $cas_body$$group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$):s}						:i %GLOBAL%$pad_right_script$ = $update_bone_deformation$						:i %GLOBAL%$pad_right_params$ = :s{$part$ = $cas_body$$group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$):s}						:i $RemoveParameter$${StructQBKey pad_up_script}$						:i $RemoveParameter$${StructQBKey pad_up_params}$						:i $RemoveParameter$${StructQBKey pad_down_script}$						:i $RemoveParameter$${StructQBKey pad_down_params}$					:i endif				:i endif				:i if (%GLOBAL%$set_up_down$ = $true$)					:i %GLOBAL%$pad_up_script$ = $update_bone_deformation$					:i %GLOBAL%$pad_up_params$ = :s{$part$ = $cas_body$$group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$):s}					:i %GLOBAL%$pad_down_script$ = $update_bone_deformation$					:i %GLOBAL%$pad_down_params$ = :s{$part$ = $cas_body$$group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$):s}					:i $RemoveParameter$${StructQBKey pad_left_script}$					:i $RemoveParameter$${StructQBKey pad_left_params}$					:i $RemoveParameter$${StructQBKey pad_right_script}$					:i $RemoveParameter$${StructQBKey pad_right_params}$				:i endif				:i $button_widget_add_item$:s{					:i $widget_id$ = %GLOBAL%$widget_id$					:i $text$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$)					:i $button_icon$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$icon$)					:i $min$ = %GLOBAL%$min_slider$					:i $max$ = %GLOBAL%$max_slider$					:i $start_value$ = %GLOBAL%$slider$					:i $step$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$step$)					:i $pad_up_script$ = %GLOBAL%$pad_up_script$					:i $pad_up_params$ = %GLOBAL%$pad_up_params$					:i $pad_down_script$ = %GLOBAL%$pad_down_script$					:i $pad_down_params$ = %GLOBAL%$pad_down_params$					:i $pad_left_script$ = %GLOBAL%$pad_left_script$					:i $pad_left_params$ = %GLOBAL%$pad_left_params$					:i $pad_right_script$ = %GLOBAL%$pad_right_script$					:i $pad_right_params$ = %GLOBAL%$pad_right_params$					:i $fill_type$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$fill_type$)					:i $icon_rot$ = %GLOBAL%$icon_rot$					:i %GLOBAL%$invert$					:i $init_helper_text$ = :s{$car_helper_text$:s}					:i $deinit_helper_text$ = :s{$car_helper_text_extra$:s}					:i $deinit_script$ = $widget_restore_cap$					:i $accept_script$ = $widget_accept_cap$					:i $init_script$ = $widget_init_cap$					:i $camera_list$ = :a{%s("customize_character_head")%s("customize_character_head_R")%s("customize_character_head_B")%s("customize_character_head_L"):a}					:i $zoom_camera$ = %s("customize_character_Zoom")				:i :s}			:i else 				:i $cas_create_bonemenu_slider$:s{					:i $deform_info$ = %GLOBAL%$bone_deform_info$					:i $part$ = $cas_body$					:i $pad_back_script$ = $ui_event$					:i $pad_back_params$ = :s{$event$ = $menu_back$:s}				:i :s}			:i endif		:i endif	:i endif	:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$capmenu$		:i if $is_part_capable$${StructQBKey part = cas_body}$			:i if $get_section_index_from_desc_id$$part$ = $cas_body$$target_desc_id$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$desc_id$)				:i $add_car_menu_text_item$:s{					:i $icon$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$hist_tex$)					:i $text$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$)					:i $choose_state$ = $UIstate_cap_artist_layer_popout$					:i $choose_state_data$ = :s{$part$ = $cas_body$$text$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$)$section_index$ = %GLOBAL%$section_index$$hist_tex$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$hist_tex$)$is_popup$$camera_list$ = :a{%s("customize_character_head")%s("customize_character_head_R")%s("customize_character_head_B")%s("customize_character_head_L"):a}$zoom_camera$ = %s("customize_character_Zoom"):s}				:i :s}			:i endif		:i endif	:i endif	:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$replacemenu$		:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$stance$			:i $stance$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$stance$)		:i endif		:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$return_stance$			:i $return_stance$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$return_stance$)		:i endif		:i $add_car_menu_icon_item$:s{			:i $icon$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$hist_tex$)			:i $text$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$)			:i $choose_state$ = $UIstate_popout_select_part$			:i $choose_state_data$ = :s{				:i $text$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$)				:i $part$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$part$)				:i $is_popup$				:i $bonemenu_popup$ = $cas_body$				:i $hist_tex$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$hist_tex$)				:i $stance$ = %GLOBAL%$stance$				:i $return_stance$ = %GLOBAL%$return_stance$				:i $camera_list$ = :a{%s("customize_character_head")%s("customize_character_head_R")%s("customize_character_head_B")%s("customize_character_head_L"):a}$zoom_camera$ = %s("customize_character_Zoom")			:i :s}		:i :s}	:i endif	:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$materialmenu$		:i $add_car_menu_icon_item$:s{			:i $icon$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$hist_tex$)			:i $text$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$)			:i $choose_state$ = $UIstate_cas_color_edit$			:i $choose_state_data$ = :s{				:i $text$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$)				:i $part$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$part$)				:i $camera_list$ = :a{%s("customize_character_head")%s("customize_character_head_R")%s("customize_character_head_B")%s("customize_character_head_L"):a}$zoom_camera$ = %s("customize_character_Zoom")				:i $part_materials$ = :a{:s{$desc_id$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$desc_id$)$frontend_desc$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$text$):s}:a}				:i $num_states$ = %i(1)				:i $num_icons$ = %i(1)				:i $hist_tex$ = $Fingernails$				:i $color_wheel$ = (~$hair_colorwheel$)				:i $stance$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$stance$)				:i $return_stance$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$return_stance$)			:i :s}		:i :s}	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $add_car_menu_icon_item$:s{		:i $icon$ = $widget_default$		:i $text$ = ^[fb546d37]^		:i $pad_choose_script$ = $restore_group_defaults$		:i $pad_choose_params$ = :s{$option_array$ = %GLOBAL%$option_array$$deform_bones$ = %GLOBAL%$deform_bones$$part$ = $cas_body$:s}		:i $pad_choose_sound$ = $audio_null_sound$	:i :s}	:i $menu_finish$$car_helper_text_back$$controller$ = %GLOBAL%$state_device$	:i endfunction]Script ui_return_character_face_deformation_options d5887bba [	:i $menu_finish$$car_helper_text_back$$controller$ = %GLOBAL%$state_device$	:i endfunction]Script ui_destroy_character_face_deformation_options db20bd65 [	:i $destroy_generic_menu$	:i endfunction]Script ui_init_character_face_deformation_options dd90ef15 [	:i $cas_bonemenu_begin$${StructQBKey part = cas_body}$	:i $PushTemporaryCASAppearance$	:i endfunction]Script ui_deinit_character_face_deformation_options 0x27e3bc06 [	:i $cas_bonemenu_exit$${StructQBKey part = cas_body}$	:i $PopTemporaryCASAppearance$	:i endfunction]Script restore_group_defaults ca0fa19c [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				option_array			]		}		StructQBKey all	}$		:i $PushUnsafeForShutdown$${StructQBKey context = restore_group_defaults}$	:i if NOT $GetCASAppearancePart$$part$ = %GLOBAL%$part$		:i $scriptassert$%s("%s not found")$s$ = %GLOBAL%$part$$DoNotResolve$	:i endif	:i $cas_get_gender$	:i if $StructureContains$$structure$ = (~$cas_current_appearance$)$presets$		:i if $StructureContains$$structure$ = ((~$cas_current_appearance$)->$presets$)$car_presets_original_face$			:i %GLOBAL%$preset_index$ = ((((~$cas_current_appearance$)->$presets$)->$car_presets_original_face$)->$index$)			:i %GLOBAL%$face_preset$ = ((~$car_presets_face$->%GLOBAL%$gender$):a{%GLOBAL%$preset_index$:a})		:i endif	:i endif	:i if (%GLOBAL%$gender$ = $Male$)		:i $default_preset_profile$ = :s{			:i $CAS_Eyes$ = :s{$desc_id$ = $CAR_Blue_Eyes$:s}			:i $CAS_Male_Eyebrows$ = :s{$desc_id$ = $CAR_Default_Brow$:s}		:i :s}	:i else 		:i $default_preset_profile$ = :s{			:i $CAS_Eyes$ = :s{$desc_id$ = $CAR_Blue_Eyes$:s}			:i $CAS_Female_Eyebrows$ = :s{$desc_id$ = $CAR_Default_Brow$:s}		:i :s}	:i endif	:i if $GotParam$${StructQBKey face_preset}$		:i $default_preset_profile$ = :s{%GLOBAL%$default_preset_profile$%GLOBAL%$face_preset$:s}	:i endif	:i $preset_body_bones$ = :s{:s}	:i if $StructureContains$$structure$ = %GLOBAL%$default_preset_profile$$cas_body$		:i if $StructureContains$$structure$ = (%GLOBAL%$default_preset_profile$->$cas_body$)$bones$			:i $preset_body_bones$ = ((%GLOBAL%$default_preset_profile$->$cas_body$)->$bones$)		:i endif	:i endif	:i $cas_bonemenu_exit$${StructQBKey part = cas_body}$	:i if NOT $GotParam$${StructQBKey bones}$		:i $bones$ = :s{:s}	:i endif	:i $SoundEvent$${StructQBKey event = Audio_UI_CAR_Reset}$	:i $GetArraySize$${StructQBKey option_array}$	:i $i$ = %i(0)	:i while 	:i if $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$group_name$		:i $this_group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$)		:i if $StructureContains$$structure$ = $bones$$name$ = %GLOBAL%$this_group_name$			:i $RemoveComponent$$structure_name$ = $bones$$name$ = %GLOBAL%$this_group_name$		:i endif		:i if $StructureContains$$structure$ = %GLOBAL%$preset_body_bones$%GLOBAL%$this_group_name$			:i $AddParam$$structure_name$ = $bones$$name$ = %GLOBAL%$this_group_name$$value$ = (%GLOBAL%$preset_body_bones$->%GLOBAL%$this_group_name$)		:i endif	:i elseif $StructureContains$$structure$ = (%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})$part$		:i $this_part_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$part$)		:i if $ChecksumEquals$$a$ = %GLOBAL%$this_part_name$$b$ = $CAS_Eyes$			:i $set_preset_default_part$$part$ = $CAS_Eyes$$default_preset_profile$ = %GLOBAL%$default_preset_profile$$remove_material_color$ = $Eyes$			:i $rebuild_model$ = %i(1)		:i elseif $ChecksumEquals$$a$ = %GLOBAL%$this_part_name$$b$ = $CAS_Eyebrows$			:i $set_preset_default_part$$part$ = $CAS_Eyebrows$$default_preset_profile$ = %GLOBAL%$default_preset_profile$$remove_material_color$ = $Eyebrows$			:i $rebuild_model$ = %i(1)		:i endif	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i if $GotParam$${StructQBKey rebuild_model}$		:i $RebuildCurrentCASModel$	:i endif	:i $cas_bonemenu_begin$${StructQBKey part = cas_body}$	:i $SetCASAppearanceBones$$part$ = %GLOBAL%$part$$bones$ = %GLOBAL%$bones$	:i $cas_bonemenu_apply_changes$	:i $GetArraySize$${StructQBKey option_array}$	:i $i$ = %i(0)	:i while 	:i if $StructureContains$$structure$ = ((%GLOBAL%$option_array$):a{%GLOBAL%$i$:a})$bonemenu$		:i $FormatText$$checksumname$ = $widget_id$%s("widget_%i")$i$ = %GLOBAL%$i$		:i $cas_get_bone_slider_value$$part$ = $cas_body$$group_name$ = ((%GLOBAL%$option_array$:a{%GLOBAL%$i$:a})->$group_name$)		:i $button_widget_set_value$$widget_id$ = %GLOBAL%$widget_id$$new_value$ = %GLOBAL%$slider$	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $PopUnsafeForShutdown$${StructQBKey context = restore_group_defaults}$	:i endfunction]Script set_preset_default_part 0x25c06a39 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				default_preset_profile			]		}		StructQBKey all	}$		:i $ResolveBodySpecificPartInAppearance$$part$ = %GLOBAL%$part$	:i if $StructureContains$$structure$ = %GLOBAL%$default_preset_profile$%GLOBAL%$part$		:i $EditCASAppearance$:s{			:i $target$ = $setpart$			:i $targetParams$ = :s{$part$ = %GLOBAL%$part$(%GLOBAL%$default_preset_profile$->%GLOBAL%$part$):s}		:i :s}	:i endif	:i if $GotParam$${StructQBKey remove_material_color}$		:i $chosen_materials$ = :s{:s}		:i if $StructureContains$$structure$ = ((~$cas_current_appearance$)->$cas_body$)$chosen_materials$			:i $chosen_materials$ = :s{%GLOBAL%$chosen_materials$(((~$cas_current_appearance$)->$cas_body$)->$chosen_materials$):s}		:i endif		:i $RemoveComponent$$structure_name$ = $chosen_materials$$name$ = %GLOBAL%$remove_material_color$		:i %GLOBAL%$str$ = ((~$cas_current_appearance$)->$cas_body$)		:i $AppendStruct$$struct$ = $cas_current_appearance$$field$ = $cas_body$$params$ = :s{%GLOBAL%$str$$chosen_materials$ = %GLOBAL%$chosen_materials$:s}$globalstruct$	:i endif	:i endfunction]Script update_bone_deformation 0x5476835d [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				group_name			]		}		StructQBKey all	}$		:i $GetCASAppearancePart$$part$ = %GLOBAL%$part$	:i if NOT $GotParam$${StructQBKey bones}$		:i $bones$ = :s{:s}	:i endif	:i $UpdateStructElement$$struct$ = %GLOBAL%$bones$$element$ = %GLOBAL%$group_name$$value$ = %GLOBAL%$value$	:i $SetCASAppearanceBones$$part$ = %GLOBAL%$part$$bones$ = %GLOBAL%$newstruct$	:i if $GotParam$${StructQBKey rebuild}$		:i $RebuildCurrentCASModel$	:i else 		:i $UpdateCurrentCASModel$$buildscript$ = $modelbuilder_update_reskins$$buildscriptparams$ = :s{$kill_objects$ = %GLOBAL%$kill_objects$:s}	:i endif	:i endfunction]