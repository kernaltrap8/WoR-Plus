Unknown [1c0000000000000000001a7c0000000000000000]SectionInteger g_sss_highlighted_index 0SectionQBKey default_section_rgba GH6_goldSectionQBKey default_section_focus_rgba whiteSectionInteger song_section_preview_ready 1Script ui_create_select_song_section 0x8b43a90b [	${StructInt from_in_game = 0}$	:i $change$${StructInt g_sss_highlighted_index = 0}$	:i $gamemode_gettype$	:i $create_mainmenu_bg$	:i $hide_band$	:i $hide_crowd_models$	:i if $GotParam$${StructQBKey Data}$		:i if $StructureContains$$structure$ = %GLOBAL%$Data$$from_in_game$			:i $from_in_game$ = (%GLOBAL%$Data$->$from_in_game$)		:i endif	:i endif	:i $pad_back_script$ = $ui_select_song_section_back$	:i $disable_pause$	:i if (%GLOBAL%$from_in_game$ = %i(1))		:i $startrendering$	:i else 		:i $UnPauseGame$	:i endif	:i if NOT (~$game_mode$ = $practice$)		:i if (%GLOBAL%$from_in_game$ = %i(0))			:i $change$${StructQBKey came_to_practice_from = main_menu}$		:i endif	:i endif	:i $audio_ui_menu_music_off$	:i $end_practice_song_slomo$	:i $CreateScreenElement$:s{		:i $parent$ = $root_window$		:i $type$ = $descinterface$		:i $id$ = $SongSectionDesc$		:i $desc$ = %s("select_song_section_desc")		:i $tags$ = :s{$monitor_spawned$ = %i(0)$from_in_game$ = %GLOBAL%$from_in_game$:s}		:i $z_priority$ = %i(10000)	:i :s}	:i $change$${StructInt song_section_preview_ready = 0}$	:i $SongSectionDesc$.$obj_spawnscript$${StructQBKey ui_select_song_section_wait_for_preview}$	:i $focus2_script$ = $ui_select_song_section_preview$	:i $spawnsongpreview$ = %i(0)	:i if $SongSectionDesc$.$desc_resolvealias$${StructQBKey name = alias_menu}$		:i $AssignAlias$$id$ = %GLOBAL%$resolved_id$$alias$ = $current_menu$		:i $current_menu$.$se_setprops$:s{			:i $allow_wrap$ = $false$			:i $exclusive_device$ = (~$primary_controller$)			:i $event_handlers$ = :a{				:i :s{$pad_up$$ui_select_song_section_play_sound$$params$ = :s{$up$:s}:s}				:i :s{$pad_down$$ui_select_song_section_play_sound$$params$ = :s{$down$:s}:s}				:i :s{$pad_back$%GLOBAL%$pad_back_script$:s}			:i :a}			:i $tags$ = :s{				:i $start_index$ = %i(4294967295)				:i $end_index$ = %i(4294967295)				:i $min_index$ = %i(0)				:i $max_entries$ = %i(0)			:i :s}		:i :s}		:i $CreateScreenElement$:s{			:i $parent$ = $current_menu$			:i $type$ = $descinterface$			:i $desc$ = %s("select_song_section_item_desc")			:i $autosizedims$ = $false$			:i $dims$ = %vec2(600.0,40.0)			:i $section_text$ = ^[e1f4baaf]^			:i $section_rgba$ = ~$default_section_rgba$			:i $event_handlers$ = :a{				:i :s{$focus$$ui_select_song_section_focus_item$:s}				:i :s{$focus$%GLOBAL%$focus2_script$:s}				:i :s{$unfocus$$ui_select_song_section_unfocus_item$:s}				:i :s{$pad_choose$$ui_select_song_section_choose_item$$params$ = :s{$from_in_game$ = %GLOBAL%$from_in_game$:s}:s}			:i :a}			:i $tags$ = :s{$playfullsong$$index$ = %i(0)$focus_index$ = %i(0)$strikeout_alpha$ = %i(0)$default_rgba$ = ~$default_section_rgba$:s}		:i :s}		:i $get_song_section_array$		:i $GetArraySize$%GLOBAL%$song_section_array$		:i $marker_array_size$ = %GLOBAL%$array_size$		:i $GetFirstPlayer$		:i $getplayerinfo$%GLOBAL%$player$$part$		:i if (%GLOBAL%$marker_array_size$ > %i(0))			:i $i$ = %i(1)			:i $focus_idx$ = %i(1)			:i while 			:i $ShortenUIString$:s{				:i $ui_string$ = ((%GLOBAL%$song_section_array$:a{(%GLOBAL%$i$ - %i(1)):a})->$marker$)				:i $max_len$ = %i(50)			:i :s}			:i if (%GLOBAL%$short_ui_string$ !== ^[00167369]^ AND 				:i %GLOBAL%$short_ui_string$ !== ^[ed5ba677]^)				:i %GLOBAL%$section_rgba$ = ~$default_section_rgba$				:i if (%GLOBAL%$part$ = $Vocals$)					:i if $LocalizedStringEquals$$a$ = %GLOBAL%$short_ui_string$$b$ = ~$vocal_marker_freeform$						:i %GLOBAL%$section_rgba$ = ~$vocal_marker_freeform_rgba$					:i endif				:i endif				:i if (%GLOBAL%$short_ui_string$ = ^[03ac90f0]^)					:i $short_ui_string$ = ^[4db2ad32]^					:i $section_rgba$ = :a{%i(64)%i(64)%i(255)%i(255):a}				:i endif				:i $CreateScreenElement$:s{					:i $parent$ = $current_menu$					:i $type$ = $descinterface$					:i $desc$ = %s("select_song_section_item_desc")					:i $autosizedims$ = $false$					:i $dims$ = %vec2(600.0,40.0)					:i $section_text$ = %GLOBAL%$short_ui_string$					:i $section_rgba$ = %GLOBAL%$section_rgba$					:i $event_handlers$ = :a{						:i :s{$focus$$ui_select_song_section_focus_item$:s}						:i :s{$focus$%GLOBAL%$focus2_script$:s}						:i :s{$unfocus$$ui_select_song_section_unfocus_item$:s}						:i :s{$pad_choose$$ui_select_song_section_choose_item$$params$ = :s{$from_in_game$ = %GLOBAL%$from_in_game$:s}:s}					:i :a}					:i $tags$ = :s{						:i $index$ = %GLOBAL%$i$						:i $focus_index$ = %GLOBAL%$focus_idx$						:i $default_rgba$ = %GLOBAL%$section_rgba$					:i :s}				:i :s}				:i $focus_idx$ = (%GLOBAL%$focus_idx$ + %i(1))			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$marker_array_size$		:i endif		:i $current_menu$.$settags$$max_entries$ = %GLOBAL%$focus_idx$	:i endif	:i $SongSectionDesc$.$obj_spawnscript$${		StructQBKey ui_select_song_section_preview		StructStruct params		{			StructHeader			{				StructInt index = 0				StructQBKey nowait			}		}	}$		:i $menu_finish$%GLOBAL%$menu_finish_params$	:i $current_menu$.$settags$${StructInt lead_in = 0}$	:i $current_menu$.$settags$${StructInt lead_out = 0}$	:i $SongSectionDesc$.$desc_resolvealias$${StructQBKey name = alias_generic_scrollbar_wgt}$	:i $generic_scrollbar_wgt_initialize$$id$ = %GLOBAL%$resolved_id$	:i $generic_scrollbar_wgt_set_resolution$$id$ = %GLOBAL%$resolved_id$$num_elements$ = (%GLOBAL%$marker_array_size$ + %i(1))	:i $ui_select_song_section_setup_helpers$	:i endfunction]Script ui_select_song_section_setup_helpers 0x2ac8524f [	:i $SongSectionDesc$.$gettags$	:i $current_menu$.$gettags$	:i $clean_up_user_control_helpers$	:i $add_user_control_helper$${		StructQBStringQs text = c18d5e76		StructQBKey button = green		StructInt z = 100000	}$		:i $gamemode_gettype$	:i if (%GLOBAL%$type$ !== $career$)		:i $add_user_control_helper$${			StructQBStringQs text = af4d5dd2			StructQBKey button = red			StructInt z = 100000		}$			:i endif	:i endfunction]Script ui_select_song_section_play_sound acda75f1 [	:i $current_menu$.$gettags$	:i if (%GLOBAL%$start_index$ = %i(4294967295))		:i %GLOBAL%$start_index$ = %i(0)	:i endif	:i if $GotParam$${StructQBKey up}$		:i if (~$g_sss_highlighted_index$ - %i(1) >= %GLOBAL%$start_index$)			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = ScrollUp			}$					:i endif	:i else 		:i if (~$g_sss_highlighted_index$ + %i(1) < %GLOBAL%$max_entries$)			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = ScrollDown			}$					:i endif	:i endif	:i endfunction]Script ui_destroy_select_song_section f49ccae3 [	:i $destroy_mainmenu_bg$	:i $spawnscriptnow$${		StructQBKey destroy_practice_songpreview_spawned		StructStruct params		{			StructHeader			{				StructQBKey unloadsong			}		}	}$		:i $DestroyScreenElement$${StructQBKey id = SongSectionDesc}$	:i $setsoundbussparams$:s{$Vocals_Balance$ = :s{$vol$ = (~$Default_BussSet$->$Vocals_Balance$->$vol$):s}:s}	:i $setsoundbussparams$:s{$Drums_Balance$ = :s{$vol$ = (~$Default_BussSet$->$Drums_Balance$->$vol$):s}:s}	:i $setsoundbussparams$:s{$Guitar_Balance$ = :s{$vol$ = (~$Default_BussSet$->$Guitar_Balance$->$vol$):s}:s}	:i $setsoundbussparams$:s{$Bass_Balance$ = :s{$vol$ = (~$Default_BussSet$->$Bass_Balance$->$vol$):s}:s}	:i $setsoundbussparams$:s{$RhythmGTR_Balance$ = :s{$vol$ = (~$Default_BussSet$->$RhythmGTR_Balance$->$vol$):s}:s}	:i $setsoundbussparams$:s{$Crowd_Balance$ = :s{$vol$ = (~$Default_BussSet$->$Crowd_Balance$->$vol$):s}:s}	:i $setsoundbussparams$:s{$CrowdSingalong_Balance$ = :s{$vol$ = (~$Default_BussSet$->$CrowdSingalong_Balance$->$vol$):s}:s}	:i $setsoundbussparams$:s{$Band_Balance$ = :s{$vol$ = (~$Default_BussSet$->$Band_Balance$->$vol$):s}:s}	:i $clean_up_user_control_helpers$	:i endfunction]Script ui_deinit_select_song_section ffffffff [	:i endfunction]Script ui_select_song_section_focus_item d26fec46 [	${StructFloat time = 0.10000000149011612}$	:i $current_menu$.$gettags$	:i $gettags$	:i $change$$g_sss_highlighted_index$ = %GLOBAL%$focus_index$	:i $my_strikeout_texture$ = %GLOBAL%$strikeout_texture$	:i $my_strikeout_alpha$ = %GLOBAL%$strikeout_alpha$	:i $light_bar_alpha$ = %f(1.0)	:i $strikeout_alpha$ = %i(0)	:i $GetScreenElementChildren$${StructQBKey id = current_menu}$	:i $GetArraySize$%GLOBAL%$children$	:i $children_array_size$ = %GLOBAL%$array_size$	:i if NOT (%GLOBAL%$start_index$ = %i(4294967295))		:i $i$ = %GLOBAL%$start_index$		:i while 		:i if $ResolveScreenElementID$$id$ = :s{$current_menu$$child$ = %GLOBAL%$i$:s}			:i %GLOBAL%$resolved_id$.$getsingletag$$strikeout_texture$			:i %GLOBAL%$resolved_id$.$getsingletag$$strikeout_alpha$			:i %GLOBAL%$resolved_id$.$getsingletag$$default_rgba$			:i if ((%GLOBAL%$i$ >= %GLOBAL%$start_index$) AND (%GLOBAL%$i$ <= %GLOBAL%$focus_index$))				:i if (%GLOBAL%$i$ = %GLOBAL%$start_index$)					:i %GLOBAL%$resolved_id$.$se_setprops$:s{						:i $section_rgba$ = ~$default_section_focus_rgba$						:i $light_bar_rgba$ = :a{%i(255),%i(255),%i(255),%i(220):a}						:i $light_bar_alpha$ = %GLOBAL%$light_bar_alpha$						:i $strikeout_texture$ = %GLOBAL%$strikeout_texture$						:i $strikeout_alpha$ = %GLOBAL%$strikeout_alpha$					:i :s}				:i elseif NOT (%GLOBAL%$i$ = %GLOBAL%$focus_index$)					:i %GLOBAL%$resolved_id$.$se_setprops$:s{						:i $section_rgba$ = ~$default_section_focus_rgba$						:i $light_bar_rgba$ = :a{%i(255)%i(255)%i(255)%i(80):a}						:i $light_bar_alpha$ = %GLOBAL%$light_bar_alpha$						:i $strikeout_texture$ = %GLOBAL%$strikeout_texture$						:i $strikeout_alpha$ = %GLOBAL%$strikeout_alpha$					:i :s}				:i endif			:i else 				:i %GLOBAL%$resolved_id$.$se_setprops$:s{					:i $section_rgba$ = %GLOBAL%$default_rgba$					:i $light_bar_rgba$ = :a{%i(255)%i(255)%i(255)%i(220):a}					:i $light_bar_alpha$ = %f(0.0)					:i $strikeout_texture$ = %GLOBAL%$strikeout_texture$					:i $strikeout_alpha$ = %GLOBAL%$strikeout_alpha$				:i :s}			:i endif		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$children_array_size$	:i endif	:i if (%GLOBAL%$children_array_size$ > %i(1))		:i $ratio$ = (%GLOBAL%$focus_index$ / (%GLOBAL%$children_array_size$ - %f(1.0)))	:i else 		:i $ratio$ = %i(0)	:i endif	:i $SongSectionDesc$.$desc_resolvealias$${StructQBKey name = alias_generic_scrollbar_wgt}$	:i $generic_scrollbar_wgt_update_thumb_pos$$id$ = %GLOBAL%$resolved_id$$index$ = %GLOBAL%$focus_index$	:i $se_setprops$:s{		:i $section_rgba$ = ~$default_section_focus_rgba$		:i $highlight_rgba$ = :a{%i(255),%i(255),%i(255),%i(220):a}		:i $light_bar_alpha$ = %GLOBAL%$light_bar_alpha$		:i $strikeout_texture$ = %GLOBAL%$my_strikeout_texture$		:i $strikeout_alpha$ = %GLOBAL%$my_strikeout_alpha$		:i $time$ = %f(0.1000000)	:i :s}	:i endfunction]Script ui_select_song_section_unfocus_item 0x7982927c [	:i $getsingletag$${StructQBKey default_rgba}$	:i $se_setprops$$section_rgba$ = %GLOBAL%$default_rgba$$light_bar_alpha$ = %f(0.0)$time$ = %f(0.1000000)	:i endfunction]Script ui_select_song_section_choose_item 0x2c14fa52 [	:i $se_setprops$${StructQBKey block_events}$	:i $current_menu$.$gettags$	:i $gettags$	:i if $GotParam$${StructQBKey playfullsong}$		:i $current_menu$.$settags$${StructInt start_index = 0}$		:i $current_menu$.$settags$${StructInt lead_in = 0}$		:i $current_menu$.$settags$${StructInt lead_out = 0}$		:i $current_menu$.$obj_spawnscript$$ui_select_song_section_set_times$$params$ = :s{$playfullsong$$from_in_game$ = %GLOBAL%$from_in_game$:s}		:i return 	:i endif	:i if (%GLOBAL%$start_index$ = %i(4294967295))		:i $UI_SFX$${			StructQBKey menustate = setlist			StructQBKey uitype = ScrollUp		}$				:i $current_menu$.$settags$$start_index$ = %GLOBAL%$focus_index$		:i $change$$practice_start_index$ = %GLOBAL%$focus_index$		:i $current_menu$.$settags$$start_index$ = %GLOBAL%$focus_index$	:i else 		:i $current_menu$.$settags$$start_index$ = (%GLOBAL%$start_index$ - %i(1))		:i $current_menu$.$settags$$end_index$ = %GLOBAL%$index$		:i $current_menu$.$obj_spawnscript$$ui_select_song_section_set_times$$params$ = :s{$from_in_game$ = %GLOBAL%$from_in_game$:s}	:i endif	:i $SongSectionDesc$.$se_setprops$${StructQBStringQs message_text = 0x3da2472b}$	:i $GetScreenElementChildren$${StructQBKey id = current_menu}$	:i $GetArraySize$%GLOBAL%$children$	:i $SongSectionDesc$.$se_setprops$${StructQBStringQs practice_head2_text = 0x3da2472b}$	:i $i$ = %i(0)	:i while 	:i if (%GLOBAL%$i$ >= %GLOBAL%$focus_index$)		:i continue	:i endif	:i $curr_item$ = (%GLOBAL%$children$:a{%GLOBAL%$i$:a})	:i %GLOBAL%$curr_item$.$se_setprops$$not_focusable$	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $ui_select_song_section_setup_helpers$	:i $se_setprops$${StructQBKey unblock_events}$	:i endfunction]Script ui_select_song_section_back cb652cab [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i $se_setprops$${StructQBKey block_events}$	:i $current_menu$.$gettags$	:i $SongSectionDesc$.$gettags$	:i if $ui_event_exists_in_stack$${StructString name = "song_breakdown"}$		:i $from_in_game$ = %i(0)	:i endif	:i if (%GLOBAL%$start_index$ = %i(4294967295))		:i if (%GLOBAL%$from_in_game$ = %i(1))			:i $gamemode_gettype$			:i if (%GLOBAL%$type$ !== $career$)				:i $se_setprops$${StructQBKey block_events}$				:i $UI_SFX$${					StructQBKey menustate = generic					StructQBKey uitype = back				}$								:i if NOT $ui_event_exists_in_stack$${StructString name = "select_practice_difficulty"}$					:i $create_loading_screen$				:i endif				:i $SAP_Unload$${StructQBKey nowait}$				:i $destroy_practice_songpreview_spawned$				:i if $ui_event_exists_in_stack$${StructString name = "select_practice_difficulty"}$					:i $generic_event_back$${StructQBKey state = UIstate_select_practice_difficulty}$				:i else 					:i $gamemode_gettype$					:i if (%GLOBAL%$type$ = $practice$)						:i $practice_restart_song$					:i else 						:i $change$${StructInt gameplay_restart_song = 1}$						:i $generic_event_back$${StructQBKey state = UIState_Gameplay}$					:i endif				:i endif			:i endif		:i else 			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = back			}$						:i $SAP_Unload$${StructQBKey nowait}$			:i $SAP_DeInit$${StructQBKey nowait}$			:i $destroy_practice_songpreview_spawned$			:i $generic_event_back$${StructQBKey nosound}$		:i endif	:i else 		:i $SAP_Unload$${StructQBKey nowait}$		:i $SAP_DeInit$${StructQBKey nowait}$		:i $UI_SFX$${			StructQBKey menustate = setlist			StructQBKey uitype = ScrollUp		}$				:i $change$${StructInt practice_start_index = -1}$		:i $change$${StructInt practice_end_index = -1}$		:i $generic_event_refresh$	:i endif	:i $se_setprops$${StructQBKey unblock_events}$	:i endfunction]Script return_to_quickplay_from_practice 0x6f164675 [	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = select	}$		:i $reset_practice_mode$	:i $shut_down_practice_mode$	:i $change$${StructInt gameplay_restart_song = 1}$	:i $create_venue_loading_screen$$movie_params$ = (~$LevelZones$->~$current_level$)	:i $generic_event_back$${StructQBKey state = UIState_Gameplay}$	:i endfunction]Script ui_select_song_section_set_times 0x3cb6bb64 [	${StructQBKey state = uistate_practice_select_speed}$	:i $se_setprops$${StructQBKey block_events}$	:i $gettags$	:i $kill_practice_scripts$	:i $GetFirstPlayer$	:i $practice_kill_gem_scroller$$player$ = %GLOBAL%$player$	:i $get_song_section_array$	:i $GetArraySize$%GLOBAL%$song_section_array$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $change$$practice_start_time$ = ((%GLOBAL%$song_section_array$:a{%GLOBAL%$start_index$:a})->$time$)		:i $change$$practice_start_index$ = %GLOBAL%$start_index$		:i if (($GotParam$$playfullsong$) OR (%GLOBAL%$end_index$ >= %GLOBAL%$array_size$))			:i $GetFirstPlayer$			:i $getplayerinfo$%GLOBAL%$player$$difficulty$			:i $Playlist_GetCurrentSong$			:i $setup_gemarrays$$song_name$ = %GLOBAL%$current_song$$difficulty$ = %GLOBAL%$difficulty$$player$ = %i(1)			:i $SongFileManager$$func$ = $get_song_end_time$$song_name$ = %GLOBAL%$current_song$			:i $change$$practice_end_time$ = %GLOBAL%$total_end_time$			:i $change$$practice_end_index$ = %GLOBAL%$array_size$		:i else 			:i $change$$practice_end_time$ = ((%GLOBAL%$song_section_array$:a{%GLOBAL%$end_index$:a})->$time$ - %i(1))			:i $change$$practice_end_index$ = %GLOBAL%$end_index$		:i endif		:i $change$$practice_start_time$ = (~$practice_start_time$ - %GLOBAL%$lead_in$)		:i $change$$practice_end_time$ = (~$practice_end_time$ + %GLOBAL%$lead_out$)	:i else 		:i $change$${StructInt practice_start_time = 0}$		:i $change$${StructInt practice_end_time = 0}$		:i $change$${StructInt practice_start_index = 0}$		:i $change$${StructInt practice_end_index = 0}$	:i endif	:i $SAP_Unload$${StructQBKey nowait}$	:i $SAP_DeInit$${StructQBKey nowait}$	:i $UI_SFX$${		StructQBKey menustate = generic		StructQBKey uitype = select	}$		:i $destroy_practice_songpreview_spawned$	:i $GetFirstPlayer$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i if (%GLOBAL%$part$ = $Vocals$)		:i $ui_event$${			StructQBKey event = menu_change			StructQBKey state = uistate_practice_select_looping		}$			:i else 		:i $ui_event$$event$ = $menu_change$$state$ = %GLOBAL%$state$	:i endif	:i endfunction]Script ui_select_song_section_wait_for_preview 0x51eb65b5 [	:i $change$${StructInt song_section_preview_ready = 0}$	:i $shutdown_practice_songpreview_monitor$	:i $change$${StructInt song_section_preview_ready = 1}$	:i endfunction]Script ui_select_song_section_preview 0x4f76cf00 [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = kill_oldest	}$		:i if NOT $GotParam$${StructQBKey nowait}$		:i $wait$${			StructFloat 0.5			StructQBKey seconds		}$			:i endif	:i if $IsObjectScript$		:i $gettags$	:i endif	:i while 	:i if (~$song_section_preview_ready$ = %i(1))		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $get_song_section_array$	:i $GetArraySize$%GLOBAL%$song_section_array$	:i if (%GLOBAL%$array_size$ > %i(0))		:i if (%GLOBAL%$index$ > %i(0))			:i %GLOBAL%$index$ = (%GLOBAL%$index$ - %i(1))			:i $end_index$ = (%GLOBAL%$index$ + %i(1))			:i if (%GLOBAL%$end_index$ >= %GLOBAL%$array_size$)				:i $RemoveParameter$${StructQBKey end_index}$			:i endif		:i endif		:i $start_time$ = ((%GLOBAL%$song_section_array$:a{%GLOBAL%$index$:a})->$time$)		:i $Playlist_GetCurrentSong$		:i if NOT $GotParam$${StructQBKey end_index}$			:i $GetFirstPlayer$			:i $getplayerinfo$%GLOBAL%$player$$difficulty$			:i $setup_gemarrays$$song_name$ = %GLOBAL%$current_song$$difficulty$ = %GLOBAL%$difficulty$$player$ = %i(1)			:i $SongFileManager$$func$ = $get_song_end_time$$song_name$ = %GLOBAL%$current_song$			:i $end_time$ = %GLOBAL%$total_end_time$		:i else 			:i $end_time$ = ((%GLOBAL%$song_section_array$:a{%GLOBAL%$end_index$:a})->$time$ + %i(750))		:i endif		:i $change$$target_practice_songpreview$ = %GLOBAL%$current_song$		:i $change$$target_practice_songpreview_starttime$ = %GLOBAL%$start_time$		:i $change$$target_practice_songpreview_endtime$ = %GLOBAL%$end_time$	:i endif	:i $SongSectionDesc$.$gettags$	:i if (%GLOBAL%$monitor_spawned$ = %i(0))		:i $change$${StructInt force_practice_songpreview_restart = 1}$		:i $SpawnScript$${StructQBKey practice_songpreview_monitor}$		:i $SongSectionDesc$.$settags$${StructInt monitor_spawned = 1}$	:i endif	:i endfunction]SectionInteger practice_start_index 0SectionInteger practice_end_index 0SectionQBKey target_practice_songpreview NoneSectionInteger target_practice_songpreview_starttime 0SectionInteger target_practice_songpreview_endtime 0SectionInteger force_practice_songpreview_restart 0SectionInteger practice_songpreview_changing 0SectionQBKey current_practice_songpreview NoneSectionInteger current_practice_songpreview_starttime 0Script GetMarkerArraySize 0x9b3f86d6 [	:i $marker_size$ = %i(0)	:i $marker_index$ = %i(0)	:i if $globalexists$$name$ = %GLOBAL%$array$$type$ = $array$		:i $GetArraySize$~%GLOBAL%$array$	:i else 		:i $GetArraySize$%GLOBAL%$array$	:i endif	:i if (%GLOBAL%$array_size$ > %i(0))		:i while 		:i if $globalexists$$name$ = %GLOBAL%$array$$type$ = $array$			:i $marker$ = (~%GLOBAL%$array$:a{%GLOBAL%$marker_index$:a}->$marker$)		:i else 			:i $marker$ = (%GLOBAL%$array$:a{%GLOBAL%$marker_index$:a}->$marker$)		:i endif		:i if (%GLOBAL%$marker$ !== ^[00167369]^ AND 			:i %GLOBAL%$marker$ !== ^[ed5ba677]^)			:i $marker_size$ = (%GLOBAL%$marker_size$ + %i(1))		:i endif		:i $marker_index$ = (%GLOBAL%$marker_index$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return $array_size$ = %GLOBAL%$marker_size$	:i endfunction]SectionInteger in_destroy_choose_practice_section_menu 0SectionInteger practice_songpreview_playing_song 0SectionInteger g_practice_songpreview_monitor_shutdown_flag 0Script shutdown_practice_songpreview_monitor 0x329bb04f [	:i $change$${StructInt g_practice_songpreview_monitor_shutdown_flag = 1}$	:i endfunction]Script wait_for_practice_songpreview_monitor_to_exit 0x9bfaa23f [	:i while 	:i if NOT $ScriptIsRunning$${StructQBKey practice_songpreview_monitor}$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i endfunction]Script practice_songpreview_monitor 0x5696cafe [	:i $setscriptcannotpause$	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i $change$${StructInt practice_songpreview_playing_song = 0}$	:i $change$${StructInt g_practice_songpreview_monitor_shutdown_flag = 0}$	:i $SAP_DeInit$${StructQBKey nowait}$	:i $SAP_Init$$mode$ = (~$game_mode$)$Speed$ = (~$current_speedfactor$)$nowait$	:i while 	:i $new_song$ = (~$current_practice_songpreview$ !== ~$target_practice_songpreview$)	:i $new_seektime$ = (~$current_practice_songpreview_starttime$ !== ~$target_practice_songpreview_starttime$)	:i if (%GLOBAL%$new_song$ AND ~$practice_songpreview_changing$ = %i(0))		:i $song$ = (~$target_practice_songpreview$)		:i $KillSpawnedScript$${StructQBKey name = practice_songpreview_fadeinandrepeat}$		:i $change$${StructInt practice_songpreview_changing = 1}$		:i if (~$practice_songpreview_playing_song$ = %i(1))			:i $fade_time$ = %f(0.5)		:i else 			:i $fade_time$ = %f(0.0)		:i endif		:i $SAP_SetMasterVolume$$vol$ = %i(4294967196)$time$ = %GLOBAL%$fade_time$		:i $wait$%GLOBAL%$fade_time$$second$		:i if (~$g_practice_songpreview_monitor_shutdown_flag$ = %i(1))			:i $change$${StructInt g_practice_songpreview_monitor_shutdown_flag = 0}$			:i continue		:i endif		:i if NOT (~$current_practice_songpreview$ = ~$target_practice_songpreview$)			:i $change$${StructInt practice_songpreview_playing_song = 0}$			:i $SAP_Stop$${StructQBKey nowait}$			:i $SAP_Unload$${StructQBKey nowait}$			:i if (~$shutdown_game_for_signin_change_flag$ = %i(0))				:i $GetSongAudioInfo$$song_name$ = %GLOBAL%$song$				:i $get_song_encryption_type$$song_name$ = %GLOBAL%$song$				:i if $SAP_Load$$filename$ = %GLOBAL%$song_stream_name$$slot$ = %GLOBAL%$slot$$vol$ = %GLOBAL%$song_volume$$encryption_type$ = %GLOBAL%$encryption_type$					:i if (~$g_practice_songpreview_monitor_shutdown_flag$ = %i(1))						:i $change$${StructInt g_practice_songpreview_monitor_shutdown_flag = 0}$						:i continue					:i endif					:i if (%GLOBAL%$song_command_success$ = %i(1))						:i $change$${StructInt practice_songpreview_changing = 0}$						:i $change$$current_practice_songpreview$ = %GLOBAL%$song$					:i endif					:i if NOT (%GLOBAL%$new_seektime$)						:i $SAP_SetMasterVolume$${StructInt vol = -100}$						:i $SAP_SetMasterVolume$${							StructInt vol = 0							StructFloat time = 0.5						}$												:i $SAP_UnPause$					:i endif				:i endif			:i endif		:i endif	:i elseif ((%GLOBAL%$new_seektime$ OR ~$force_practice_songpreview_restart$ = %i(1))		:i AND ~$practice_songpreview_changing$ = %i(0))		:i $change$${StructInt practice_songpreview_changing = 1}$		:i $KillSpawnedScript$${StructQBKey name = practice_songpreview_fadeinandrepeat}$		:i if (~$practice_songpreview_playing_song$ = %i(1))			:i $fade_time$ = %f(0.5)		:i else 			:i $fade_time$ = %f(0.0)		:i endif		:i $SAP_SetMasterVolume$$vol$ = %i(4294967196)$time$ = %GLOBAL%$fade_time$		:i $wait$%GLOBAL%$fade_time$$second$		:i if (~$g_practice_songpreview_monitor_shutdown_flag$ = %i(1))			:i $change$${StructInt g_practice_songpreview_monitor_shutdown_flag = 0}$			:i continue		:i endif		:i $SAP_Pause$		:i if $SAP_Seek$$time$ = (~$target_practice_songpreview_starttime$)			:i if (~$g_practice_songpreview_monitor_shutdown_flag$ = %i(1))				:i $change$${StructInt g_practice_songpreview_monitor_shutdown_flag = 0}$				:i continue			:i endif			:i if (%GLOBAL%$song_command_success$ = %i(1))				:i $SAP_SetMasterVolume$${StructInt vol = -100}$				:i $SAP_SetMasterVolume$${					StructInt vol = 0					StructFloat time = 0.5				}$								:i $change$${StructInt practice_songpreview_playing_song = 1}$				:i $spawnscriptnow$${StructQBKey practice_songpreview_fadeinandrepeat}$				:i $change$$current_practice_songpreview_starttime$ = (~$target_practice_songpreview_starttime$)				:i $change$${StructInt practice_songpreview_changing = 0}$				:i $change$${StructInt force_practice_songpreview_restart = 0}$				:i $SAP_UnPause$			:i endif		:i endif	:i else 		:i $SAP_GetAudioLength$		:i $song_length$ = %GLOBAL%$time$		:i $SAP_GetAudioPosition$		:i $timeplus$ = (%GLOBAL%$time$ + %i(460))		:i if ((%GLOBAL%$time$ + %i(460)) > %GLOBAL%$song_length$)			:i $SAP_Pause$		:i endif	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i if (~$g_practice_songpreview_monitor_shutdown_flag$ = %i(1))		:i $change$${StructInt g_practice_songpreview_monitor_shutdown_flag = 0}$		:i continue	:i endif	:i loop_to 	:i $KillSpawnedScript$${StructQBKey name = practice_songpreview_fadeinandrepeat}$	:i $change$${StructInt practice_songpreview_changing = 0}$	:i $change$${StructQBKey current_practice_songpreview = None}$	:i $change$${StructQBKey target_practice_songpreview = none2}$	:i $change$${StructInt practice_songpreview_playing_song = 0}$	:i $SAP_Stop$${StructQBKey nowait}$	:i $SAP_Unload$${StructQBKey nowait}$	:i $SAP_DeInit$${StructQBKey nowait}$	:i endfunction]Script practice_songpreview_fadeinandrepeat e979be6f [	:i $wait_time$ = %i(0)	:i while 	:i $current_wait_time$ = ((~$target_practice_songpreview_endtime$ - ~$target_practice_songpreview_starttime$) / %f(1000.0))	:i if (%GLOBAL%$wait_time$ > %GLOBAL%$current_wait_time$)		:i continue	:i endif	:i $wait$${		StructFloat 0.5		StructQBKey seconds	}$		:i $wait_time$ = (%GLOBAL%$wait_time$ + %f(0.5))	:i loop_to 	:i $change$${StructInt force_practice_songpreview_restart = 1}$	:i endfunction]Script destroy_practice_songpreview_spawned 0x14217ea7 [	:i $setscriptcannotpause$	:i $KillSpawnedScript$${StructQBKey name = ui_select_song_section_preview}$	:i $shutdown_practice_songpreview_monitor$	:i $wait_for_practice_songpreview_monitor_to_exit$	:i endfunction]