Unknown [1c00000000000000000022400000000000000000]SectionArray g_team_0{	Floats [0.00000, 0.00000]}SectionArray g_team_1{	Floats [0.00000, 0.00000]}Script ui_init_team_select 0x09db65bd [	:i $destroy_friend_feed$	:i if NOT $InInternetMode$		:i $team_select_asign_teams_local$		:i $choose_random_band_names$	:i endif	:i endfunction]Script choose_random_band_names f887dab5 [	:i $randomize$	:i if $InNetGame$		:i $SendStructure$$callback$ = $net_set_band_names$$data_to_send$ = :s{$rand_seed$ = %GLOBAL%$rand_seed$:s}	:i endif	:i %GLOBAL%$array$ = (~$random_band_names$)	:i %GLOBAL%$band$ = %i(1)	:i while 	:i $GetArraySize$${StructQBKey array}$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $getrandomvalue$$a$ = %i(0)$b$ = (%GLOBAL%$array_size$ - %i(1))$name$ = $index$$integer$		:i $SetBandInfo$%GLOBAL%$band$$name$ = (%GLOBAL%$array$:a{%GLOBAL%$index$:a})		:i $RemoveArrayElement$$array$ = %GLOBAL%$array$$index$ = %GLOBAL%$index$	:i endif	:i %GLOBAL%$band$ = (%GLOBAL%$band$ + %i(1))	:i loop_to %i(8)	:i endfunction]Script net_set_band_names 0x2448bfa2 [	:i $randomize$%GLOBAL%$rand_seed$	:i %GLOBAL%$array$ = (~$random_band_names$)	:i %GLOBAL%$band$ = %i(1)	:i while 	:i $GetArraySize$${StructQBKey array}$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $getrandomvalue$$a$ = %i(0)$b$ = (%GLOBAL%$array_size$ - %i(1))$name$ = $index$$integer$		:i $SetBandInfo$%GLOBAL%$band$$name$ = (%GLOBAL%$array$:a{%GLOBAL%$index$:a})		:i $RemoveArrayElement$$array$ = %GLOBAL%$array$$index$ = %GLOBAL%$index$	:i endif	:i %GLOBAL%$band$ = (%GLOBAL%$band$ + %i(1))	:i loop_to %i(8)	:i endfunction]Script ui_create_team_select 0x172ca24e [	:i $destroy_friend_feed$	:i $team_select_prepare_players$	:i if $InInternetMode$		:i $spawn_player_drop_listeners$${			StructQBKey drop_player_script = team_select_drop_player			StructQBKey end_game_script = team_select_end_game		}$			:i endif	:i $CreateScreenElement$${		StructQBKey parent = root_window		StructQBKey id = team_select_desc		StructQBKey type = descinterface		StructString desc = "online_team_select"		StructFloat z_priority = 0.00		StructQBStringQs timer_text = 0x00000000	}$		:i if ((~$g_leader_player_num$) > %i(0))		:i $get_fullname_for_player$$player$ = (~$g_leader_player_num$)		:i %GLOBAL%$name$ = %GLOBAL%$fullname$	:i else 		:i %GLOBAL%$name$ = ^[00000000]^	:i endif	:i if $InNetGame$		:i $gamemode_gettype$		:i if ((~$g_net_leader_player_num$) > %i(0) AND ((~$g_lobby_net_state$) = $net_private$))			:i $getplayerinfo$(~$g_net_leader_player_num$)$gamertag$			:i %GLOBAL%$name$ = (~%GLOBAL%$gamertag$)		:i endif	:i endif	:i $band_lobby_create_lobby_status_string$	:i $GetBandInfo$${		StructInt 1		StructQBKey name		StructQBKey out = band1_name	}$		:i $GetBandInfo$${		StructInt 2		StructQBKey name		StructQBKey out = band2_name	}$		:i $team_select_desc$.$se_setprops$:s{		:i $online_team_select_info_text$ = %GLOBAL%$text$		:i $title_text$ = (~$band_lobby_strings$->$popup_title_teams$)		:i $leader_gamertag_text$ = %GLOBAL%$name$		:i $left_band_name_text$ = (~%GLOBAL%$band1_name$)		:i $right_band_name_text$ = (~%GLOBAL%$band2_name$)	:i :s}	:i if $team_select_desc$.$desc_resolvealias$${			StructQBKey name = alias_team_menu			StructQBKey param = menu_id		}$				:i $popup_teams_ui_update$$team_0$ = (~$g_team_0$)$team_1$ = (~$g_team_1$)		:i $players_nums_array$ = :a{:a}		:i $event_handlers$ = :a{:a}		:i if $InInternetMode$			:i if (~$g_lobby_net_state$ = $net_public$)				:i $printf$${StructQBStringQs b27c1cbc}$				:i $team_select_desc$.$obj_spawnscriptnow$${StructQBKey team_select_time_out_loop}$				:i $AddArrayElement$$array$ = %GLOBAL%$event_handlers$$element$ = :s{$pad_back$$postgame_lobby_quit$$params$ = :s{$id$ = $current_menu$:s}:s}			:i else 				:i $printf$${StructQBStringQs ec388fa6}$				:i if $ishost$					:i $AddArrayElement$$array$ = %GLOBAL%$event_handlers$$element$ = :s{$pad_back$$team_select_pad_back$:s}				:i else 					:i $AddArrayElement$$array$ = %GLOBAL%$event_handlers$$element$ = :s{$pad_back$$postgame_lobby_quit$$params$ = :s{$id$ = $current_menu$:s}:s}				:i endif			:i endif			:i if $ishost$				:i %GLOBAL%$menu_id$.$obj_spawnscriptnow$$team_select_swap_loop$$params$ = :s{$team_0$ = (~$g_team_0$)$team_1$ = (~$g_team_1$):s}				:i if (~$g_lobby_net_state$ = $net_private$)					:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = :s{$pad_start$$team_select_continue$:s}				:i endif			:i endif			:i %GLOBAL%$event_handlers$ = %GLOBAL%$array$			:i $getplayerinfo$(~$g_leader_player_num$)$controller$			:i $AddArrayElement$$array$ = %GLOBAL%$players_nums_array$$element$ = (~$g_leader_player_num$)			:i $players_nums_array$ = %GLOBAL%$array$		:i else 			:i %GLOBAL%$menu_id$.$obj_spawnscriptnow$$team_select_swap_loop$$params$ = :s{$team_0$ = (~$g_team_0$)$team_1$ = (~$g_team_1$):s}			:i $GetNumPlayersInGame$${StructQBKey local}$			:i if (%GLOBAL%$num_players$ > %i(0))				:i $GetFirstPlayer$${StructQBKey local}$				:i while 				:i $getplayerinfo$%GLOBAL%$player$$controller$				:i $AddArrayElement$$array$ = %GLOBAL%$players_nums_array$$element$ = %GLOBAL%$player$				:i $players_nums_array$ = %GLOBAL%$array$				:i $GetNextPlayer$$player$ = %GLOBAL%$player$$local$				:i loop_to %GLOBAL%$num_players$			:i endif			:i $AddArrayElement$$array$ = %GLOBAL%$event_handlers$$element$ = :s{$pad_back$$team_select_pad_back$:s}			:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = :s{$pad_start$$team_select_continue$:s}			:i $event_handlers$ = %GLOBAL%$array$		:i endif		:i $AddArrayElement$$array$ = %GLOBAL%$event_handlers$$element$ = :s{$pad_choose$$team_select_toggle_team_request$$params$ = :s{$players$ = %GLOBAL%$players_nums_array$:s}:s}		:i %GLOBAL%$menu_id$.$se_setprops$$event_handlers$ = %GLOBAL%$array$$exclusive_device$ = %GLOBAL%$devices$		:i $AssignAlias$$id$ = %GLOBAL%$menu_id$$alias$ = $current_menu$		:i if $InNetGame$			:i $add_gamertag_helper$$exclusive_device$ = (~$primary_controller$)		:i endif		:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_switch_team$)$button$ = $green$$z$ = %i(100000)		:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_back$)$button$ = $red$$z$ = %i(100000)		:i if $InInternetMode$			:i if $ishost$				:i if ((~$g_leader_player_num$ = ~$g_net_leader_player_num$) AND (~$g_lobby_net_state$ = $net_private$))					:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_play$)$button$ = $start$$z$ = %i(100000)				:i endif			:i endif		:i else 			:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_play$)$button$ = $start$$z$ = %i(100000)		:i endif	:i else 		:i $scriptassert$${StructQBStringQs 0x40e717ff}$	:i endif	:i endfunction]Script ui_destroy_team_select 0x7c0e632e [	:i if $ScreenElementExists$${StructQBKey id = team_select_desc}$		:i $DestroyScreenElement$${StructQBKey id = team_select_desc}$	:i endif	:i $clean_up_user_control_helpers$	:i endfunction]Script ui_return_team_select b5cb1259 [	:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_switch_team$)$button$ = $green$$z$ = %i(100000)	:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_back$)$button$ = $red$$z$ = %i(100000)	:i if $InInternetMode$		:i if ((~$g_leader_player_num$ = ~$g_net_leader_player_num$) AND (~$g_lobby_net_state$ = $net_private$))			:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_play$)$button$ = $start$$z$ = %i(100000)		:i endif	:i else 		:i $add_user_control_helper$$text$ = (~$band_lobby_strings$->$button_play$)$button$ = $start$$z$ = %i(100000)	:i endif	:i endfunction]Script team_select_pad_back d4f9c84b [	:i if (~$primary_controller$ = %GLOBAL%$device_num$)		:i if $InInternetMode$			:i if $ishost$				:i $quit_online_now$${StructInt save = 0}$			:i endif		:i else 			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = back			}$						:i $generic_event_back$${StructQBKey state = uistate_band_lobby}$		:i endif	:i endif	:i endfunction]Script popup_teams_ui_update b51ccd1e [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				team_0				team_1			]		}		StructQBKey all	}$		:i if $ScreenElementExists$${StructQBKey id = team_select_desc}$		:i $rgba$ = $p1_dk$		:i $alias_name$ = $alias_team_menu_l$		:i $team_array$ = %GLOBAL%$team_0$		:i %GLOBAL%$team$ = %i(0)		:i while 		:i if $team_select_desc$.$desc_resolvealias$$name$ = %GLOBAL%$alias_name$$param$ = $menu$			:i if $ScreenElementExists$$id$ = %GLOBAL%$menu$				:i $DestroyScreenElement$$id$ = %GLOBAL%$menu$$preserve_parent$			:i endif			:i $GetArraySize$%GLOBAL%$team_array$			:i if (%GLOBAL%$array_size$ > %i(0))				:i $getplayerinfo$(%GLOBAL%$team_array$:a{%i(0):a})$console_id$				:i $i$ = %i(0)				:i while 				:i if NOT $playerinfoequals$(%GLOBAL%$team_array$:a{%GLOBAL%$i$:a})$console_id$ = %GLOBAL%$console_id$					:i %GLOBAL%$id$.$se_setprops$$dims$ = %vec2(300.0,20.0)				:i endif				:i $CreateScreenElement$:s{					:i $parent$ = %GLOBAL%$menu$					:i $type$ = $descinterface$					:i $desc$ = %s("online_team_select_player")					:i $autosizedims$ = $true$				:i :s}				:i $getplayerinfo$(%GLOBAL%$team_array$:a{%GLOBAL%$i$:a})$part$				:i $getplayerinfo$(%GLOBAL%$team_array$:a{%GLOBAL%$i$:a})$console_id$				:i $get_fullname_for_player$$player$ = (%GLOBAL%$team_array$:a{%GLOBAL%$i$:a})				:i %GLOBAL%$icon_texture$ = $icon_guitar_fill$				:i switch %GLOBAL%$part$					:i case $guitar$						:i %GLOBAL%$icon_texture$ = $icon_guitar_fill$						:i endcase					case $Bass$						:i %GLOBAL%$icon_texture$ = $icon_bass_fill$						:i endcase					case $drum$						:i %GLOBAL%$icon_texture$ = $icon_drum_fill$						:i endcase					case $Vocals$						:i %GLOBAL%$icon_texture$ = $icon_vocals_fill$				:i end_switch				:i %GLOBAL%$rot_angle$ = (%GLOBAL%$team$ * %i(4294967116))				:i %GLOBAL%$id$.$se_setprops$:s{					:i $player_bg_rgba$ = %GLOBAL%$rgba$					:i $player_name_text$ = ^[00000000]^					:i $icon_instrument_texture$ = %GLOBAL%$icon_texture$					:i $bg_container_rot_angle$ = %GLOBAL%$rot_angle$				:i :s}				:i %GLOBAL%$id$.$settags$$player$ = (%GLOBAL%$team_array$:a{%GLOBAL%$i$:a})				:i if (%GLOBAL%$alias_name$ = $alias_team_menu_l$)					:i %GLOBAL%$id$.$obj_spawnscriptnow$$team_select_update_player_ui$$params$ = :s{$slide_dir$ = $left$:s}				:i else 					:i %GLOBAL%$id$.$obj_spawnscriptnow$$team_select_update_player_ui$$params$ = :s{$slide_dir$ = $RIGHT$:s}				:i endif				:i $i$ = (%GLOBAL%$i$ + %i(1))				:i loop_to %GLOBAL%$array_size$			:i endif		:i endif		:i %GLOBAL%$team$ = (%GLOBAL%$team$ + %i(1))		:i $rgba$ = $p2_xdk$		:i $alias_name$ = $alias_team_menu_r$		:i $team_array$ = %GLOBAL%$team_1$		:i loop_to %i(2)	:i endif	:i endfunction]Script team_select_update_player_ui 0x1c4827dc [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				slide_dir			]		}		StructQBKey all	}$		:i $printf$${		StructQBKey channel = band_lobby		StructQBStringQs 0x1ac7f5ca	}$		:i %GLOBAL%$position$ = $normal$	:i %GLOBAL%$waited$ = %i(0)	:i while 	:i $getsingletag$${StructQBKey player}$	:i $getplayerinfo$%GLOBAL%$player$$band_request$	:i $get_fullname_for_player$$player$ = %GLOBAL%$player$$no_character_names$	:i $se_setprops$$player_name_text$ = %GLOBAL%$fullname$	:i if (%GLOBAL%$band_request$ > %i(0) AND %GLOBAL%$position$ = $normal$)		:i if (%GLOBAL%$slide_dir$ = $left$)			:i $se_setprops$${				StructFloatX2 player_info_pos				{					Floats [-80.0000, 0.00000]				}				StructFloat bg_container_alpha = 1.00				StructFloat time = 0.25				StructQBKey motion = ease_out			}$					:i else 			:i $se_setprops$${				StructFloatX2 player_info_pos				{					Floats [80.0000, 0.00000]				}				StructFloat bg_container_alpha = 1.00				StructFloat time = 0.25				StructQBKey motion = ease_out			}$					:i endif		:i %GLOBAL%$position$ = $out$		:i $printf$^[77676100]^$d$ = %GLOBAL%$slide_dir$		:i $audio_ui_play_switch_teams_sfx$$type$ = $request$$direction$ = %GLOBAL%$slide_dir$		:i $se_waitprops$		:i %GLOBAL%$waited$ = %i(1)	:i elseif (%GLOBAL%$position$ = $out$ AND %GLOBAL%$band_request$ = %i(0))		:i $se_setprops$${			StructFloatX2 player_info_pos			{				Floats [0.00000, 0.00000]			}			StructFloat bg_container_alpha = 0.00			StructFloat time = 0.25			StructQBKey motion = ease_in		}$				:i %GLOBAL%$position$ = $normal$		:i $printf$^[c7c96084]^$d$ = %GLOBAL%$slide_dir$		:i $audio_ui_play_switch_teams_sfx$$type$ = $resend$$direction$ = %GLOBAL%$slide_dir$		:i $se_waitprops$		:i %GLOBAL%$waited$ = %i(1)	:i endif	:i if (%GLOBAL%$waited$ = %i(0))		:i $wait$${			StructFloat 0.5			StructQBKey seconds		}$			:i else 		:i %GLOBAL%$waited$ = %i(0)	:i endif	:i loop_to 	:i endfunction]Script team_select_toggle_team_request 0x2bd374e7 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				players			]		}		StructQBKey all	}$		:i $printf$${		StructQBKey channel = band_lobby		StructQBStringQs d66b237b	}$		:i $player$ = %i(4294967295)	:i $GetArraySize$${StructQBKey players}$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $i$ = %i(0)		:i while 		:i if $playerinfoequals$(%GLOBAL%$players$:a{%GLOBAL%$i$:a})$controller$ = %GLOBAL%$device_num$			:i $player$ = (%GLOBAL%$players$:a{%GLOBAL%$i$:a})			:i continue		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i else 		:i return 	:i endif	:i if (%GLOBAL%$player$ > %i(4294967295))		:i $printstruct$ isNull 		:i if $playerinfoequals$%GLOBAL%$player$$band_request$ = %i(0)			:i if $InInternetMode$				:i $GetNumPlayersInGame$${StructQBKey local}$				:i $GetFirstPlayer$${					StructQBKey local					StructQBKey out = i				}$								:i while 				:i $SetPlayerInfo$%GLOBAL%$i$$band_request$ = %i(1)				:i $GetNextPlayer$$player$ = %GLOBAL%$i$$local$$out$ = $i$				:i loop_to %GLOBAL%$num_players$			:i else 				:i $SetPlayerInfo$%GLOBAL%$player$$band_request$ = %i(1)			:i endif		:i else 			:i if $InInternetMode$				:i $GetNumPlayersInGame$${StructQBKey local}$				:i $GetFirstPlayer$${					StructQBKey local					StructQBKey out = i				}$								:i while 				:i $SetPlayerInfo$%GLOBAL%$i$$band_request$ = %i(0)				:i $GetNextPlayer$$player$ = %GLOBAL%$i$$local$$out$ = $i$				:i loop_to %GLOBAL%$num_players$			:i else 				:i $SetPlayerInfo$%GLOBAL%$player$$band_request$ = %i(0)			:i endif		:i endif	:i endif	:i endfunction]Script team_select_swap_loop 0x8438f5ff [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				team_0				team_1			]		}		StructQBKey all	}$		:i while 	:i if $TeamSwapLoop$$team_0$ = %GLOBAL%$team_0$$team_1$ = %GLOBAL%$team_1$		:i %GLOBAL%$loop_count$ = %i(0)		:i while 		:i if (%i(0) = %GLOBAL%$loop_count$)			:i %GLOBAL%$new_team_array$ = %GLOBAL%$new_team_0$			:i %GLOBAL%$array$ = %GLOBAL%$team_1$		:i else 			:i %GLOBAL%$new_team_array$ = %GLOBAL%$new_team_1$			:i %GLOBAL%$array$ = %GLOBAL%$team_0$		:i endif		:i $fastgetarraysize$$array$ = %GLOBAL%$new_team_array$		:i if (%i(0) < %GLOBAL%$array_size$)			:i %GLOBAL%$new_team_index$ = %i(0)			:i while 			:i $RemoveArrayElement$$array$ = %GLOBAL%$array$$element$ = (%GLOBAL%$new_team_array$:a{%GLOBAL%$new_team_index$:a})			:i %GLOBAL%$new_team_index$ = (%i(1) + %GLOBAL%$new_team_index$)			:i loop_to %GLOBAL%$array_size$		:i endif		:i if (%i(0) = %GLOBAL%$loop_count$)			:i %GLOBAL%$team_1$ = (%GLOBAL%$array$ + %GLOBAL%$new_team_1$)			:i $ChangeGlobalArray$$global_name$ = $g_team_1$$new_value$ = %GLOBAL%$team_1$		:i else 			:i %GLOBAL%$team_0$ = (%GLOBAL%$array$ + %GLOBAL%$new_team_0$)			:i $ChangeGlobalArray$$global_name$ = $g_team_0$$new_value$ = %GLOBAL%$team_0$		:i endif		:i %GLOBAL%$loop_count$ = (%i(1) + %GLOBAL%$loop_count$)		:i loop_to %i(2)		:i $wait$${			StructFloat 0.20000000298023224			StructQBKey seconds		}$				:i $popup_teams_ui_update$$team_0$ = (~$g_team_0$)$team_1$ = (~$g_team_1$)		:i $audio_ui_play_switch_teams_sfx$${StructQBKey type = swap}$		:i if $InInternetMode$			:i $PlayerNumObjIdChange$$player_nums$ = (~$g_team_0$)			:i $set0$ = %GLOBAL%$objids$			:i $PlayerNumObjIdChange$$player_nums$ = (~$g_team_1$)			:i $set1$ = %GLOBAL%$objids$			:i $SendStructure$$callback$ = $team_select_update_players_callback$$data_to_send$ = :s{$team_0_objids$ = %GLOBAL%$set0$$team_1_objids$ = %GLOBAL%$set1$:s}		:i endif	:i endif	:i $wait$${		StructFloat 1.00		StructQBKey seconds	}$		:i loop_to 	:i endfunction]Script team_select_update_players_callback c489f9fa [	:i $printf$${StructQBStringQs a9f3e1b3}$	:i $PlayerNumObjIdChange$$objids$ = %GLOBAL%$team_0_objids$	:i $change$$g_team_0$ = %GLOBAL%$player_nums$	:i $PlayerNumObjIdChange$$objids$ = %GLOBAL%$team_1_objids$	:i $change$$g_team_1$ = %GLOBAL%$player_nums$	:i $wait$${		StructFloat 0.20000000298023224		StructQBKey seconds	}$		:i $popup_teams_ui_update$$team_0$ = (~$g_team_0$)$team_1$ = (~$g_team_1$)	:i endfunction]Script team_select_time_out_loop 0x9badf1e4 [	:i $printf$${StructQBStringQs 0x735f70ed}$	:i $i$ = (~$band_lobby_wait_times$->$net_team_select$)	:i while 	:i $FormatText$$textname$ = $text$^[48c6d14c]^$d$ = %GLOBAL%$i$	:i $se_setprops$$timer_text$ = %GLOBAL%$text$	:i $wait$${		StructInt 1		StructQBKey second	}$		:i $i$ = (%GLOBAL%$i$ - %i(1))	:i loop_to (~$band_lobby_wait_times$->$net_team_select$)	:i $team_select_change_focus$${StructQBKey focus_type = unfocus}$	:i $se_setprops$${StructQBStringQs timer_text = 0x6160dbf3}$	:i if $ishost$		:i $getplayerinfo$(~$g_net_leader_player_num$)$controller$		:i $team_select_continue$$device_num$ = %GLOBAL%$controller$	:i endif	:i endfunction]Script team_select_continue f7a666f4 [	:i $printf$${		StructQBKey channel = band_lobby		StructQBStringQs fc76f9d4	}$		:i if $playerinfoequals$(~$g_net_leader_player_num$)$controller$ = %GLOBAL%$device_num$		:i if $InInternetMode$			:i $SendStructure$${				StructQBKey callback = team_select_change_focus				StructStruct data_to_send				{					StructHeader					{						StructQBKey focus_type = unfocus					}				}			}$					:i endif		:i $team_select_change_focus$${StructQBKey focus_type = unfocus}$		:i $GetNumPlayersInGame$		:i if (%GLOBAL%$num_players$ > %i(0))			:i $GetFirstPlayer$			:i while 			:i $SetPlayerInfo$%GLOBAL%$player$$band_request$ = %i(0)			:i $GetNextPlayer$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_players$		:i endif		:i if $InInternetMode$			:i $wait$(~$band_lobby_wait_times$->$net_team_to_songlist$)$seconds$			:i $SendStructure$${				StructQBKey callback = team_select_menu_change				StructStruct data_to_send				{					StructHeader {}				}			}$					:i else 			:i $UI_SFX$${				StructQBKey menustate = generic				StructQBKey uitype = select			}$					:i endif		:i $team_select_menu_change$	:i endif	:i endfunction]Script team_select_change_focus de9d1d72 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				focus_type			]		}		StructQBKey all	}$		:i $printf$${StructQBStringQs b7f5e3b7}$	:i $ui_event_get_top$	:i if (%GLOBAL%$base_name$ = %s("online_quit_warning"))		:i $generic_event_back$	:i endif	:i $ui_event_wait_for_safe$	:i if $ScreenElementExists$${StructQBKey id = current_menu}$		:i $LaunchEvent$$type$ = %GLOBAL%$focus_type$$target$ = $current_menu$	:i endif	:i endfunction]Script team_select_menu_change f250084d [	:i $printf$${StructQBStringQs 0x637bf57f}$	:i $ui_event_wait_for_safe$	:i $ui_event_get_top$	:i if (%GLOBAL%$base_name$ = %s("online_quit_warning"))		:i $generic_event_back$	:i endif	:i if $InInternetMode$		:i $team_select_reorder_teams$		:i $UpdatePlayerNumObjIdMapper$${StructQBKey automatic}$		:i if $ishost$			:i $UpdateTeamAppearances$		:i endif	:i else 		:i $match_team_player_parts$	:i endif	:i $UpdateBandsPlayerList$	:i $PushDisableRendering$${		StructQBKey context = going_into_songlist		StructQBKey type = unchecked	}$		:i $ui_event_wait_for_safe$	:i $ui_event$${		StructQBKey event = menu_change		StructStruct Data		{			StructHeader			{				StructQBKey state = UIState_songlist			}		}	}$		:i endfunction]Script team_select_asign_teams_local 0x92873424 [	:i $team_0$ = :a{:a}	:i $team_1$ = :a{:a}	:i $GetNumPlayersInGame$	:i $GetFirstPlayer$${StructQBKey out = i}$	:i while 	:i if NOT $is_player_on_a_team$$player$ = %GLOBAL%$i$$team_0$ = %GLOBAL%$team_0$$team_1$ = %GLOBAL%$team_1$		:i $AddArrayElement$$array$ = %GLOBAL%$team_0$$element$ = %GLOBAL%$i$		:i $team_0$ = %GLOBAL%$array$		:i $getplayerinfo$%GLOBAL%$i$$part$		:i $GetFirstPlayer$${StructQBKey out = j}$		:i while 		:i if NOT $is_player_on_a_team$$player$ = %GLOBAL%$j$$team_0$ = %GLOBAL%$team_0$$team_1$ = %GLOBAL%$team_1$			:i if $playerinfoequals$%GLOBAL%$j$$part$ = %GLOBAL%$part$				:i $AddArrayElement$$array$ = %GLOBAL%$team_1$$element$ = %GLOBAL%$j$				:i $team_1$ = %GLOBAL%$array$				:i continue			:i endif		:i endif		:i $GetNextPlayer$$player$ = %GLOBAL%$j$$out$ = $j$		:i loop_to %GLOBAL%$num_players$	:i endif	:i $GetNextPlayer$$player$ = %GLOBAL%$i$$out$ = $i$	:i loop_to %GLOBAL%$num_players$	:i $band$ = %i(1)	:i $array$ = %GLOBAL%$team_0$	:i while 	:i $GetArraySize$%GLOBAL%$array$	:i $i$ = %i(0)	:i while 	:i $printf$^[fdc1ab1c]^$d$ = (%GLOBAL%$array$:a{%GLOBAL%$i$:a})$c$ = %GLOBAL%$band$	:i $SetPlayerInfo$(%GLOBAL%$array$:a{%GLOBAL%$i$:a})$band$ = %GLOBAL%$band$	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $band$ = %i(2)	:i $array$ = %GLOBAL%$team_1$	:i loop_to %i(2)	:i $GetNumPlayersInGame$	:i $GetFirstPlayer$	:i while 	:i $SetPlayerInfo$%GLOBAL%$player$$console_id$ = %GLOBAL%$player$	:i $GetNextPlayer$$player$ = %GLOBAL%$player$	:i loop_to %GLOBAL%$num_players$	:i endfunction]Script is_player_on_a_team 0x63b03a88 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				player				team_0				team_1			]		}		StructQBKey all	}$		:i $team_array$ = %GLOBAL%$team_0$	:i $found$ = %i(0)	:i while 	:i $GetArraySize$${StructQBKey team_array}$	:i if (%GLOBAL%$array_size$ > %i(0))		:i $i$ = %i(0)		:i while 		:i if (%GLOBAL%$player$ = (%GLOBAL%$team_array$:a{%GLOBAL%$i$:a}))			:i $found$ = %i(1)		:i endif		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i $team_array$ = %GLOBAL%$team_1$	:i loop_to %i(2)	:i if (%GLOBAL%$found$ = %i(1))		:i return ${StructQBKey true}$	:i else 		:i return ${StructQBKey false}$	:i endif	:i endfunction]Script team_select_prepare_players 0x2a54f3a2 [	:i $printf$${		StructQBKey channel = band_lobby		StructQBStringQs 0x2370fcc1	}$		:i $team_0$ = :a{:a}	:i $team_1$ = :a{:a}	:i $GetNumPlayersInGame$	:i if (%GLOBAL%$num_players$ > %i(0))		:i $GetFirstPlayer$		:i while 		:i if $playerinfoequals$%GLOBAL%$player$$band$ = %i(1)			:i $AddArrayElement$$array$ = %GLOBAL%$team_0$$element$ = %GLOBAL%$player$			:i $team_0$ = %GLOBAL%$array$		:i else 			:i $AddArrayElement$$array$ = %GLOBAL%$team_1$$element$ = %GLOBAL%$player$			:i $team_1$ = %GLOBAL%$array$		:i endif		:i $GetNextPlayer$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players$	:i else 		:i $scriptassert$${StructQBStringQs ff8a2642}$	:i endif	:i $team$ = %GLOBAL%$team_0$	:i %GLOBAL%$i$ = %i(1)	:i while 	:i $GetArraySize$%GLOBAL%$team$	:i if (%GLOBAL%$array_size$ > %i(0))		:i if (%GLOBAL%$array_size$ > %i(2))			:i $item_to_match_index$ = %i(0)			:i $search_index$ = %i(1)			:i while 			:i $getplayerinfo$(%GLOBAL%$team$:a{%GLOBAL%$item_to_match_index$:a})$console_id$$out$ = $match_value$			:i $getplayerinfo$(%GLOBAL%$team$:a{%GLOBAL%$search_index$:a})$console_id$$out$ = $search_value$			:i if (%GLOBAL%$match_value$ = %GLOBAL%$search_value$)				:i $InsertArrayElement$$array$ = %GLOBAL%$team$$element$ = (%GLOBAL%$team$:a{%GLOBAL%$search_index$:a})$index$ = (%GLOBAL%$item_to_match_index$ + %i(1))				:i $RemoveArrayElement$$array$ = %GLOBAL%$array$$index$ = (%GLOBAL%$search_index$ + %i(1))				:i $team$ = %GLOBAL%$array$				:i if ((%GLOBAL%$item_to_match_index$ + %i(2)) < %GLOBAL%$array_size$)					:i $item_to_match_index$ = (%GLOBAL%$item_to_match_index$ + %i(1))					:i $search_index$ = (%GLOBAL%$item_to_match_index$ + %i(1))				:i else 					:i continue				:i endif			:i else 				:i if ((%GLOBAL%$search_index$ + %i(1)) < %GLOBAL%$array_size$)					:i $search_index$ = (%GLOBAL%$search_index$ + %i(1))				:i else 					:i if ((%GLOBAL%$item_to_match_index$ + %i(2)) < %GLOBAL%$array_size$)						:i $item_to_match_index$ = (%GLOBAL%$item_to_match_index$ + %i(1))						:i $search_index$ = (%GLOBAL%$item_to_match_index$ + %i(1))					:i else 						:i continue					:i endif				:i endif			:i endif			:i loop_to 		:i endif	:i endif	:i if (%GLOBAL%$i$ = %i(1))		:i $change$$g_team_0$ = %GLOBAL%$team$		:i $team$ = %GLOBAL%$team_1$		:i %GLOBAL%$i$ = %i(2)	:i else 		:i $change$$g_team_1$ = %GLOBAL%$team$	:i endif	:i loop_to %i(2)	:i endfunction]Script team_select_reorder_teams 0x894dab41 [	:i $printf$${StructQBStringQs 0x6bff9518}$	:i $GetMaxPlayers$	:i if (%GLOBAL%$max_players$ > %i(0))		:i $i$ = %i(0)		:i while 		:i $PlayerInfoStore$(%GLOBAL%$i$ + %i(1))$secondary$		:i $i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$max_players$		:i $team_select_dump_players$		:i $GetFirstPlayer$${StructQBKey local}$		:i $getplayerinfo$%GLOBAL%$player$$band$		:i $local_band$ = %GLOBAL%$band$		:i $team_0$ = :a{:a}		:i $team_1$ = :a{:a}		:i $num_bass$ = :a{%i(0)%i(0):a}		:i $num_guitar$ = :a{%i(0)%i(0):a}		:i %GLOBAL%$solo_highway_mode$ = %i(0)		:i $GetNumPlayersInGame$		:i if (%GLOBAL%$num_players$ > %i(0))			:i %GLOBAL%$local_bands$ = :a{:a}			:i %GLOBAL%$swap_teams$ = %i(0)			:i $GetNumPlayersInGame$${				StructQBKey local				StructQBKey out = num_local_players			}$						:i $GetFirstPlayer$${StructQBKey local}$			:i while 			:i if $playerinfoequals$%GLOBAL%$player$$band$ = %GLOBAL%$local_band$				:i $AddArrayElement$$array$ = %GLOBAL%$team_0$$element$ = %GLOBAL%$player$				:i $team_0$ = %GLOBAL%$array$			:i else 				:i $AddArrayElement$$array$ = %GLOBAL%$team_1$$element$ = %GLOBAL%$player$				:i $team_1$ = %GLOBAL%$array$			:i endif			:i $getplayerinfo$%GLOBAL%$player$$band$			:i if NOT $ArrayContains$$array$ = %GLOBAL%$local_bands$$contains$ = %GLOBAL%$band$				:i $AddArrayElement$$array$ = %GLOBAL%$local_bands$$element$ = %GLOBAL%$band$				:i %GLOBAL%$local_bands$ = %GLOBAL%$array$			:i endif			:i $RemoveParameter$${StructQBKey band}$			:i if (%GLOBAL%$solo_highway_mode$ = %i(0))				:i if $playerinfoequals$%GLOBAL%$player$$solo_highway_mode$ = %i(1)					:i %GLOBAL%$solo_highway_mode$ = %i(1)				:i endif			:i endif			:i $GetNextPlayer$$local$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_local_players$			:i $GetArraySize$${StructQBKey team_0}$			:i %GLOBAL%$team_0_size$ = %GLOBAL%$array_size$			:i $GetArraySize$${StructQBKey team_1}$			:i %GLOBAL%$team_1_size$ = %GLOBAL%$array_size$			:i if (%GLOBAL%$team_1_size$ > %GLOBAL%$team_0_size$)				:i %GLOBAL%$swap_teams$ = %i(1)			:i endif			:i $GetNumPlayersInGame$${				StructQBKey remote				StructQBKey out = num_remote_players			}$						:i $GetFirstPlayer$${StructQBKey remote}$			:i while 			:i if $playerinfoequals$%GLOBAL%$player$$band$ = %GLOBAL%$local_band$				:i $AddArrayElement$$array$ = %GLOBAL%$team_0$$element$ = %GLOBAL%$player$				:i $team_0$ = %GLOBAL%$array$			:i else 				:i $AddArrayElement$$array$ = %GLOBAL%$team_1$$element$ = %GLOBAL%$player$				:i $team_1$ = %GLOBAL%$array$			:i endif			:i $GetNextPlayer$$remote$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_remote_players$			:i if (%GLOBAL%$swap_teams$ = %i(1))				:i %GLOBAL%$array$ = %GLOBAL%$team_0$				:i %GLOBAL%$team_0$ = %GLOBAL%$team_1$				:i %GLOBAL%$team_1$ = %GLOBAL%$array$			:i endif			:i $printstruct$ isNull 			:i $GetArraySize$${StructQBKey team_0}$			:i $i$ = %i(0)			:i while 			:i $restore_player$ = (%GLOBAL%$i$ + %i(1))			:i $printf$^[b4b0b997]^$d$ = %GLOBAL%$restore_player$$e$ = (%GLOBAL%$team_0$:a{%GLOBAL%$i$:a})			:i $PlayerInfoReStore$$player$ = %GLOBAL%$restore_player$$restore_from$ = (%GLOBAL%$team_0$:a{%GLOBAL%$i$:a})$secondary$			:i $FormatText$$checksumname$ = $server_id$%s("player%i_server")$i$ = %GLOBAL%$restore_player$			:i $SetPlayerInfo$%GLOBAL%$restore_player$$server_id$ = %GLOBAL%$server_id$			:i $SetPlayerInfo$%GLOBAL%$restore_player$$player$ = %GLOBAL%$restore_player$			:i $team_select_dump_players$			:i $getplayerinfo$%GLOBAL%$restore_player$$part$			:i if (%GLOBAL%$part$ = $Bass$)				:i $SetArrayElement$$arrayName$ = $num_bass$$index$ = %i(0)$newValue$ = (%GLOBAL%$num_bass$:a{%i(0):a} + %i(1))			:i elseif (%GLOBAL%$part$ = $guitar$)				:i $SetArrayElement$$arrayName$ = $num_guitar$$index$ = %i(0)$newValue$ = (%GLOBAL%$num_guitar$:a{%i(0):a} + %i(1))			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$			:i $team_0_size$ = %GLOBAL%$array_size$			:i $printf$^[20f2b171]^$d$ = %GLOBAL%$team_0_size$			:i $GetArraySize$${StructQBKey team_1}$			:i $i$ = %i(0)			:i while 			:i $restore_player$ = (%GLOBAL%$i$ + %GLOBAL%$team_0_size$ + %i(1))			:i $printf$^[b4b0b997]^$d$ = %GLOBAL%$restore_player$$e$ = (%GLOBAL%$team_1$:a{%GLOBAL%$i$:a})			:i $PlayerInfoReStore$$player$ = %GLOBAL%$restore_player$$restore_from$ = (%GLOBAL%$team_1$:a{%GLOBAL%$i$:a})$secondary$			:i $FormatText$$checksumname$ = $server_id$%s("player%i_server")$i$ = %GLOBAL%$restore_player$			:i $SetPlayerInfo$%GLOBAL%$restore_player$$server_id$ = %GLOBAL%$server_id$			:i $SetPlayerInfo$%GLOBAL%$restore_player$$player$ = %GLOBAL%$restore_player$			:i if $playerinfoequals$%GLOBAL%$restore_player$$is_local_client$ = %i(0)				:i $SetPlayerInfo$%GLOBAL%$restore_player$$is_onscreen$ = %i(0)			:i endif			:i $team_select_dump_players$			:i $getplayerinfo$%GLOBAL%$restore_player$$part$			:i if (%GLOBAL%$part$ = $Bass$)				:i $SetArrayElement$$arrayName$ = $num_bass$$index$ = %i(1)$newValue$ = (%GLOBAL%$num_bass$:a{%i(1):a} + %i(1))			:i elseif (%GLOBAL%$part$ = $guitar$)				:i $SetArrayElement$$arrayName$ = $num_guitar$$index$ = %i(1)$newValue$ = (%GLOBAL%$num_guitar$:a{%i(1):a} + %i(1))			:i endif			:i $i$ = (%GLOBAL%$i$ + %i(1))			:i loop_to %GLOBAL%$array_size$			:i $GetNumPlayersInGame$${StructQBKey on_screen}$			:i if (%GLOBAL%$num_players_shown$ < %i(4) AND %GLOBAL%$solo_highway_mode$ = %i(0))				:i $GetNumPlayersInGame$				:i if (%GLOBAL%$num_players$ = %i(4))					:i $GetFirstPlayer$					:i while 					:i if (%GLOBAL%$player$ <= %i(4))						:i $SetPlayerInfo$%GLOBAL%$player$$is_onscreen$ = %i(1)					:i endif					:i $GetNextPlayer$$player$ = %GLOBAL%$player$					:i loop_to %GLOBAL%$num_players$				:i elseif (%GLOBAL%$num_players$ > %i(0))					:i $GetFirstPlayer$					:i while 					:i if (%GLOBAL%$player$ <= %i(4))						:i $getplayerinfo$%GLOBAL%$player$$band$						:i if $ArrayContains$$array$ = %GLOBAL%$local_bands$$contains$ = %GLOBAL%$band$							:i if $playerinfoequals$%GLOBAL%$player$$is_onscreen$ = %i(0)								:i if (%GLOBAL%$num_players_shown$ < %i(4))									:i %GLOBAL%$num_players_shown$ = (%GLOBAL%$num_players_shown$ + %i(1))									:i $SetPlayerInfo$%GLOBAL%$player$$is_onscreen$ = %i(1)								:i endif							:i endif						:i endif						:i $RemoveParameter$${StructQBKey band}$					:i endif					:i $GetNextPlayer$$player$ = %GLOBAL%$player$					:i loop_to %GLOBAL%$num_players$				:i endif			:i endif			:i %GLOBAL%$player$ = %i(1)			:i while 			:i $FormatText$$checksumname$ = $musician_value$%s("musician%p")$p$ = %GLOBAL%$player$			:i $FormatText$$checksumname$ = $hud_value$%s("player%p_hud")$p$ = %GLOBAL%$player$			:i $SetPlayerInfo$%GLOBAL%$player$$band_member$ = %GLOBAL%$musician_value$			:i $SetPlayerInfo$%GLOBAL%$player$$hud_id$ = %GLOBAL%$hud_value$			:i %GLOBAL%$player$ = (%GLOBAL%$player$ + %i(1))			:i loop_to %i(4)			:i if $ChecksumEquals$$a$ = (~$competitive_rules$)$b$ = $band_vs_band$				:i $lock_player_parts$			:i elseif (%GLOBAL%$num_bass$:a{%i(0):a} !== %GLOBAL%$num_bass$:a{%i(1):a} OR %GLOBAL%$num_guitar$:a{%i(0):a} !== %GLOBAL%$num_guitar$:a{%i(1):a})				:i $match_team_player_parts$			:i endif		:i else 			:i $scriptassert$${StructQBStringQs ff8a2642}$		:i endif	:i endif	:i endfunction]Script team_select_drop_player 0x960547d2 [	:i $printf$${StructQBStringQs 0x19f4d451}$	:i if $ScreenElementExists$${StructQBKey id = team_select_desc}$		:i %GLOBAL%$parent$ = $team_select_desc$	:i endif	:i $songlist_drop_player$ isNull 	:i endfunction]Script team_select_end_game acc584f5 [	:i $KillSpawnedScript$${StructQBKey name = team_select_continue}$	:i $KillSpawnedScript$${StructQBKey name = team_select_time_out_loop}$	:i $KillSpawnedScript$${StructQBKey name = team_select_menu_change}$	:i $songlist_end_game$ isNull 	:i endfunction]Script team_select_dump_players e3f9d47b [	:i $printf$${StructQBStringQs de45cc90}$	:i $GetNumPlayersInGame$	:i if (%GLOBAL%$num_players$ > %i(0))		:i $GetFirstPlayer$		:i while 		:i $getplayerinfo$%GLOBAL%$player$$net_obj_id$		:i $getplayerinfo$%GLOBAL%$player$$is_local_client$		:i $getplayerinfo$%GLOBAL%$player$$band$		:i $printf$^[ed5f0196]^$a$ = %GLOBAL%$player$$b$ = %GLOBAL%$band$$c$ = %GLOBAL%$is_local_client$$d$ = %GLOBAL%$net_obj_id$		:i $GetNextPlayer$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players$	:i endif	:i endfunction]Script debug_dump_team_globals e0a61545 [	:i $printf$${StructQBStringQs 0x11f0b140}$	:i $fastgetarraysize$${StructQBString array = g_team_0}$	:i if (%i(0) < %GLOBAL%$array_size$)		:i %GLOBAL%$index$ = %i(0)		:i while 		:i $printf$^[26eb2bf0]^$a$ = (~$g_team_0$:a{%GLOBAL%$index$:a})		:i %GLOBAL%$index$ = (%i(1) + %GLOBAL%$index$)		:i loop_to %GLOBAL%$array_size$	:i else 		:i $printf$${StructQBStringQs 0x6be2f78f}$	:i endif	:i $printf$${StructQBStringQs 0x08eb8001}$	:i $fastgetarraysize$${StructQBString array = g_team_1}$	:i if (%i(0) < %GLOBAL%$array_size$)		:i %GLOBAL%$index$ = %i(0)		:i while 		:i $printf$^[26eb2bf0]^$a$ = (~$g_team_1$:a{%GLOBAL%$index$:a})		:i %GLOBAL%$index$ = (%i(1) + %GLOBAL%$index$)		:i loop_to %GLOBAL%$array_size$	:i else 		:i $printf$${StructQBStringQs 0x6be2f78f}$	:i endif	:i endfunction]Script debug_dump_team_globals_spawned f477d6bb [	:i while 	:i $debug_dump_team_globals$	:i $WaitOneGameFrame$	:i loop_to 	:i endfunction]