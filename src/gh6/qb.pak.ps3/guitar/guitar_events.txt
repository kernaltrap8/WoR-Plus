Unknown [1c00000000000000000079ec0000000000000000]SectionArray guitar_events{	ArrayStruct	[		StructHeader		{			StructQBKey type = call			StructQBKey event = missed_note			StructQBKey scr = GuitarEvent_MissedNote		}		StructHeader		{			StructQBKey type = call			StructQBKey event = unnecessary_note			StructQBKey scr = GuitarEvent_UnnecessaryNote		}		StructHeader		{			StructQBKey type = call			StructQBKey event = hit_notes			StructQBKey scr = GuitarEvent_HitNotes		}		StructHeader		{			StructQBKey type = call			StructQBKey event = hit_note			StructQBKey scr = GuitarEvent_HitNote		}		StructHeader		{			StructQBKey type = call			StructQBKey event = drumfill_hit			StructQBKey scr = GuitarEvent_DrumFillHit		}		StructHeader		{			StructQBKey type = call			StructQBKey event = star_power_on			StructQBKey scr = GuitarEvent_StarPowerOn		}		StructHeader		{			StructQBKey type = call			StructQBKey event = star_power_off			StructQBKey scr = GuitarEvent_StarPowerOff		}		StructHeader		{			StructQBKey type = spawn			StructQBKey event = song_failed			StructQBKey scr = GuitarEvent_SongFailed		}		StructHeader		{			StructQBKey type = spawn			StructQBKey event = song_won			StructQBKey scr = GuitarEvent_SongWon		}		StructHeader		{			StructQBKey type = spawn			StructQBKey event = star_sequence_bonus			StructQBKey scr = GuitarEvent_StarSequenceBonus		}		StructHeader		{			StructQBKey type = call			StructQBKey event = whammy_on			StructQBKey scr = GuitarEvent_WhammyOn		}		StructHeader		{			StructQBKey type = call			StructQBKey event = whammy_off			StructQBKey scr = GuitarEvent_WhammyOff		}		StructHeader		{			StructQBKey type = call			StructQBKey event = ext_whammy_off			StructQBKey scr = GuitarEvent_WhammyOff		}		StructHeader		{			StructQBKey type = spawn			StructQBKey event = note_window_open			StructQBKey scr = GuitarEvent_Note_Window_Open		}		StructHeader		{			StructQBKey type = spawn			StructQBKey event = note_window_close			StructQBKey scr = GuitarEvent_Note_Window_Close		}		StructHeader		{			StructQBKey type = call			StructQBKey event = firstnote_window_open			StructQBKey scr = GuitarEvent_FirstNote_Window_Open		}		]}Script create_guitar_events 0x1190ef7e [	:i $printf$^[f3da5047]^$a$ = %GLOBAL%$player$	:i $GetArraySize$${StructQBString guitar_events}$	:i $array_entry$ = %i(0)	:i while 	:i $event$ = (~$guitar_events$:a{%GLOBAL%$array_entry$:a}->$event$)	:i $type$ = (~$guitar_events$:a{%GLOBAL%$array_entry$:a}->$type$)	:i $extendcrcplayer$%GLOBAL%$event$%GLOBAL%$player$$out$ = $event$	:i if (%GLOBAL%$type$ = $spawn$)		:i $seteventhandler$$Response$ = $call_script$$event$ = %GLOBAL%$event$$scr$ = $event_spawner$$params$ = :s{$event_spawned$ = %GLOBAL%$array_entry$:s}	:i else 		:i $scr$ = (~$guitar_events$:a{%GLOBAL%$array_entry$:a}->$scr$)		:i $seteventhandler$$Response$ = $call_script$$event$ = %GLOBAL%$event$$scr$ = %GLOBAL%$scr$	:i endif	:i $array_entry$ = (%GLOBAL%$array_entry$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $Block$	:i endfunction]SectionArray g_valid_script_events{	ArrayQBKey	[		AE_DisableAutochords		AE_EnableAutochords		Band_ChangeFacialAnims		Band_ClearAnimTempo		Band_DisableAutoChords		Band_DisableAutoFret		Band_DisableAutoStrums		Band_EnableAutoChords		Band_EnableAutoFret		Band_EnableAutoStrums		Band_ForceAllToIdle		Band_HideMic		Band_HideMic_microphone		Band_HideMic_stand		Band_MoveToNode		Band_PlayClip		Band_PlayFacialAnim		Band_PlayIdle		Band_PlayLoop		Band_PlayRockinFacialAnim		Band_PlaysimpleAnim		Band_SetAnimTempo		band_setikchain		Band_SetIKChainTarget		Band_ShowMic		Band_ShowMic_microphone		Band_ShowMic_Stand		bandforcealltoidle		CameraCutsEffect_FOVPulse		LightShow_SetTime		SetSongHandCamParams		Spit_Vocalist_Small		Audio_Sync_Test_Disable_Highway		Audio_Sync_Test_Enable_Highway		band_lookat_off		band_lookat_on		BandManager_HideInstrument		BandManager_UnHideInstrument		bandmember_sillhouette		BandMember_Sillhouette_TurnOffFlare		CameraCuts_ApplyDOF		change_crowd_state		crowdspots		crowdspots_off		fadeoutandin		lightshow_cinematic_blackout_end		lightshow_cinematic_blackout_start		Preload_Rush_Career_VO_Stream		Preload_FB_Scene_2_Stream		Preload_FB_Scene_3_Stream		scene_swap		Start_Preloaded_Rush_Career_VO_Stream		TestToneEnterScript		TestToneSoundEvent		Band_Hide		Band_Unhide		Bandmanager_setIKchainStrength		z_finalbattle_hw_attack_guitarist		z_finalbattle_hw_attack_vocalist		z_finalbattle_hw_attack_drummer		Z_FinalBattle_Ampzilla_FX_Attack_Shot		Z_FinalBattle_Ampzilla_FX_Hit_Slam		GH6Intro_FX_DG_Slide		GH6Intro_FX_DG_GroundSlam		GH6Intro_FX_DG_HitA		GH6Intro_FX_DG_WallSlam		GH6Intro_FX_DG_AttackA		GH6Intro_FX_Ampzilla_ExtraDamage		GH6Intro_FX_DG_AttackF		GH6Intro_FX_DG_AttackF_Cleanup		GH6Intro_FX_Cleanup		GH6Intro_FX_DG_AttackRush		GH6Intro_FX_Ampzilla_GroundDust		GH6Intro_FX_DG_AttackKick		GH6Intro_FX_DG_AttackPunch		GH6Intro_FX_DG_AttackKick_Cleanup		z_finalbattle_hw_hita		Z_FinalBattle_DG_SwordHit		Z_FinalBattle_Success_Part3		Scream_SFX_Between_Song_1_and_2		Enable_Tempo		Disable_Tempo		display_highway		hide_highway		dummy_scriptevent		dummy_function	]}Script dummy_scriptevent ffffffff [	:i endfunction]Script event_spawner 0x75eb7680 [	:i $spawnscriptnow$(~$guitar_events$:a{%GLOBAL%$event_spawned$:a}->$scr$)$params$ = :s{ isNull :s}$id$ = $song_event_scripts$	:i endfunction]Script event_iterator 0x0621c1c2 [	:i $printf$^[5fa77966]^$d$ = %GLOBAL%$time_offset$$e$ = %GLOBAL%$event_string$$channel$ = $events$	:i $get_song_prefix$$song$ = %GLOBAL%$song_name$	:i $FormatText$$checksumname$ = $song$%s("%s_%e")$s$ = %GLOBAL%$song_prefix$$e$ = %GLOBAL%$event_string$$addtostringlookup$ = $true$	:i $array_entry$ = %i(0)	:i if NOT $SongGlobalExists$$name$ = %GLOBAL%$song$$type$ = $array$		:i if (%GLOBAL%$event_string$ !== %s("scriptevents"))			:i $scriptassert$%s("Array %s does not exist")$s$ = %GLOBAL%$song$		:i endif		:i return 	:i endif	:i $GetSongArraySize$%GLOBAL%$song$	:i if (%GLOBAL%$array_size$ = %i(0))		:i return 	:i endif	:i $CheckValidScriptEvents$$name$ = %GLOBAL%$song$$song_name$ = %GLOBAL%$song_name$	:i $getsongtimems$$time_offset$ = %GLOBAL%$time_offset$	:i while 	:i $GetSongGlobal$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$	:i if ((%GLOBAL%$time$ - %GLOBAL%$skipleadin$) < (%GLOBAL%$element$->$time$))		:i continue	:i endif	:i %GLOBAL%$array_entry$ = (%GLOBAL%$array_entry$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $array_size$ = (%GLOBAL%$array_size$ - %GLOBAL%$array_entry$)	:i if (%GLOBAL%$array_size$ = %i(0))		:i return 	:i endif	:i while 	:i $GetSongGlobal$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$	:i $TimeMarkerReached_SetParams$$time_offset$ = %GLOBAL%$time_offset$$time$ = (%GLOBAL%$element$->$time$)	:i while 	:i if $TimeMarkerReached$		:i $getsongtimems$$time_offset$ = %GLOBAL%$time_offset$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $TimeMarkerReached_ClearParams$	:i $ScriptName$ = (%GLOBAL%$element$->$scr$)	:i if $ScriptExists$%GLOBAL%$ScriptName$		:i $spawnscriptnow$%GLOBAL%$ScriptName$$params$ = :s{$time$ = %GLOBAL%$time$$event_time$ = (%GLOBAL%$element$->$time$)(%GLOBAL%$element$->$params$):s}$id$ = $song_event_scripts$	:i elseif $SymbolIsCFunc$%GLOBAL%$ScriptName$		:i %GLOBAL%$ScriptName$:s{$time$ = %GLOBAL%$time$$event_time$ = (%GLOBAL%$element$->$time$)(%GLOBAL%$element$->$params$):s}	:i endif	:i %GLOBAL%$array_entry$ = (%GLOBAL%$array_entry$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script scriptevents_iterator 0x17ac59a1 [	:i %GLOBAL%$intro_script_events$ = $unknown$	:i if (~$current_transition$ = $encore$)		:i $get_rocker_transformation_name$		:i %GLOBAL%$intro_script_events$ = %GLOBAL%$name$	:i elseif (~$current_transition$ = $celebintro$)		:i $get_rocker_intro_name$		:i %GLOBAL%$intro_script_events$ = %GLOBAL%$name$	:i elseif (~$current_transition$ = $finalbattleintro$)		:i %GLOBAL%$current_song$ = $None$		:i $Playlist_GetCurrentSong$		:i $get_finalbattle_song_number$$song$ = %GLOBAL%$current_song$		:i $GetArraySize$${StructQBString g_finalbattle_performance_names}$		:i if (%GLOBAL%$song_number$ > %GLOBAL%$array_size$)			:i $scriptassert$${StructString 0x00000000 = "array g_finalbattle_performance_names does not contain enough songs"}$		:i else 			:i $intro_script_events$ = (~$g_finalbattle_performance_names$:a{%GLOBAL%$song_number$:a})		:i endif	:i endif	:i $extendcrc$%GLOBAL%$intro_script_events$%s("_scriptevents")$out$ = $intro_script_events$	:i if $globalexists$$name$ = %GLOBAL%$intro_script_events$$type$ = $array$		:i $GetArraySize$~%GLOBAL%$intro_script_events$		:i %GLOBAL%$array_entry$ = %i(0)		:i while 		:i $TimeMarkerReached_SetParams$$time_offset$ = %GLOBAL%$time_offset$$array$ = %GLOBAL%$intro_script_events$$array_entry$ = %GLOBAL%$array_entry$$arrayofstructures$$FixTimeRounding$		:i while 		:i if $TimeMarkerReached$			:i $getsongtimems$$time_offset$ = %GLOBAL%$time_offset$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 		:i $TimeMarkerReached_ClearParams$		:i $ScriptName$ = (~%GLOBAL%$intro_script_events$:a{%GLOBAL%$array_entry$:a}->$scr$)		:i if $ScriptExists$%GLOBAL%$ScriptName$			:i $spawnscriptnow$%GLOBAL%$ScriptName$$params$ = :s{$time$ = %GLOBAL%$time$$event_time$ = ((~%GLOBAL%$intro_script_events$:a{%GLOBAL%$array_entry$:a})->$time$)(~%GLOBAL%$intro_script_events$:a{%GLOBAL%$array_entry$:a}->$params$)$from_scriptevent$ = %i(1)$intro_event$ = %i(1):s}$id$ = $song_event_scripts$		:i elseif $SymbolIsCFunc$%GLOBAL%$ScriptName$			:i %GLOBAL%$ScriptName$:s{$time$ = %GLOBAL%$time$$event_time$ = ((~%GLOBAL%$intro_script_events$:a{%GLOBAL%$array_entry$:a})->$time$)(~%GLOBAL%$intro_script_events$:a{%GLOBAL%$array_entry$:a}->$params$)$intro_event$ = %i(1):s}		:i else 			:i $scriptassert$${StructQBStringQs 0x9c0f1457}$		:i endif		:i %GLOBAL%$array_entry$ = (%GLOBAL%$array_entry$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i else 	:i endif	:i if (~$current_transition$ = $encore$)		:i return 	:i endif	:i $get_song_prefix$$song$ = %GLOBAL%$song_name$	:i $FormatText$$checksumname$ = $song$%s("%s_scriptevents")$s$ = %GLOBAL%$song_prefix$$addtostringlookup$ = $true$	:i $array_entry$ = %i(0)	:i if NOT $SongGlobalExists$$name$ = %GLOBAL%$song$$type$ = $array$		:i return 	:i endif	:i $GetSongArraySize$%GLOBAL%$song$	:i if (%GLOBAL%$array_size$ = %i(0))		:i return 	:i endif	:i $CheckValidScriptEvents$$name$ = %GLOBAL%$song$$song_name$ = %GLOBAL%$song_name$	:i $getsongtimems$$time_offset$ = %GLOBAL%$time_offset$	:i if (%GLOBAL%$time$ > %i(1000))		:i while 		:i $GetSongGlobal$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$		:i if ((%GLOBAL%$time$ - %GLOBAL%$skipleadin$) <= (%GLOBAL%$element$->$time$))			:i continue		:i endif		:i %GLOBAL%$array_entry$ = (%GLOBAL%$array_entry$ + %i(1))		:i loop_to %GLOBAL%$array_size$		:i $array_size$ = (%GLOBAL%$array_size$ - %GLOBAL%$array_entry$)	:i endif	:i if (%GLOBAL%$array_size$ = %i(0))		:i return 	:i endif	:i while 	:i $GetSongGlobal$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$	:i $TimeMarkerReached_SetParams$$time_offset$ = %GLOBAL%$time_offset$$time$ = (%GLOBAL%$element$->$time$)$FixTimeRounding$	:i while 	:i if $TimeMarkerReached$		:i $getsongtimems$$time_offset$ = %GLOBAL%$time_offset$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $TimeMarkerReached_ClearParams$	:i $ScriptName$ = (%GLOBAL%$element$->$scr$)	:i if $ScriptExists$%GLOBAL%$ScriptName$		:i $spawnscriptnow$%GLOBAL%$ScriptName$$params$ = :s{$time$ = %GLOBAL%$time$$event_time$ = (%GLOBAL%$element$->$time$)(%GLOBAL%$element$->$params$)$from_scriptevent$ = %i(1):s}$id$ = $song_event_scripts$	:i elseif $SymbolIsCFunc$%GLOBAL%$ScriptName$		:i %GLOBAL%$ScriptName$:s{$time$ = %GLOBAL%$time$$event_time$ = (%GLOBAL%$element$->$time$)(%GLOBAL%$element$->$params$):s}	:i endif	:i %GLOBAL%$array_entry$ = (%GLOBAL%$array_entry$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script GuitarEvent_MissedNote e8104ec2 [	${StructInt extended_miss = 0}$	:i if (~$calibrate_lag_enabled$ = %i(1))		:i $spawnscriptnow$${StructQBKey calibration_highway_miss_note}$	:i endif	:i if (%GLOBAL%$bum_note$ = %i(1))		:i $audio_gameplay_guitar_wrong_note_sound_logic$ isNull 	:i endif	:i $getplayerinfo$%GLOBAL%$player$$is_local_client$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i $ProcessEvent_Note_Miss$ isNull 	:i if (~$is_network_game$ AND %GLOBAL%$is_local_client$ = %i(0))		:i if (%GLOBAL%$silent_miss$ = %i(1))			:i $spawnscriptnow$$highway_pulse_black$$params$ = :s{$player$ = %GLOBAL%$player$:s}		:i endif	:i else 		:i if NOT (%GLOBAL%$part$ = $drum$)			:i $PlayerGetVolume$$player$ = %GLOBAL%$player$			:i if NOT (%GLOBAL%$volume$ = %i(0))				:i if (%GLOBAL%$silent_miss$ = %i(1))					:i $spawnscriptnow$$highway_pulse_black$$params$ = :s{$player$ = %GLOBAL%$player$:s}				:i else 					:i if NOT (%GLOBAL%$extended_miss$ = %i(1))						:i $PlayerSetVolume$$player$ = %GLOBAL%$player$$volume$ = %i(0)						:i $UpdateGuitarVolume$					:i endif				:i endif			:i endif		:i endif		:i $Playlist_GetCurrentSong$		:i if (%GLOBAL%$current_song$ = $jamsession$)			:i $musicstudio_update_volume_for_playback$$Off$$player$ = %GLOBAL%$player$		:i endif	:i endif	:i if (~$always_strum$ = $false$)		:i if (~$disable_band$ = %i(0))			:i $getplayerinfo$%GLOBAL%$player$$band_member$			:i if $CompositeObjectExists$$name$ = %GLOBAL%$band_member$				:i if (%GLOBAL%$part$ = $guitar$ OR %GLOBAL%$part$ = $Bass$)					:i $BandManager_MissedNote$$name$ = %GLOBAL%$band_member$				:i endif			:i endif		:i endif	:i endif	:i $InputArrayGetElement$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$	:i if (~$show_play_log$ = %i(1))		:i $output_log_text$^[bfe03a95]^$t$ = (%GLOBAL%$gem_array$:a{%i(0):a})$color$ = $orange$	:i endif	:i endfunction]Script highway_pulse_black d0eeefb1 [	:i %GLOBAL%$half_time$ = (~$highway_pulse_time$ / %f(2.0))	:i $extendcrcplayer$$out$ = $highway$$Highway_2D$%GLOBAL%$player$	:i $LegacyDoScreenElementMorph$$id$ = %GLOBAL%$highway$$rgba$ = (~$highway_pulse$)$time$ = %GLOBAL%$half_time$	:i $wait$%GLOBAL%$half_time$$seconds$	:i if $playerinfoequals$%GLOBAL%$player$$star_power_used$ = %i(1)		:i $LegacyDoScreenElementMorph$$id$ = %GLOBAL%$highway$$rgba$ = (~$highway_starpower$)$time$ = %GLOBAL%$half_time$	:i else 		:i $LegacyDoScreenElementMorph$$id$ = %GLOBAL%$highway$$rgba$ = (~$highway_normal$)$time$ = %GLOBAL%$half_time$	:i endif	:i endfunction]Script GuitarEvent_UnnecessaryNote c2f6f3f4 [	:i if (~$calibrate_lag_enabled$ = %i(1))		:i return 	:i endif	:i $audio_gameplay_guitar_wrong_note_sound_logic$ isNull 	:i $getplayerinfo$%GLOBAL%$player$$is_local_client$	:i if NOT (~$is_network_game$ AND (%GLOBAL%$is_local_client$ = %i(0)))		:i $PlayerSetVolume$$player$ = %GLOBAL%$player$$volume$ = %i(0)		:i $UpdateGuitarVolume$		:i $musicstudio_update_volume_for_playback$$Off$$player$ = %GLOBAL%$player$$UnnecessaryNote$ = %i(1)	:i endif	:i if (~$always_strum$ = $false$)		:i if (~$disable_band$ = %i(0))			:i $getplayerinfo$%GLOBAL%$player$$band_member$			:i if $CompositeObjectExists$$name$ = %GLOBAL%$band_member$				:i $getplayerinfo$%GLOBAL%$player$$part$				:i if (%GLOBAL%$part$ = $guitar$ OR %GLOBAL%$part$ = $Bass$)					:i $LaunchEvent$$type$ = $Anim_MissedNote$$target$ = (%GLOBAL%$band_member$)				:i endif			:i endif		:i endif	:i endif	:i if (~$show_play_log$ = %i(1))		:i if (%GLOBAL%$array_entry$ > %i(0))			:i %GLOBAL%$songtime$ = (%GLOBAL%$songtime$ - (~$check_time_early$ * %f(1000.0)))			:i $InputArrayGetElement$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$			:i $next_note$ = (%GLOBAL%$gem_array$:a{%i(0):a})			:i $InputArrayGetElement$$name$ = %GLOBAL%$song$$index$ = (%GLOBAL%$array_entry$%i(4294967295))			:i $prev_note$ = (%GLOBAL%$gem_array$:a{%i(0):a})			:i $next_time$ = (%GLOBAL%$next_note$ - %GLOBAL%$songtime$)			:i $prev_time$ = (%GLOBAL%$songtime$ - %GLOBAL%$prev_note$)			:i if (%GLOBAL%$prev_time$ < (~$check_time_late$ * %f(1000.0)))				:i %GLOBAL%$prev_time$ = %f(1000000.0)			:i endif			:i if (%GLOBAL%$next_time$ < %GLOBAL%$prev_time$)				:i %GLOBAL%$next_time$ = (%i(0) - %GLOBAL%$next_time$)				:i $output_log_text$^[9648a941]^$n$ = %GLOBAL%$next_time$$t$ = %GLOBAL%$next_note$$color$ = $red$			:i else 				:i $output_log_text$^[6ef444b5]^$n$ = %GLOBAL%$prev_time$$t$ = %GLOBAL%$prev_note$$color$ = $darkred$			:i endif		:i endif	:i endif	:i endfunction]Script GuitarEvent_HitNotes 0x6ac246a5 [	:i if (~$g_debug_audible_hitnote$ = %i(1))		:i $SoundEvent$${StructQBKey event = Audio_Debug_Hit_Note}$	:i endif	:i $getplayerinfo$%GLOBAL%$player$$part$	:i $ProcessEvent_Note_Hit$ isNull 	:i if (~$show_play_log$ = %i(1) OR ~$calibrate_lag_enabled$ = %i(1))		:i $get_lag_values$		:i %GLOBAL%$off_note$ = (%i(0) - (%GLOBAL%$off_note$ - (~$time_input_offset$ - %GLOBAL%$audio_offset$ + %GLOBAL%$video_offset$)))		:i $CastToInteger$${StructQBKey off_note}$		:i if (~$calibrate_lag_enabled$ = %i(1))			:i $AddArrayElement$$array$ = ~$calibrate_history_times$$element$ = %GLOBAL%$off_note$			:i $change$$calibrate_history_times$ = %GLOBAL%$array$		:i endif		:i if (~$show_play_log$ = %i(1))			:i $InputArrayGetElement$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$			:i $note_time$ = (%GLOBAL%$gem_array$:a{%i(0):a})			:i if (%GLOBAL%$off_note$ < %i(0))				:i $output_log_text$^[ddc15e81]^$n$ = %GLOBAL%$off_note$$t$ = %GLOBAL%$note_time$$color$ = $green$			:i else 				:i $output_log_text$^[257db375]^$n$ = %GLOBAL%$off_note$$t$ = %GLOBAL%$note_time$$color$ = $darkgreen$			:i endif		:i endif	:i endif	:i if (%GLOBAL%$updatevolume$ = $true$)		:i $UpdateGuitarVolume$		:i $musicstudio_update_volume_for_playback$$on$$player$ = %GLOBAL%$player$	:i endif	:i endfunction]Script GuitarEvent_HitNote 0x6611e196 [	:i if ((~$g_debug_highway_visible$) = %i(1))		:i if (~$highway_displayed$ = %i(1))			:i $spawnscriptnow$$GuitarEvent_HitNote_Spawned$$params$ = :s{ isNull :s}		:i endif	:i endif	:i endfunction]Script GuitarEvent_HitNote_Spawned 0x73097ff5 [	:i $getnowbarscale$$player$ = %GLOBAL%$player$	:i if (~$calibrate_lag_enabled$ = %i(1))		:i $spawnscriptnow$${StructQBKey calibration_highway_hit_note}$	:i endif	:i if $GotParam$${StructQBKey kick}$		:i $guitarevent_kick_drum_hit_note$$player$ = %GLOBAL%$player$	:i elseif $GotParam$${StructQBKey open_note}$		:i $GuitarEvent_Hit_Open_Note$$player$ = %GLOBAL%$player$	:i elseif $GotParam$${StructQBKey beginner_note}$		:i $GuitarEvent_Hit_Beginner_Note$$player$ = %GLOBAL%$player$	:i else 		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i $Scale$ = %vec2(3.0,3.0)		:i $star_power_used$ = %i(0)		:i if $playerinfoequals$$player$ = %GLOBAL%$player$$star_power_used$ = %i(1)			:i %GLOBAL%$star_power_used$ = %i(1)		:i endif		:i %GLOBAL%$Pos$ = ((%GLOBAL%$Pos$->%vec2(1.0,0.0) * %vec2(1.0,0.0)) + ((%GLOBAL%$Pos$->%vec2(0.0,1.0) + %i(25)) * %vec2(0.0,1.0)))		:i %GLOBAL%$particle_pos$ = (((%GLOBAL%$nowbar_x_scale$ * (%GLOBAL%$Pos$:a{%i(0):a})) * %vec2(1.0,0.0)) + ((%GLOBAL%$nowbar_y_scale$ * (%GLOBAL%$Pos$:a{%i(1):a}) + %i(30)) * %vec2(0.0,1.0)))		:i $NoteFX$ isNull $star$ = %GLOBAL%$star_power_used$$name$ = %GLOBAL%$fx_id$	:i endif	:i endfunction]Script guitarevent_hitnote_kill_spawned e3f69211 [	:i if $GotParam$${StructQBKey particle_id2}$		:i $wait$${			StructFloat 0.10000000149011612			StructQBKey seconds		}$				:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle_id$$kill_when_empty$		:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle_id2$$kill_when_empty$		:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle_id3$$kill_when_empty$		:i $wait$${			StructFloat 1.149999976158142			StructQBKey seconds		}$				:i $DestroyGemElement$$id$ = %GLOBAL%$fx_id$	:i else 		:i $wait$${			StructInt 4			StructQBKey gameframes		}$				:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle_id$$kill_when_empty$		:i $wait$${			StructInt 10			StructQBKey gameframes		}$				:i $DestroyGemElement$$id$ = %GLOBAL%$fx_id$	:i endif	:i endfunction]Script GuitarEvent_DrumFillHit c76ffa53 [	:i $GuitarEvent_HitNote$ isNull 	:i endfunction]SectionStruct hit_particle_params{	StructHeader	{		StructFloat z_priority = 8.00		StructQBKey material = sys_Particle_Spark01_sys_Particle_Spark01		StructArray start_color		{			ArrayInteger			[				255				128				64				200			]		}		StructArray end_color		{			ArrayInteger			[				255				128				0				0			]		}		StructFloatX2 start_scale		{			Floats [1.00000, 1.50000]		}		StructFloatX2 end_scale		{			Floats [0.0150000, 0.0300000]		}		StructFloat start_angle_spread = 0.00		StructFloat min_rotation = 0.00		StructFloat max_rotation = 0.00		StructFloat emit_start_radius = 30.00		StructFloat emit_radius = 12.00		StructFloat emit_rate = 0.02500000037252903		StructFloat emit_dir = 0.00		StructFloat emit_spread = 40.00		StructFloat velocity = 12.00		StructFloatX2 friction		{			Floats [0.00000, 100.000]		}		StructFloat time = 0.5	}}SectionStruct star_hit_particle_params{	StructHeader	{		StructFloat z_priority = 8.00		StructQBKey material = sys_Particle_Spark01_sys_Particle_Spark01		StructArray start_color		{			ArrayInteger			[				128				255				255				200			]		}		StructArray end_color		{			ArrayInteger			[				128				255				255				0			]		}		StructFloatX2 start_scale		{			Floats [1.00000, 1.50000]		}		StructFloatX2 end_scale		{			Floats [0.0150000, 0.0300000]		}		StructFloat start_angle_spread = 0.00		StructFloat min_rotation = 0.00		StructFloat max_rotation = 0.00		StructFloat emit_start_radius = 30.00		StructFloat emit_radius = 12.00		StructFloat emit_rate = 0.02500000037252903		StructFloat emit_dir = 0.00		StructFloat emit_spread = 40.00		StructFloat velocity = 12.00		StructFloatX2 friction		{			Floats [0.00000, 100.000]		}		StructFloat time = 0.5	}}SectionStruct drum_accent1_hit_particle_params{	StructHeader	{		StructFloat z_priority = 4.5		StructQBKey material = Mat_Velocity_shatter_fx		StructArray start_color		{			ArrayInteger			[				255				255				255				255			]		}		StructArray end_color		{			ArrayInteger			[				255				255				255				255			]		}		StructFloatX2 start_scale		{			Floats [0.500000, 0.500000]		}		StructFloatX2 end_scale		{			Floats [0.300000, 0.300000]		}		StructFloat start_angle_spread = 360.00		StructInt min_rotation = 360		StructInt max_rotation = 0		StructFloat emit_start_radius = 0.00		StructFloat emit_radius = 0.00		StructFloat emit_rate = 0.05000000074505806		StructFloat emit_dir = 0.00		StructFloat emit_spread = 120.00		StructFloat velocity = 33.00		StructFloatX2 friction		{			Floats [0.00000, 88.0000]		}		StructFloat time = 2.0999999046325684	}}SectionStruct drum_accent2_hit_particle_params{	StructHeader	{		StructFloat z_priority = 4.5		StructQBKey material = Mat_Velocity_shatter_fx1		StructArray start_color		{			ArrayInteger			[				255				255				255				255			]		}		StructArray end_color		{			ArrayInteger			[				255				255				255				255			]		}		StructFloatX2 start_scale		{			Floats [-0.300000, -0.300000]		}		StructFloatX2 end_scale		{			Floats [-0.500000, -0.500000]		}		StructFloat start_angle_spread = 360.00		StructInt min_rotation = 0		StructInt max_rotation = 360		StructInt emit_start_radius = 1		StructInt emit_radius = 1		StructFloat emit_rate = 0.05999999865889549		StructFloat emit_dir = 0.00		StructFloat emit_spread = 44.00		StructInt velocity = 24		StructFloatX2 friction		{			Floats [0.00000, 88.0000]		}		StructFloat time = 2.0999999046325684	}}SectionStruct drum_accent3_hit_particle_params{	StructHeader	{		StructFloat z_priority = 4.5		StructQBKey material = Mat_Velocity_shatter_fx2		StructArray start_color		{			ArrayInteger			[				122				122				122				128			]		}		StructArray end_color		{			ArrayInteger			[				123				123				123				0			]		}		StructFloatX2 start_scale		{			Floats [0.0400000, 0.0400000]		}		StructFloatX2 end_scale		{			Floats [0.100000, 0.100000]		}		StructFloat start_angle_spread = 360.00		StructInt min_rotation = 0		StructInt max_rotation = 0		StructInt emit_start_radius = 1		StructFloat emit_radius = 25.00		StructFloat emit_rate = 0.005499999970197678		StructFloat emit_dir = 0.00		StructFloat emit_spread = 44.00		StructFloat velocity = 22.00		StructFloatX2 friction		{			Floats [0.00000, 0.00000]		}		StructFloat time = 0.10000000149011612	}}SectionStruct whammy_particle_params{	StructHeader	{		StructFloat z_priority = 8.00		StructQBKey material = sys_Particle_Spark01_sys_Particle_Spark01		StructArray start_color		{			ArrayInteger			[				255				128				0				255			]		}		StructArray end_color		{			ArrayInteger			[				255				0				0				0			]		}		StructFloatX2 start_scale		{			Floats [1.00000, 1.00000]		}		StructFloatX2 end_scale		{			Floats [0.500000, 0.500000]		}		StructFloat start_angle_spread = 0.00		StructFloat min_rotation = 0.00		StructFloat max_rotation = 0.00		StructFloat emit_start_radius = 0.00		StructFloat emit_radius = 1.00		StructFloat emit_rate = 0.019999999552965164		StructFloat emit_dir = 0.00		StructFloat emit_spread = 160.00		StructFloat velocity = 10.00		StructFloatX2 friction		{			Floats [0.00000, 50.0000]		}		StructFloat time = 0.5	}}Script Drum_Accent_Hit_particle_FX 0x6e8d2282 [	:i $FormatText$$checksumname$ = $container_id$%s("nowbar_container_p%p")$p$ = %GLOBAL%$player$	:i $getnowbarscale$$player$ = %GLOBAL%$player$	:i %GLOBAL%$particle_pos$ = (((%GLOBAL%$nowbar_x_scale$ * (%GLOBAL%$Pos$:a{%i(0):a})) * %vec2(1.0,0.0)) + ((%GLOBAL%$nowbar_y_scale$ * (%GLOBAL%$Pos$:a{%i(1):a})) * %vec2(0.0,1.0)))	:i $getplayerinfo$$player$ = %GLOBAL%$player$$star_power_used$	:i $FormatText$$checksumname$ = $name$%s("hit_accent%p")$p$ = %GLOBAL%$player$$addtostringlookup$ = $true$	:i if (%GLOBAL%$star_power_used$ = %i(0))		:i if $ScreenElementExists$$id$ = %GLOBAL%$name$			:i $DestroyScreenElement$$id$ = %GLOBAL%$name$		:i endif		:i $CreateScreenElement$:s{			:i $type$ = $SpriteElement$			:i $id$ = %GLOBAL%$name$			:i $parent$ = %GLOBAL%$container_id$			:i $material$ = $mat_note_hit_xplosion1$			:i $rgba$ = :a{%i(255)%i(255)%i(255)%i(255):a}			:i $Pos$ = %GLOBAL%$Pos$			:i $rot_angle$ = (%i(0))			:i $Scale$ = %vec2(2.0,2.0)			:i $just$ = :a{$center$$bottom$:a}			:i $z_priority$ = %i(6)		:i :s}	:i else 		:i if $ScreenElementExists$$id$ = %GLOBAL%$name$			:i $DestroyScreenElement$$id$ = %GLOBAL%$name$		:i endif		:i $CreateScreenElement$:s{			:i $type$ = $SpriteElement$			:i $id$ = %GLOBAL%$name$			:i $parent$ = %GLOBAL%$container_id$			:i $material$ = $mat_note_hit_xplosion1$			:i $rgba$ = :a{%i(0)%i(128)%i(255)%i(255):a}			:i $Pos$ = %GLOBAL%$Pos$			:i $rot_angle$ = (%i(0))			:i $Scale$ = %vec2(2.0,2.0)			:i $just$ = :a{$center$$bottom$:a}			:i $z_priority$ = %i(6)		:i :s}	:i endif	:i $Pos$ = %GLOBAL%$particle_pos$	:i $extendcrc$%GLOBAL%$fx_id$%s("_hit1_particle_accent")$out$ = $particle1_id$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle1_id$	:i $create2dparticlesystem$:s{		:i $id$ = %GLOBAL%$particle1_id$		:i $Pos$ = %GLOBAL%$Pos$		:i $z_priority$ = %f(4.5)		:i $material$ = $Mat_Velocity_shatter_fx$		:i $parent$ = %GLOBAL%$container_id$		:i $start_color$ = :a{%i(255)%i(255)%i(255)%i(255):a}		:i $end_color$ = :a{%i(255)%i(255)%i(255)%i(255):a}		:i $start_scale$ = %vec2(0.5,0.5)		:i $end_scale$ = %vec2(0.30000001192092896,0.30000001192092896)		:i $start_angle_spread$ = %f(360.0)		:i $min_rotation$ = %i(360)		:i $max_rotation$ = %i(0)		:i $emit_start_radius$ = %f(0.0)		:i $emit_radius$ = %f(0.0)		:i $emit_rate$ = %f(0.0500000)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %f(120.0)		:i $velocity$ = %f(33.0)		:i $friction$ = %vec2(0.0,88.0)		:i $time$ = %f(2.0999999)	:i :s}	:i $extendcrc$%GLOBAL%$fx_id$%s("_hit2_particle_accent")$out$ = $particle2_id$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle2_id$	:i $create2dparticlesystem$:s{		:i $id$ = %GLOBAL%$particle2_id$		:i $Pos$ = %GLOBAL%$Pos$		:i $z_priority$ = %f(4.5)		:i $material$ = $Mat_Velocity_shatter_fx1$		:i $parent$ = %GLOBAL%$container_id$		:i $start_color$ = :a{%i(255)%i(255)%i(255)%i(255):a}		:i $end_color$ = :a{%i(255)%i(255)%i(255)%i(255):a}		:i $start_scale$ = %vec2(-0.30000001192092896,-0.30000001192092896)		:i $end_scale$ = %vec2(-0.5,-0.5)		:i $start_angle_spread$ = %f(360.0)		:i $min_rotation$ = %i(0)		:i $max_rotation$ = %i(360)		:i $emit_start_radius$ = %i(1)		:i $emit_radius$ = %i(1)		:i $emit_rate$ = %f(0.0599999)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %f(44.0)		:i $velocity$ = %i(24)		:i $friction$ = %vec2(0.0,88.0)		:i $time$ = %f(2.0999999)	:i :s}	:i $extendcrc$%GLOBAL%$fx_id$%s("_hit3_particle_accent")$out$ = $particle3_id$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle3_id$	:i $create2dparticlesystem$:s{		:i $id$ = %GLOBAL%$particle3_id$		:i $Pos$ = %GLOBAL%$Pos$		:i $z_priority$ = %f(4.5)		:i $material$ = $Mat_Velocity_shatter_fx2$		:i $parent$ = %GLOBAL%$container_id$		:i $start_color$ = :a{%i(122)%i(122)%i(122)%i(128):a}		:i $end_color$ = :a{%i(123)%i(123)%i(123)%i(0):a}		:i $start_scale$ = %vec2(0.03999999910593033,0.03999999910593033)		:i $end_scale$ = %vec2(0.10000000149011612,0.10000000149011612)		:i $start_angle_spread$ = %f(360.0)		:i $min_rotation$ = %i(0)		:i $max_rotation$ = %i(0)		:i $emit_start_radius$ = %i(1)		:i $emit_radius$ = %f(25.0)		:i $emit_rate$ = %f(0.0054999)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %f(44.0)		:i $velocity$ = %f(22.0)		:i $friction$ = %vec2(0.0,0.0)		:i $time$ = %f(0.1000000)	:i :s}	:i $wait$${		StructFloat 0.10000000149011612		StructQBKey seconds	}$		:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle1_id$$kill_when_empty$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle2_id$$kill_when_empty$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$particle3_id$$kill_when_empty$	:i $wait$${		StructFloat 1.149999976158142		StructQBKey seconds	}$		:i $DestroyScreenElement$$id$ = %GLOBAL%$name$	:i endfunction]Script shake_highway2 acc2aea6 [	:i $printf$${		StructQBKey channel = zdebug		StructQBStringQs 0x87e07a9f	}$		:i $FormatText$$checksumname$ = $container_id$%s("highway_containerp%p")$p$ = %GLOBAL%$player$$addtostringlookup$ = $true$	:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$container_id$		:i return 	:i endif	:i $GetScreenElementPosition$$id$ = %GLOBAL%$container_id$	:i $original_position$ = %GLOBAL%$screenelementpos$	:i $shake_frequency$ = %f(0.0500000)	:i $pulse_on$ = %i(0)	:i while 	:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$container_id$		:i return 	:i endif	:i if (%GLOBAL%$pulse_on$ = %i(0))		:i $LegacyDoScreenElementMorph$:s{			:i $id$ = %GLOBAL%$container_id$			:i $Pos$ = (%GLOBAL%$original_position$ + %vec2(0.0,10.0))			:i $just$ = :a{$center$$bottom$:a}			:i $time$ = %GLOBAL%$shake_frequency$		:i :s}		:i $wait$%GLOBAL%$shake_frequency$$seconds$		:i %GLOBAL%$pulse_on$ = %i(1)	:i else 		:i $LegacyDoScreenElementMorph$:s{			:i $id$ = %GLOBAL%$container_id$			:i $Pos$ = %GLOBAL%$original_position$			:i $just$ = :a{$center$$bottom$:a}			:i $time$ = %GLOBAL%$shake_frequency$		:i :s}		:i $wait$%GLOBAL%$shake_frequency$$seconds$		:i %GLOBAL%$pulse_on$ = %i(0)	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframes	}$		:i loop_to %i(2)	:i endfunction]Script shake_highway3 c271a05d [	:i $printf$${		StructQBKey channel = zdebug		StructQBStringQs 0x9efb4bde	}$		:i $FormatText$$checksumname$ = $container_id$%s("highway_containerp%p")$p$ = %GLOBAL%$player$$addtostringlookup$ = $true$	:i $GetScreenElementPosition$$id$ = %GLOBAL%$container_id$	:i $original_position$ = %GLOBAL%$screenelementpos$	:i $shake_frequency$ = %f(0.0500000)	:i $pulse_on$ = %i(0)	:i while 	:i if (%GLOBAL%$pulse_on$ = %i(0))		:i $LegacyDoScreenElementMorph$:s{			:i $id$ = %GLOBAL%$container_id$			:i $Pos$ = (%GLOBAL%$original_position$ + %vec2(0.0,1.0))			:i $just$ = :a{$center$$bottom$:a}			:i $time$ = %GLOBAL%$shake_frequency$		:i :s}		:i $wait$%GLOBAL%$shake_frequency$$seconds$		:i %GLOBAL%$pulse_on$ = %i(1)	:i else 		:i $LegacyDoScreenElementMorph$:s{			:i $id$ = %GLOBAL%$container_id$			:i $Pos$ = %GLOBAL%$original_position$			:i $just$ = :a{$center$$bottom$:a}			:i $time$ = %GLOBAL%$shake_frequency$		:i :s}		:i $wait$%GLOBAL%$shake_frequency$$seconds$		:i %GLOBAL%$pulse_on$ = %i(0)	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframes	}$		:i loop_to %i(2)	:i endfunction]Script GuitarEvent_StarPowerOn 0x748633db [	:i $KillSpawnedScript$${StructQBKey name = highway_pulse_black}$	:i if (~$drum_solo_songtime_paused$ = %i(0))		:i $audio_gameplay_star_power_verb_on$$player$ = %GLOBAL%$player$	:i endif	:i $StarPowerOn$$player$ = %GLOBAL%$player$	:i $lightshow_add_mood_override_reason$${StructQBKey reason = starpower}$	:i endfunction]Script GuitarEvent_StarPowerOff e9b409fd [	${StructQBKey no_sound = false}$	:i $KillSpawnedScript$${StructQBKey name = highway_pulse_black}$	:i if (%GLOBAL%$no_sound$ = $false$)		:i if $IsPS3$			:i if NOT (~$current_song$ = $jamsession$)				:i if $isSinglePlayerGame$					:i $SoundEvent$${StructQBKey event = Audio_Star_Power_Release_Front}$				:i else 					:i $spawnscriptnow$$audio_gameplay_star_power_release_logic$$params$ = :s{$player$ = %GLOBAL%$player$:s}				:i endif			:i endif		:i else 			:i if $isSinglePlayerGame$				:i $SoundEvent$${StructQBKey event = Audio_Star_Power_Release_Front}$			:i else 				:i $spawnscriptnow$$audio_gameplay_star_power_release_logic$$params$ = :s{$player$ = %GLOBAL%$player$:s}			:i endif		:i endif	:i endif	:i $audio_gameplay_star_power_verb_off$$player$ = %GLOBAL%$player$	:i $SpawnScriptLater$$Kill_StarPower_StageFX$$params$ = :s{ isNull :s}	:i $FormatText$$checksumname$ = $cont$%s("starpower_container_leftp%p")$p$ = %GLOBAL%$player$$addtostringlookup$ = $true$	:i if $ScreenElementExists$$id$ = %GLOBAL%$cont$		:i $LegacyDoScreenElementMorph$$id$ = %GLOBAL%$cont$$alpha$ = %i(0)	:i endif	:i $FormatText$$checksumname$ = $cont$%s("starpower_container_rightp%p")$p$ = %GLOBAL%$player$$addtostringlookup$ = $true$	:i if $ScreenElementExists$$id$ = %GLOBAL%$cont$		:i $LegacyDoScreenElementMorph$$id$ = %GLOBAL%$cont$$alpha$ = %i(0)	:i endif	:i $FormatText$$checksumname$ = $highway$%s("Highway_2Dp%p")$p$ = %GLOBAL%$player$$addtostringlookup$ = $true$	:i if $ScreenElementExists$$id$ = %GLOBAL%$highway$		:i $SetScreenElementProps$$id$ = %GLOBAL%$highway$$rgba$ = (~$highway_normal$)	:i endif	:i $spawnscriptnow$${StructQBKey Kill_StarPower_Camera}$	:i $lightshow_remove_mood_override_reason$${StructQBKey reason = starpower}$	:i endfunction]Script GuitarEvent_PreFretbar 0x7a88f0cc [	:i $spawnscriptnow$${StructQBKey audio_gameplay_effects_update_vocal_echo}$	:i $spawnscriptnow$${StructQBKey GH_Audible_Metronome}$	:i $waittime$ = %f(0.25)	:i $wait$%GLOBAL%$waittime$$seconds$	:i $getplayerinfo$${		StructInt 1		StructQBKey star_power_used		StructQBKey out = star_power_used1	}$		:i $getplayerinfo$${		StructInt 2		StructQBKey star_power_used		StructQBKey out = star_power_used2	}$		:i $getplayerinfo$${		StructInt 3		StructQBKey star_power_used		StructQBKey out = star_power_used3	}$		:i $getplayerinfo$${		StructInt 4		StructQBKey star_power_used		StructQBKey out = star_power_used4	}$		:i if ((%GLOBAL%$star_power_used1$ = %i(1)) OR (%GLOBAL%$star_power_used2$ = %i(1)) OR (%GLOBAL%$star_power_used3$ = %i(1)) OR (%GLOBAL%$star_power_used4$ = %i(1)))		:i $GetPakManCurrentName$${StructQBKey map = zones}$		:i if NOT ((%GLOBAL%$pakname$ = %s("z_mansionstudio")) OR (%GLOBAL%$pakname$ = %s("z_modular")) OR (%GLOBAL%$pakname$ = %s("z_credits")) OR (%GLOBAL%$pakname$ = %s("z_visualizer")) OR (%GLOBAL%$pakname$ = %s("z_finalbattle")) OR (%GLOBAL%$pakname$ = %s("z_cube")))			:i if (~$g_clap_fade$ = %i(1))				:i $printf$${					StructQBKey channel = sfx					StructQBStringQs 0x784a1ce5				}$								:i $change$${StructInt g_clap_fade = 0}$				:i $spawnscriptnow$${StructQBKey audio_crowd_kill_clap_fade}$			:i endif			:i if (~$game_mode$ !== $tutorial$)				:i if ((~$g_star_clap_normal$ = %i(1)) OR (~$g_star_clap_leftcenterright$ = %i(1)))					:i $printf$${StructQBStringQs fe00cc6d}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_normal_soundevent}$				:i elseif (~$g_star_clap_middle$ = %i(1))					:i $printf$${StructQBStringQs 0x3af3642a}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_middle_soundevent}$				:i elseif (~$g_star_clap_left$ = %i(1))					:i $printf$${StructQBStringQs 0x4ac89455}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_left_soundevent}$				:i elseif (~$g_star_clap_right$ = %i(1))					:i $printf$${StructQBStringQs 0x8bfb9430}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_right_soundevent}$				:i elseif (~$g_star_clap_right_middle$ = %i(1))					:i $printf$${StructQBStringQs bc1479cf}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_right_middle_soundevent}$				:i elseif (~$g_star_clap_left_middle$ = %i(1))					:i $printf$${StructQBStringQs 0x492c71b5}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_left_middle_Soundevent}$				:i endif			:i endif		:i elseif (~$g_clap_fade$ = %i(1))			:i $printf$${				StructQBKey channel = sfx				StructQBStringQs 0x32a4d147			}$						:i if (~$g_star_clap_normal$ = %i(1))				:i $printf$${StructQBStringQs fe00cc6d}$				:i $SoundEvent$${StructQBString event = g_current_crowd_clap_normal_soundevent}$			:i elseif (~$g_star_clap_middle$ = %i(1))				:i $printf$${StructQBStringQs 0x3af3642a}$				:i $SoundEvent$${StructQBString event = g_current_crowd_clap_middle_soundevent}$			:i elseif (~$g_star_clap_left$ = %i(1))				:i $printf$${StructQBStringQs 0x4ac89455}$				:i $SoundEvent$${StructQBString event = g_current_crowd_clap_left_soundevent}$			:i elseif (~$g_star_clap_right$ = %i(1))				:i $printf$${StructQBStringQs c4a697e0}$				:i $SoundEvent$${StructQBString event = g_current_crowd_clap_right_soundevent}$			:i elseif (~$g_star_clap_right_middle$ = %i(1))				:i $printf$${StructQBStringQs bc1479cf}$				:i $SoundEvent$${StructQBString event = g_current_crowd_clap_right_middle_soundevent}$			:i elseif (~$g_star_clap_left_middle$ = %i(1))				:i $printf$${StructQBStringQs 0x492c71b5}$				:i $SoundEvent$${StructQBString event = g_current_crowd_clap_left_middle_Soundevent}$			:i endif		:i else 			:i if (~$g_crowd_listener_state_clap_on_1234$ = %i(1))				:i if (~$g_star_clap_normal$ = %i(1))					:i $printf$${StructQBStringQs fe00cc6d}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_normal_soundevent}$				:i elseif (~$g_star_clap_middle$ = %i(1))					:i $printf$${StructQBStringQs 0x3af3642a}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_middle_soundevent}$				:i elseif (~$g_star_clap_left$ = %i(1))					:i $printf$${StructQBStringQs 0x4ac89455}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_left_soundevent}$				:i elseif (~$g_star_clap_right$ = %i(1))					:i $printf$${StructQBStringQs c4a697e0}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_right_soundevent}$				:i elseif (~$g_star_clap_right_middle$ = %i(1))					:i $printf$${StructQBStringQs bc1479cf}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_right_middle_soundevent}$				:i elseif (~$g_star_clap_left_middle$ = %i(1))					:i $printf$${StructQBStringQs 0x492c71b5}$					:i $SoundEvent$${StructQBString event = g_current_crowd_clap_left_middle_Soundevent}$				:i endif			:i endif		:i endif	:i endif	:i $spawnscriptnow$${StructQBKey audio_crowd_anticipation_logic}$	:i endfunction]Script GH_Audible_Metronome 0x63126333 [	:i if (~$g_debug_audible_metronome$ = %i(1))		:i $wait$((%f(0.25) + ((~$default_lag_settings$->$xenon$->$input_lag_ms$) * %f(0.0010000))) - %f(0.0083330))$seconds$		:i $SoundEvent$${StructQBKey event = audio_calibrate_beat_sfx}$	:i endif	:i endfunction]Script GuitarEvent_Fretbar aca750c6 [	:i $GuitarEvent_Fretbar_CFunc$	:i endfunction]Script GuitarEvent_Fretbar_Early ffffffff [	:i endfunction]Script GuitarEvent_Fretbar_Late ffffffff [	:i endfunction]Script check_first_note_formed 0x126ff866 [	:i $GetSongTime$	:i %GLOBAL%$starttime$ = (%GLOBAL%$songtime$ - %f(0.0166999))	:i $getplayerinfo$%GLOBAL%$player$$check_time_early$	:i $getplayerinfo$%GLOBAL%$player$$check_time_late$	:i $duration$ = (%GLOBAL%$check_time_early$ + %GLOBAL%$check_time_late$)	:i while 	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i $GetHeldPattern$$controller$ = %GLOBAL%$controller$$player$ = %GLOBAL%$player$	:i if (%GLOBAL%$strum$ = %GLOBAL%$hold_pattern$)		:i $PlayerSetVolume$$player$ = %GLOBAL%$player$$volume$ = %i(100)		:i $UpdateGuitarVolume$		:i $musicstudio_update_volume_for_playback$$on$$player$ = %GLOBAL%$player$	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $GetSongTime$	:i if ((%GLOBAL%$songtime$ - %GLOBAL%$starttime$) >= %GLOBAL%$duration$)		:i continue	:i endif	:i loop_to 	:i endfunction]Script GuitarEvent_FirstNote_Window_Open a10e62a6 [	:i $getplayerinfo$%GLOBAL%$player$$controller$	:i if $IsGuitarController$$controller$ = %GLOBAL%$controller$		:i $GetStrumPattern$$entry$ = %i(0)$song$ = %GLOBAL%$song$		:i $spawnscriptnow$$check_first_note_formed$$params$ = :s{$strum$ = %GLOBAL%$strum$$player$ = %GLOBAL%$player$:s}	:i else 		:i $PlayerSetVolume$$player$ = %GLOBAL%$player$$volume$ = %i(100)		:i $UpdateGuitarVolume$		:i $musicstudio_update_volume_for_playback$$on$$player$ = %GLOBAL%$player$	:i endif	:i endfunction]Script GuitarEvent_Note_Window_Open 0x57adb100 [	:i if (~$g_debug_audible_open$ = %i(1))		:i $value$ = ((~$check_time_early$ + ((~$default_lag_settings$->$xenon$->$input_lag_ms$) * %f(0.0010000))) + %f(0.0083330))		:i $printf$$channel$ = $sfx$^[73307931]^$s$ = %GLOBAL%$value$		:i $wait$((~$check_time_early$ + ((~$default_lag_settings$->$xenon$->$input_lag_ms$) * %f(0.0010000))) + %f(0.0083330))$seconds$		:i $SoundEvent$${StructQBKey event = audio_calibrate_beat_sfx}$	:i endif	:i endfunction]Script GuitarEvent_Note_Window_Close 0x6fb169b0 [	:i if (~$g_debug_audible_close$ = %i(1))		:i $SoundEvent$${StructQBKey event = audio_calibrate_beat_close_sfx}$	:i endif	:i endfunction]SectionQBKey blueWhammyFXID01p1 jow_nilSectionQBKey blueWhammyFXID02p1 jow_nilSectionQBKey greenWhammyFXID01p1 jow_nilSectionQBKey greenWhammyFXID02p1 jow_nilSectionQBKey orangeWhammyFXID01p1 jow_nilSectionQBKey orangeWhammyFXID02p1 jow_nilSectionQBKey redWhammyFXID01p1 jow_nilSectionQBKey redWhammyFXID02p1 jow_nilSectionQBKey yellowWhammyFXID01p1 jow_nilSectionQBKey yellowWhammyFXID02p1 jow_nilSectionQBKey blueWhammyFXID01p2 jow_nilSectionQBKey blueWhammyFXID02p2 jow_nilSectionQBKey greenWhammyFXID01p2 jow_nilSectionQBKey greenWhammyFXID02p2 jow_nilSectionQBKey orangeWhammyFXID01p2 jow_nilSectionQBKey orangeWhammyFXID02p2 jow_nilSectionQBKey redWhammyFXID01p2 jow_nilSectionQBKey redWhammyFXID02p2 jow_nilSectionQBKey yellowWhammyFXID01p2 jow_nilSectionQBKey yellowWhammyFXID02p2 jow_nilScript Destroy_AllWhammyFX bf931c7a [	:i $GetNumPlayersInGame$${StructQBKey on_screen}$	:i if (%GLOBAL%$num_players_shown$ > %i(0))		:i $GetFirstPlayer$${StructQBKey on_screen}$		:i while 		:i $WhammyFXOffAll$$player$ = %GLOBAL%$player$		:i $GetNextPlayer$$on_screen$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players_shown$	:i endif	:i endfunction]Script GuitarEvent_WhammyOn 0x8c43a762 [	:i $getplayerinfo$%GLOBAL%$player$$part$	:i $open_note_pattern$ = %i(1048576)	:i if (%GLOBAL%$part$ = $Bass$ AND %GLOBAL%$pattern$ = %GLOBAL%$open_note_pattern$)		:i $GuitarEvent_Open_Note_Sustain$$player$ = %GLOBAL%$player$	:i elseif ((~$g_debug_highway_visible$) = %i(1))		:i $WhammyFXOn$ isNull 	:i endif	:i endfunction]Script GuitarEvent_WhammyOff 0x794c9dec [	:i $getplayerinfo$%GLOBAL%$player$$part$	:i $open_note_pattern$ = %i(1048576)	:i if (%GLOBAL%$part$ = $Bass$ AND %GLOBAL%$pattern$ = %GLOBAL%$open_note_pattern$)		:i $Cleanup_Open_Note_Sustain_FX$$player$ = %GLOBAL%$player$	:i endif	:i $WhammyFXOff$ isNull 	:i endfunction]Script GuitarEvent_SongFailed ecd3418e [	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $freeplay$ OR %GLOBAL%$type$ = $practice$ OR %GLOBAL%$type$ = $tutorial$)		:i return 	:i endif	:i if (~$calibrate_lag_enabled$ = %i(1))		:i return 	:i endif	:i if (~$failed_song$ = %i(1))		:i return 	:i endif	:i if ((~$cheat_invincible$ = %i(1)) AND (~$is_network_game$ !== %i(1)))		:i return 	:i endif	:i $change$${StructInt failed_song = 1}$	:i $GameEvent_SongFailed$	:i $Stopsoundsbybuss$${StructQBKey Encore_Events}$	:i $restore_player_part_settings$	:i $DynamicAdManagerCommand$${		StructQBKey func = issuecue		StructQBKey cue = commitimpressions	}$		:i if (~$is_network_game$)		:i $online_fail_song$	:i else 		:i $stop_custom_song$		:i $KillSpawnedScript$${StructQBKey name = guitar_jam_drum_playback}$		:i $KillSpawnedScript$${StructQBKey name = jam_input_whammy_spawned}$		:i $jam_stop_all_samples$		:i $jam_deinit_reverb$		:i $KillSpawnedScript$${StructQBKey name = GuitarEvent_SongWon_Spawned}$		:i $spawnscriptnow$$GuitarEvent_SongFailed_Spawned$$params$ = :s{$player$ = %GLOBAL%$player$:s}	:i endif	:i endfunction]Script GuitarEvent_SongFailed_Spawned d888ae1d [	:i $disable_highway_prepass$	:i $disable_bg_viewport$	:i $GMan_SendCallbackToAllGoals$${		StructString suffix = "song_complete"		StructStruct callback_data		{			StructHeader			{				StructQBKey event = song_failed			}		}	}$		:i $LightShow_SongFailed$	:i $Playlist_GetCurrentSong$	:i $change$$last_song_played$ = %GLOBAL%$current_song$	:i if $is_current_song_a_jam_session$		:i %GLOBAL%$last_song_props$ = :s{:s}		:i $get_jam_filename$${StructQBKey type = current}$		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $filename$$value$ = %GLOBAL%$filename$		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $example_song$$value$ = %GLOBAL%$example_song$		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $jam_display_name$$value$ = %GLOBAL%$jam_display_name$		:i $get_song_artist$$song$ = %GLOBAL%$current_song$$with_year$ = %i(0)		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $jam_artist_name$$value$ = %GLOBAL%$song_artist$		:i $change$$last_jam_song_props$ = %GLOBAL%$last_song_props$	:i endif	:i $change$${StructInt g_dont_play_win_anim_sfx = 0}$	:i if (~$is_network_game$)		:i $ui_event_get_top$		:i if (%GLOBAL%$base_name$ = %s("controller_disconnect"))			:i $generic_event_back$		:i endif		:i $change$${StructInt g_net_quickplay_show_unlock_screen = 0}$		:i $KillSpawnedScript$${StructQBKey name = dispatch_player_state}$		:i $SFX_Backgrounds_New_Area$${			StructQBKey BG_SFX_Area = frontend			StructInt fadeintime = 5			StructQBKey fadeintype = linear			StructInt fadeouttime = 5			StructQBKey fadeouttype = linear		}$				:i $disable_pause$		:i if (~$net_pause$ = %i(1))			:i $net_unpausegh$		:i endif		:i $PushUnsafeForShutdown$${StructQBKey context = net_gameplay}$		:i $OnExitRun$${StructQBKey guitar_event_song_exit_pop_unsafe}$	:i endif	:i $getsongtimems$	:i $change$$failed_song_time$ = %GLOBAL%$time$	:i $Playlist_GetCurrentSong$	:i $pausegame$	:i $Progression_SongFailed$	:i $end_singleplayer_game$	:i if (~$is_network_game$ = %i(0))		:i $xenon_singleplayer_session_begin_uninit$		:i $spawnscriptnow$${			StructQBKey xenon_singleplayer_session_complete_uninit			StructStruct params			{				StructHeader				{					StructQBKey song_failed				}			}		}$			:i endif	:i $UnPauseGame$	:i $ui_event_wait_for_safe$	:i $disable_pause$	:i $SoundEvent$${StructQBKey event = Audio_Crowd_Fail}$	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $career$)		:i if $quest_progression_is_chapter_finale$			:i $finalbattle_fail_audio$		:i endif	:i endif	:i $playsound$${		StructQBString g_current_crowd_transition_neutral_to_negative		StructQBKey buss = Crowd_Transitions	}$		:i $SoundEvent$${StructQBKey event = GH_SFX_You_Lose_Single_Player}$	:i $Transition_Play$${StructQBKey type = songlost}$	:i $Transition_Wait$	:i $change$${StructQBKey current_transition = None}$	:i $pausegame$	:i $show_calibration$ = %i(0)	:i $gamemode_gettype$	:i if (~$is_network_game$ = %i(0))		:i $ui_event_wait_for_safe$		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i if $ui_event_exists_in_stack$${				StructString name = "pausemenu"				StructString above = "gameplay"			}$						:i $ui_event_block$${				StructQBKey event = menu_back				StructStruct Data				{					StructHeader					{						StructQBKey state = UIState_Gameplay					}				}			}$					:i elseif $ui_event_exists_in_stack$${				StructString name = "song_unpause"				StructString above = "gameplay"			}$						:i $ui_event_block$${				StructQBKey event = menu_back				StructStruct Data				{					StructHeader					{						StructQBKey state = UIState_Gameplay					}				}			}$					:i endif		:i $Playlist_GetCurrentSong$		:i if (%GLOBAL%$show_calibration$ = %i(1))			:i $SetGlobalTags$${				StructQBKey user_options				StructStruct params				{					StructHeader					{						StructInt has_calibrated = 1					}				}			}$						:i $Body$ = ^[24b45119]^			:i $spawnscriptnow$:s{				:i $ui_event$:s{					:i $params$ = :s{						:i $event$ = $menu_change$						:i $Data$ = :s{							:i $state$ = $uistate_options_calibrate_lag_warning$							:i $Body$ = %GLOBAL%$Body$							:i $cancel_script$ = $menu_replace_to_fail_song$							:i $yes_func_params$ = :s{$go_back_script$ = $menu_replace_to_fail_song$:s}						:i :s}					:i :s}				:i :s}			:i :s}		:i else 			:i $spawnscriptnow$${				StructQBKey ui_event				StructStruct params				{					StructHeader					{						StructQBKey event = menu_change						StructStruct Data						{							StructHeader							{								StructQBKey state = uistate_fail_song							}						}					}				}			}$					:i endif	:i elseif (%GLOBAL%$type$ = $career$)		:i if NOT $ScriptIsRunning$${StructQBKey handle_signin_changed}$			:i $ui_event_get_top$			:i if (%GLOBAL%$base_name$ = %s("controller_disconnect") OR %GLOBAL%$base_name$ = %s("pausemenu_quit_warning") OR %GLOBAL%$base_name$ = %s("online_quit_warning"))				:i $spawnscriptnow$${					StructQBKey ui_event					StructStruct params					{						StructHeader						{							StructQBKey event = menu_replace							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_fail_song								}							}						}					}				}$							:i else 				:i $spawnscriptnow$${					StructQBKey ui_event					StructStruct params					{						StructHeader						{							StructQBKey event = menu_change							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_fail_song								}							}						}					}				}$							:i endif			:i if $ScriptIsRunning$${StructQBKey sysnotify_handle_connection_loss}$				:i $ui_event_wait_for_safe$				:i $UnPauseGame$			:i endif		:i endif	:i else 		:i if NOT $ScriptIsRunning$${StructQBKey handle_signin_changed}$			:i $ui_event_get_top$			:i if (%GLOBAL%$base_name$ = %s("controller_disconnect") OR %GLOBAL%$base_name$ = %s("pausemenu_quit_warning") OR %GLOBAL%$base_name$ = %s("online_quit_warning"))				:i $progression_updatedetailedstatsforgig$${StructQBKey failed_or_practice}$				:i if (%GLOBAL%$type$ = $quickplay$)					:i if $quickplay_set_new_song_in_gig_list$						:i $change$${StructInt gameplay_loading_transition = 1}$						:i $change$${StructInt gameplay_restart_song = 1}$						:i $change$${StructInt net_ready_to_start = 0}$						:i $generic_event_back$${							StructQBKey nosound							StructQBKey state = UIState_Gameplay						}$											:i else 						:i $SFX_Backgrounds_New_Area$${							StructQBKey BG_SFX_Area = frontend							StructInt fadeintime = 5							StructQBKey fadeintype = linear							StructInt fadeouttime = 5							StructQBKey fadeouttype = linear						}$												:i $spawnscriptnow$${							StructQBKey ui_event							StructStruct params							{								StructHeader								{									StructQBKey event = menu_replace									StructStruct Data									{										StructHeader										{											StructQBKey state = uistate_song_breakdown											StructQBKey net_transition_not_career										}									}								}							}						}$											:i endif				:i else 					:i $spawnscriptnow$${						StructQBKey ui_event						StructStruct params						{							StructHeader							{								StructQBKey event = menu_replace								StructStruct Data								{									StructHeader									{										StructQBKey state = uistate_song_breakdown_competitive										StructQBKey net_transition									}								}							}						}					}$									:i endif			:i else 				:i $progression_updatedetailedstatsforgig$${StructQBKey failed_or_practice}$				:i if (%GLOBAL%$type$ = $quickplay$)					:i if $quickplay_set_new_song_in_gig_list$						:i $change$${StructInt gameplay_loading_transition = 1}$						:i $change$${StructInt gameplay_restart_song = 1}$						:i $change$${StructInt net_ready_to_start = 0}$						:i $generic_event_back$${							StructQBKey nosound							StructQBKey state = UIState_Gameplay						}$											:i else 						:i $spawnscriptnow$${							StructQBKey ui_event							StructStruct params							{								StructHeader								{									StructQBKey event = menu_change									StructStruct Data									{										StructHeader										{											StructQBKey state = uistate_song_breakdown											StructQBKey net_transition_not_career										}									}								}							}						}$											:i endif				:i else 					:i $spawnscriptnow$${						StructQBKey ui_event						StructStruct params						{							StructHeader							{								StructQBKey event = menu_change								StructStruct Data								{									StructHeader									{										StructQBKey state = uistate_song_breakdown_competitive										StructQBKey net_transition									}								}							}						}					}$									:i endif			:i endif		:i endif	:i endif	:i $GetNumPlayersInGame$	:i if (%GLOBAL%$num_players$ = %i(1))		:i $SoundEvent$${StructQBKey event = Audio_Crowd_Fail}$		:i $spawnscriptnow$${StructQBKey audio_crowd_fail_song_logic}$		:i $One_Shot_SoundEvent$${StructQBKey SoundEvent = Audio_Crowd_OneShots_Do_Nothing}$	:i else 	:i endif	:i if (~$is_network_game$)		:i $spawnscriptnow$${			StructQBKey SFX_Backgrounds_New_Area			StructStruct params			{				StructHeader				{					StructQBKey BG_SFX_Area = frontend					StructInt fadeintime = 5					StructQBKey fadeintype = linear					StructInt fadeouttime = 5					StructQBKey fadeouttype = linear				}			}		}$			:i endif	:i $kill_all_achievement_scripts$	:i $KillSpawnedScript$${StructQBKey name = create_exploding_text}$	:i $destroy_exploding_text$${StructString parent = "you_rock_physics"}$	:i endfunction]Script guitar_event_song_exit_pop_unsafe 0x29135ad7 [	:i $PopUnsafeForShutdown$${StructQBKey context = net_gameplay}$	:i endfunction]SectionString GPULog_OutputFilename "none"Script GuitarEvent_SongWon 0x42b10e92 [	:i $change$${StructInt finished_gig_band_rebuild = 0}$	:i if $notcd$		:i if (~$output_gpu_log$ = %i(1))			:i if $IsPS3$				:i $FormatText$${					StructQBKey textname = filename					StructString 0x00000000 = "%s_gpu_ps3"					StructQBString s = current_level					StructQBKey DontAssertForChecksums				}$							:i else 				:i $FormatText$${					StructQBKey textname = filename					StructString 0x00000000 = "%s_gpu"					StructQBString s = current_level					StructQBKey DontAssertForChecksums				}$							:i endif			:i if NOT $StringEquals$${					StructQBString a = GPULog_OutputFilename					StructString b = "none"				}$								:i %GLOBAL%$filename$ = ~$GPULog_OutputFilename$			:i endif			:i $TextOutputEnd$$output_text$$filename$ = %GLOBAL%$filename$			:i $TextOutputStart$${StructString filename = "gpu_complete"}$			:i $TextOutputEnd$${StructString filename = "gpu_complete"}$		:i endif		:i if (~$output_song_stats$ = %i(1))			:i $Playlist_GetCurrentSong$			:i $FormatText$$textname$ = $filename$%s("%s_stats")$s$ = %GLOBAL%$current_song$$DontAssertForChecksums$			:i $TextOutputStart$$filename$ = %GLOBAL%$filename$			:i $TextOutput$${StructQBStringQs text = 0x3f02a90c}$			:i $getplayerinfo$${				StructInt 1				StructQBKey Score			}$						:i $FormatText$$textname$ = $text$^[fccb1331]^$s$ = %GLOBAL%$Score$$DontAssertForChecksums$			:i $TextOutput$$text$ = %GLOBAL%$text$			:i $getplayerinfo$${				StructInt 1				StructQBKey notes_hit			}$						:i $getplayerinfo$${				StructInt 1				StructQBKey total_notes			}$						:i $FormatText$$textname$ = $text$^[26c27108]^$n$ = %GLOBAL%$notes_hit$$t$ = %GLOBAL%$total_notes$$DontAssertForChecksums$			:i $TextOutput$$text$ = %GLOBAL%$text$			:i $getplayerinfo$${				StructInt 1				StructQBKey best_run			}$						:i $FormatText$$textname$ = $text$^[d67d4308]^$r$ = %GLOBAL%$best_run$$DontAssertForChecksums$			:i $TextOutput$$text$ = %GLOBAL%$text$			:i $getplayerinfo$${				StructInt 1				StructQBKey max_notes			}$						:i $FormatText$$textname$ = $text$^[6bb1c560]^$m$ = %GLOBAL%$max_notes$$DontAssertForChecksums$			:i $TextOutput$$text$ = %GLOBAL%$text$			:i $getplayerinfo$${				StructInt 1				StructQBKey base_score			}$						:i $FormatText$$textname$ = $text$^[26a9ba16]^$b$ = %GLOBAL%$base_score$$DontAssertForChecksums$			:i $TextOutput$$text$ = %GLOBAL%$text$			:i if (%GLOBAL%$base_score$ = %i(0))				:i $FormatText$${					StructQBKey textname = text					StructQBStringQs 0x30357c57				}$							:i else 				:i $FormatText$$textname$ = $text$^[bcc2e990]^$s$ = (%GLOBAL%$Score$ / %GLOBAL%$base_score$)$DontAssertForChecksums$			:i endif			:i $TextOutput$$text$ = %GLOBAL%$text$			:i if (%GLOBAL%$total_notes$ = %i(0))				:i $FormatText$${					StructQBKey textname = text					StructQBStringQs c8e34ec5				}$							:i else 				:i $FormatText$$textname$ = $text$^[2b87036c]^$s$ = ((%GLOBAL%$notes_hit$ / %GLOBAL%$total_notes$) * %f(100.0))$DontAssertForChecksums$			:i endif			:i $TextOutput$$text$ = %GLOBAL%$text$			:i $TextOutputEnd$$output_text$$filename$ = %GLOBAL%$filename$		:i endif	:i endif	:i $StopSongStarCalculation$	:i $stop_custom_song$	:i $KillSpawnedScript$${StructQBKey name = guitar_jam_drum_playback}$	:i $KillSpawnedScript$${StructQBKey name = jam_input_whammy_spawned}$	:i $jam_stop_all_samples$	:i $jam_deinit_reverb$	:i $restore_player_part_settings$	:i $freeplay_end_of_song$	:i $DynamicAdManagerCommand$${		StructQBKey func = issuecue		StructQBKey cue = commitimpressions	}$		:i if (~$in_sing_a_long$ = $true$)		:i if $ScreenElementExists$${StructQBKey id = sing_a_long_container}$			:i $sing_a_long_container$.$obj_spawnscript$${StructQBKey ui_sing_a_long_back}$			:i $printscriptinfo$${				StructString 0x00000000 = "GuitarEvent_SongWon"				StructQBKey channel = what			}$						:i return 		:i else 			:i $scriptassert$${StructQBStringQs 0x61af0381}$		:i endif	:i endif	:i $KillSpawnedScript$${StructQBKey name = GuitarEvent_SongFailed_Spawned}$	:i $spawnscriptnow$${StructQBKey GuitarEvent_SongWon_Spawned}$	:i endfunction]SectionInteger g_just_completed_chapter 0Script GuitarEvent_SongWon_Spawned 0x65e471f3 [	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $GameEvent_SongWon$	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i $gamemode_gettype$	:i $change$${StructInt g_dont_play_win_anim_sfx = 1}$	:i if (~$autotest_on$ = %i(1) AND ~$autotest_turbo_mode$ = %i(1))		:i $setslomo$${StructFloat 10.00}$	:i endif	:i $Playlist_GetCurrentSong$	:i $change$$last_song_played$ = %GLOBAL%$current_song$	:i if $is_current_song_a_jam_session$		:i %GLOBAL%$last_song_props$ = :s{:s}		:i $get_jam_filename$${StructQBKey type = current}$		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $filename$$value$ = %GLOBAL%$filename$		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $example_song$$value$ = %GLOBAL%$example_song$		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $jam_display_name$$value$ = %GLOBAL%$jam_display_name$		:i $get_song_artist$$song$ = %GLOBAL%$current_song$$with_year$ = %i(0)		:i $AddParam$$structure_name$ = $last_song_props$$name$ = $jam_artist_name$$value$ = %GLOBAL%$song_artist$		:i $change$$last_jam_song_props$ = %GLOBAL%$last_song_props$	:i endif	:i $change$${StructInt calibrate_lag_failed_num = 0}$	:i $change$${StructQBKey last_song_failed = None}$	:i $change$${StructInt current_song_failed_num = 0}$	:i $songlist_remove_first_song_in_playlist$	:i %GLOBAL%$end_session$ = %i(0)	:i if (%GLOBAL%$type$ = $career$)		:i if $Playlist_IsFinished$			:i %GLOBAL%$end_session$ = %i(1)		:i endif	:i elseif (%GLOBAL%$type$ = $quickplay$)		:i if $Playlist_IsFinished$			:i %GLOBAL%$end_session$ = %i(1)		:i endif	:i endif	:i %GLOBAL%$career_transformation_encore$ = %i(0)	:i if (%GLOBAL%$type$ = $career$)		:i if $quest_progression_check_for_transformation_encore$			:i %GLOBAL%$career_transformation_encore$ = %i(1)		:i endif	:i endif	:i if (%GLOBAL%$current_song$ = $jamsession$)		:i $getsonginfo$		:i if NOT (%GLOBAL%$file_id$->$file_id$:a{%i(0):a} = %i(0) AND %GLOBAL%$file_id$->$file_id$:a{%i(1):a} = %i(0))			:i $jam_info$ = :s{				:i $file_id$ = (%GLOBAL%$file_id$->$file_id$)			:i :s}		:i endif	:i endif	:i if (~$game_mode$ = $practice$)		:i $UI_SFX$${			StructQBKey menustate = generic			StructQBKey uitype = select		}$				:i $generic_event_choose$${			StructQBKey state = uistate_song_breakdown			StructStruct Data			{				StructHeader				{					StructInt for_practice = 1				}			}		}$				:i return 	:i elseif (~$game_mode$ = $tutorial$)		:i if $GameIsPaused$			:i $scriptassert$${StructString 0x00000000 = "Game paused in tutorial win song script"}$		:i endif		:i if $ui_event_exists_in_stack$${				StructString name = "pausemenu"				StructString above = "gameplay"			}$						:i $scriptassert$${StructString 0x00000000 = "pausemenu exists in tutorial win song script"}$		:i endif		:i $disable_pause$		:i $fadetoblack$${			StructQBKey on			StructInt z_priority = 1			StructFloat alpha = 1.00			StructFloat time = 0.00			StructQBKey no_wait		}$				:i $generic_event_back$${			StructQBKey state = uistate_tutorial_gameplay			StructStruct Data			{				StructHeader				{					StructInt return_from_gameplay = 1					StructInt gameplay_complete = 1				}			}		}$				:i if $should_update_achievements$			:i $change$${StructInt g_just_completed_chapter = 0}$			:i $song_won_update_achievements$		:i endif		:i return 	:i elseif (~$calibrate_lag_enabled$ = %i(1))		:i return 	:i endif	:i if $InInternetMode$		:i $ui_event_get_top$		:i if (%GLOBAL%$base_name$ = %s("controller_disconnect"))			:i $generic_event_back$		:i endif		:i $change$${StructInt g_net_quickplay_show_unlock_screen = 0}$		:i if (~$shutdown_game_for_signin_change_flag$ = %i(1))			:i return 		:i endif		:i $PushUnsafeForShutdown$${StructQBKey context = net_gameplay}$		:i $OnExitRun$${StructQBKey guitar_event_song_exit_pop_unsafe}$		:i if (~$net_pause$ = %i(1))			:i $net_unpausegh$		:i endif	:i endif	:i $Progression_EndCredits_Done$	:i $pausegame$	:i $disable_pause$	:i %GLOBAL%$special_rush_logic$ = %i(0)	:i %GLOBAL%$final_battle$ = %i(0)	:i %GLOBAL%$final_battle_change_level$ = %i(0)	:i if (%GLOBAL%$type$ = $career$)		:i $Playlist_GetCurrentSong$		:i if $StructureContains$$structure$ = ~$g_rush_data$%GLOBAL%$current_song$			:i %GLOBAL%$special_rush_logic$ = %i(1)		:i elseif $quest_progression_is_chapter_finale$			:i %GLOBAL%$final_battle$ = %i(1)		:i endif	:i endif	:i $should_cheer$ = $false$	:i if (~$game_mode$ = $career$ OR ~$game_mode$ = $quickplay$)		:i $should_cheer$ = $true$	:i endif	:i if (~$game_mode$ = $freeplay$)		:i $spawnscriptnow$${StructQBKey audio_crowd_surge_and_sustain_at_end_of_song}$		:i $spawnscriptnow$${StructQBKey audio_crowd_play_short_swell_for_this_venue}$		:i if $freeplay_has_players$			:i $should_cheer$ = $true$		:i endif	:i endif	:i if (%GLOBAL%$should_cheer$ = $true$)		:i $spawnscriptnow$${StructQBKey audio_crowd_play_cheer_before_explosion}$	:i endif	:i $SFX_Backgrounds_New_Area$${StructQBString BG_SFX_Area = g_current_crowd_looping_bg_area_good}$	:i $audio_crowd_surge_and_sustain_at_end_of_song$	:i $spawnscriptnow$${StructQBKey audio_gameplay_you_rock_crowd_waiting}$	:i if (%GLOBAL%$career_transformation_encore$ = %i(1))		:i $change$${StructInt debug_career_transformations = 0}$	:i else 		:i $Progression_SongWon$${StructInt async = 1}$		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i if $should_update_achievements$			:i $change$$g_just_completed_chapter$ = %GLOBAL%$just_completed$			:i $song_won_update_achievements$		:i endif	:i endif	:i if (~$autotest_on$ = %i(0))		:i if $GotParam$${StructQBKey jam_info}$			:i $SongWon_WriteLeaderboardStats$$song_checksum$ = %GLOBAL%$current_song$$end_credits$ = (~$end_credits$)$end_session$ = %GLOBAL%$end_session$$jam_info$ = %GLOBAL%$jam_info$		:i else 			:i $SongWon_WriteLeaderboardStats$$song_checksum$ = %GLOBAL%$current_song$$end_credits$ = (~$end_credits$)$end_session$ = %GLOBAL%$end_session$		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$			:i endif	:i $friend_update_check_if_cheating$	:i if (%GLOBAL%$special_rush_logic$ = %i(0) AND %GLOBAL%$final_battle$ = %i(0))		:i $should_save$ = %i(0)		:i if (%GLOBAL%$career_transformation_encore$ = %i(0))			:i if (%GLOBAL%$type$ = $competitive$)				:i $song_breakdown_shreddfest_determine_order$				:i $GetArraySize$%GLOBAL%$order$				:i if (%GLOBAL%$array_size$ > %i(0))					:i %GLOBAL%$index$ = %i(0)					:i %GLOBAL%$max_score$ = %i(4294967295)					:i %GLOBAL%$num_winners$ = %i(0)					:i %GLOBAL%$winner_index$ = %i(0)					:i while 					:i if (%GLOBAL%$max_score$ = %i(4294967295))						:i %GLOBAL%$max_score$ = (%GLOBAL%$order$:a{%GLOBAL%$index$:a}->$band_result$)					:i endif					:i if ((%GLOBAL%$order$:a{%GLOBAL%$index$:a}->$band_result$) !== %GLOBAL%$max_score$)						:i continue					:i endif					:i %GLOBAL%$winner_index$ = (%GLOBAL%$order$:a{%GLOBAL%$index$:a}->$band_num$)					:i %GLOBAL%$index$ = (%GLOBAL%$index$ + %i(1))					:i loop_to %GLOBAL%$array_size$					:i %GLOBAL%$num_winners$ = %GLOBAL%$index$					:i if (%GLOBAL%$num_winners$ > %i(1))						:i $winner_text$ = ^[82663fd9]^					:i else 						:i if $TeamModeEquals$${StructQBKey team_mode = two_teams}$							:i $GetBandInfo$%GLOBAL%$winner_index$$name$							:i %GLOBAL%$winner_text$ = (~%GLOBAL%$name$)							:i %GLOBAL%$winner2_text$ = ^[ac712b20]^						:i else 							:i %GLOBAL%$winner_text$ = ^[ebdedfc6]^							:i $GetNumPlayersInGame$							:i if (%GLOBAL%$num_players$ > %i(0))								:i $GetFirstPlayer$								:i while 								:i if $playerinfoequals$%GLOBAL%$player$$band$ = %GLOBAL%$winner_index$									:i continue								:i endif								:i $GetNextPlayer$$player$ = %GLOBAL%$player$								:i loop_to 								:i $GetMaxPlayers$								:i if (%GLOBAL%$player$ > %i(0) AND %GLOBAL%$player$ <= %GLOBAL%$max_players$)									:i if (~$is_network_game$ = %i(1))										:i $getplayerinfo$%GLOBAL%$player$$gamertag$										:i %GLOBAL%$winner_text$ = (~%GLOBAL%$gamertag$)									:i else 										:i $ui_song_breakdown_get_player_display_name$$player_index$ = %GLOBAL%$player$										:i %GLOBAL%$winner_text$ = %GLOBAL%$player_name_text$									:i endif									:i %GLOBAL%$winner2_text$ = ^[ac712b20]^								:i endif							:i endif						:i endif					:i endif				:i else 					:i $winner_text$ = ^[ebdedfc6]^				:i endif			:i else 				:i $winner_text$ = ^[ebdedfc6]^			:i endif			:i $quickplay_targeting_player_get_result$			:i if NOT (%GLOBAL%$result$ = $not_targeting_player$)				:i $quickplay_targeting_player_get_opponent_gamertag$				:i switch %GLOBAL%$result$					:i case $success$						:i %GLOBAL%$winner_text$ = ^[ab9dbe06]^						:i $FormatText$$textname$ = $gamertag_text$^[12dc5a0d]^$g$ = %GLOBAL%$gamertag$$e$ = ^[32b9f8e3]^						:i %GLOBAL%$winner2_text$ = %GLOBAL%$gamertag_text$						:i endcase					case $fail$						:i $FormatText$$textname$ = $gamertag_text$^[6d229984]^$g$ = %GLOBAL%$gamertag$$e$ = ^[00000000]^						:i %GLOBAL%$winner_text$ = %GLOBAL%$gamertag_text$						:i %GLOBAL%$winner2_text$ = ^[0affe28f]^						:i endcase					case $tie$						:i $winner_text$ = ^[82663fd9]^						:i $RemoveParameter$${StructQBKey winner2_text}$				:i end_switch			:i endif			:i if (%GLOBAL%$type$ !== $freeplay$)				:i $spawnscriptnow$${					StructQBKey waitAndKillHighway					StructStruct params					{						StructHeader						{							StructQBKey fade_out						}					}				}$								:i $spawnscriptnow$${StructQBKey wait_and_play_you_rock_movie}$				:i $Create_MushroomCloudHand$$text$ = %GLOBAL%$winner_text$				:i $spawnscriptnow$${StructQBKey audio_ui_gameplay_play_you_rock_sfx}$				:i if (~$game_mode$ = $career$ OR ~$game_mode$ = $quickplay$ OR ~$game_mode$ = $competitive$)					:i if NOT $musicstudio_mainobj$.$musicstudio_isinmusicstudio$						:i %GLOBAL%$should_save$ = %i(1)						:i if $InNetGame$							:i if $SessionIsOver$								:i %GLOBAL%$should_save$ = %i(0)							:i endif						:i endif						:i if (%GLOBAL%$should_save$ = %i(1))							:i $hide_entire_hud$						:i endif					:i endif				:i endif			:i else 				:i $set_all_highway_prepass_props$${StructInt alpha = 0}$				:i $set_all_highway_props$${					StructInt alpha = 0					StructFloat time = 0.6600000262260437				}$							:i endif		:i endif		:i if $GotParam$${StructQBKey winner2_text}$			:i $spawnscriptnow$$create_exploding_text$$params$ = :s{$parent$ = %s("you_rock_2_physics")$text$ = %GLOBAL%$winner2_text$$placement$ = $bottom$:s}		:i endif		:i if (~$current_transition$ = $preencore$)			:i $SongAudioStop$			:i $UnPauseGame$			:i $Transition_Play$${StructQBKey type = preencore}$			:i $SongWon_AutoSave$$should_save$ = %GLOBAL%$should_save$			:i $SongWon_AutoSave_Wait$$should_save$ = %GLOBAL%$should_save$			:i $Transition_Wait$			:i $change$${StructQBKey current_transition = None}$			:i $pausegame$			:i $ui_event_get_top$			:i if (%GLOBAL%$base_name$ = %s("controller_disconnect") OR %GLOBAL%$base_name$ = %s("pausemenu_quit_warning"))				:i $ui_event$${					StructQBKey event = menu_replace					StructStruct Data					{						StructHeader						{							StructQBKey state = uistate_song_breakdown							StructInt encore_transition = 1							StructQBKey no_sound						}					}				}$							:i else 				:i $generic_event_choose$${					StructQBKey no_sound					StructQBKey state = uistate_song_breakdown					StructStruct Data					{						StructHeader						{							StructInt encore_transition = 1						}					}				}$							:i endif			:i $encore_transition$ = %i(1)		:i else 			:i $played_song_outro$ = $false$			:i $UnPauseGame$			:i if (~$end_credits$ = %i(1))				:i $Transition_Play$${StructQBKey type = FinalBandOutro}$				:i $SongWon_AutoSave$$should_save$ = %GLOBAL%$should_save$				:i $SongWon_AutoSave_Wait$$should_save$ = %GLOBAL%$should_save$			:i else 				:i $gamemode_gettype$				:i %GLOBAL%$transition$ = $songWon$				:i if (%GLOBAL%$type$ = $freeplay$)					:i if NOT $freeplay_has_players$						:i %GLOBAL%$transition$ = $songDoneAttract$					:i else 						:i %GLOBAL%$transition$ = $songWonFreeplay$					:i endif				:i endif				:i if (%GLOBAL%$career_transformation_encore$ = %i(1))					:i %GLOBAL%$transition$ = $transformationencore$				:i endif				:i $Transition_Play$$type$ = %GLOBAL%$transition$				:i $SongWon_AutoSave$$should_save$ = %GLOBAL%$should_save$				:i $get_band_configuration$$song$ = %GLOBAL%$current_song$				:i if (%GLOBAL%$band$ = $default_band$)					:i $celeb_band$ = $false$				:i else 					:i $celeb_band$ = $true$				:i endif				:i if (((%GLOBAL%$type$ = $career$) AND (%GLOBAL%$celeb_band$ = $false$)) OR (%GLOBAL%$type$ = $quickplay$))					:i if NOT $ui_event_exists_in_stack$${StructString name = "jam"}$						:i if (%GLOBAL%$career_transformation_encore$ = %i(0))							:i $Transition_Wait$							:i $Transition_Play$${StructQBKey type = songoutro}$							:i $played_song_outro$ = $true$						:i endif					:i endif				:i endif				:i $SongWon_AutoSave_Wait$$should_save$ = %GLOBAL%$should_save$			:i endif			:i $Transition_Wait$			:i $change$${StructQBKey current_transition = None}$			:i if (%GLOBAL%$played_song_outro$ = $false$)				:i $CameraCuts_SetArrayPrefix$${					StructString prefix = "cameras_no_band"					StructQBKey changenow					StructInt transition_time = 5					StructStruct extra_params					{						StructHeader						{							StructInt force_time = 5						}					}				}$							:i endif			:i $pausegame$		:i endif	:i elseif (%GLOBAL%$special_rush_logic$ = %i(1))		:i if $Playlist_IsFinished$			:i $SongAudioStop$			:i $UnPauseGame$			:i $spawnscriptnow$${				StructQBKey waitAndKillHighway				StructStruct params				{					StructHeader					{						StructQBKey fade_out					}				}			}$						:i $wait$${				StructFloat 0.5				StructQBKey seconds			}$						:i $SongWon_AutoSave$${StructInt should_save = 1}$			:i $SongWon_AutoSave_Wait$$should_save$ = %GLOBAL%$should_save$			:i $use_rush_outro$			:i $Transition_Play$${				StructQBKey type = RushOutro				StructInt use_song_time = 0			}$						:i $Transition_Wait$		:i else 			:i $UnPauseGame$			:i $spawnscriptnow$${				StructQBKey waitAndKillHighway				StructStruct params				{					StructHeader					{						StructQBKey fade_out					}				}			}$						:i $wait$${				StructFloat 0.5				StructQBKey seconds			}$						:i $pausegame$		:i endif		:i $change$${StructQBKey current_transition = None}$		:i $kill_gem_scroller$${			StructQBKey type = outro			StructQBKey kill_cameracuts_iterator		}$				:i if NOT $Playlist_IsFinished$			:i $pausegame$		:i endif	:i else 		:i if $Playlist_IsFinished$			:i $SongAudioStop$			:i $UnPauseGame$			:i $spawnscriptnow$${				StructQBKey waitAndKillHighway				StructStruct params				{					StructHeader					{						StructQBKey fade_out					}				}			}$						:i %GLOBAL%$final_battle_change_level$ = %i(1)		:i else 			:i $UnPauseGame$			:i $spawnscriptnow$${				StructQBKey waitAndKillHighway				StructStruct params				{					StructHeader					{						StructQBKey fade_out					}				}			}$						:i $wait$${				StructFloat 0.5				StructQBKey seconds			}$						:i $pausegame$			:i $change$${StructQBKey current_transition = None}$			:i $kill_gem_scroller$${				StructQBKey type = outro				StructQBKey kill_cameracuts_iterator			}$						:i $pausegame$		:i endif	:i endif	:i if (%GLOBAL%$type$ = $freeplay$)		:i if $freeplay_should_change_venues$			:i %GLOBAL%$previous_venue$ = (~$current_level$)			:i $quickplay_choose_random_venue$${				StructQBKey allow_current_venue = false				StructQBKey keep_current_if_none_available = true			}$						:i if (%GLOBAL%$previous_venue$ !== ~$current_level$)				:i $freeplay$.$FreeplayUIStack_ClearNumSongsSinceVenueChange$				:i $create_loading_screen$			:i endif		:i endif	:i endif	:i $KillSpawnedScript$${StructQBKey name = create_exploding_text}$	:i if (~$end_credits$ = %i(1))		:i $change$${StructInt end_credits = 2}$	:i endif	:i $destroy_all_exploding_text$	:i if (~$autotest_on$ = %i(1))		:i $ui_event$${			StructQBKey event = menu_change			StructStruct Data			{				StructHeader				{					StructQBKey state = UIstate_autotest_next_test				}			}		}$			:i endif	:i if (~$autolaunch_startnow$ = %i(1))		:i $prepare_for_pending_animpaks$		:i $Playlist_SwitchToNextSong$${StructInt populate_list = 1}$		:i $change$${StructInt gameplay_loading_transition = 1}$		:i $change$${StructInt gameplay_restart_song = 1}$		:i $change$${StructInt net_ready_to_start = 0}$		:i $generic_event_back$${			StructQBKey nosound			StructQBKey state = UIState_Gameplay		}$			:i else 		:i $loading_transition$ = %i(0)		:i $gamemode_gettype$		:i if (%GLOBAL%$type$ = $career$)			:i if NOT $Playlist_IsFinished$				:i $Playlist_SwitchToNextSong$				:i $loading_transition$ = %i(1)			:i endif		:i elseif (%GLOBAL%$type$ = $quickplay$)			:i $stats_song_checksum$ = %GLOBAL%$current_song$			:i if $quickplay_set_new_song_in_gig_list$				:i $loading_transition$ = %i(1)			:i endif		:i elseif ((%GLOBAL%$type$ = $pro_faceoff$) OR (%GLOBAL%$type$ = $competitive$))			:i if $quickplay_set_new_song_in_gig_list$				:i $loading_transition$ = %i(1)			:i endif		:i elseif (%GLOBAL%$type$ = $freeplay$)			:i $freeplay_next_song$			:i $loading_transition$ = %i(1)		:i endif		:i if (%GLOBAL%$final_battle_change_level$ = %i(1))			:i $ui_event$${				StructQBKey event = menu_replace				StructStruct Data				{					StructHeader					{						StructQBKey state = UIstate_quest_breakdown						StructInt starttime = 0						StructInt restart = 0					}				}			}$						:i $SpawnScriptLater$${StructQBKey final_battle_change_level}$		:i elseif (%GLOBAL%$loading_transition$ = %i(1))			:i if (%GLOBAL%$type$ = $career$)				:i if $ScriptIsRunning$${StructQBKey gameplay_end_game_spawned}$					:i return 				:i endif			:i endif			:i $change$${StructInt gameplay_loading_transition = 1}$			:i $change$${StructInt gameplay_restart_song = 1}$			:i $change$${StructInt net_ready_to_start = 0}$			:i $generic_event_back$${				StructQBKey nosound				StructQBKey state = UIState_Gameplay			}$					:i else 			:i if (~$is_network_game$ = %i(1) AND %GLOBAL%$type$ !== $career$)				:i $ui_event_get_top$				:i if (%GLOBAL%$base_name$ = %s("controller_disconnect") OR %GLOBAL%$base_name$ = %s("pausemenu_quit_warning") OR %GLOBAL%$base_name$ = %s("online_quit_warning"))					:i if (%GLOBAL%$type$ = $quickplay$)						:i $ui_event$${							StructQBKey event = menu_replace							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown									StructQBKey net_transition_not_career								}							}						}$											:i else 						:i $ui_event$${							StructQBKey event = menu_replace							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown_competitive									StructQBKey net_transition								}							}						}$											:i endif				:i else 					:i if (%GLOBAL%$type$ = $quickplay$)						:i $ui_event$${							StructQBKey event = menu_change							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown									StructQBKey net_transition_not_career								}							}						}$											:i else 						:i $ui_event$${							StructQBKey event = menu_change							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown_competitive									StructQBKey net_transition								}							}						}$											:i endif				:i endif			:i else 				:i $ui_event_get_top$				:i if (%GLOBAL%$base_name$ = %s("controller_disconnect") OR %GLOBAL%$base_name$ = %s("pausemenu_quit_warning") OR %GLOBAL%$base_name$ = %s("online_quit_warning"))					:i if ((%GLOBAL%$type$ = $pro_faceoff$) OR (%GLOBAL%$type$ = $competitive$))						:i $ui_event$${							StructQBKey event = menu_replace							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown_competitive									StructQBKey end_of_setlist_transition								}							}						}$											:i else 						:i $ui_event$${							StructQBKey event = menu_replace							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown									StructQBKey end_of_setlist_transition								}							}						}$											:i endif				:i else 					:i if $ui_event_exists_in_stack$${StructString name = "debug"}$						:i $UI_SFX$${							StructQBKey menustate = generic							StructQBKey uitype = back						}$												:i $GMan_ShutDownGameModeGoal$						:i $generic_event_back$${StructQBKey state = uistate_mainmenu}$					:i elseif (~$game_mode$ = $career$)						:i if $Playlist_IsFinished$							:i if (~$end_credits$ = %i(2))								:i $Progression_GetCreditsVenue$								:i $ui_memcard_autosave_all_players$${									StructQBKey event = menu_back									StructQBKey state = UIstate_quest_map								}$															:i else 								:i if $quest_progression_is_chapter_rush$									:i $ui_win_song_continue_next_menu$								:i else 									:i $ui_event$${										StructQBKey event = menu_change										StructStruct Data										{											StructHeader											{												StructQBKey state = uistate_song_breakdown												StructQBKey end_of_setlist_transition											}										}									}$																	:i endif							:i endif						:i else 							:i $ui_event$${								StructQBKey event = menu_change								StructStruct Data								{									StructHeader									{										StructQBKey state = uistate_song_breakdown										StructQBKey add_setlist_continue_handlers									}								}							}$													:i endif					:i elseif ((%GLOBAL%$type$ = $pro_faceoff$) OR (%GLOBAL%$type$ = $competitive$))						:i $ui_event$${							StructQBKey event = menu_change							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown_competitive									StructQBKey end_of_setlist_transition								}							}						}$											:i else 						:i $ui_event$${							StructQBKey event = menu_change							StructStruct Data							{								StructHeader								{									StructQBKey state = uistate_song_breakdown									StructQBKey end_of_setlist_transition								}							}						}$											:i endif				:i endif			:i endif		:i endif	:i endif	:i $kill_all_achievement_scripts$	:i endfunction]Script SongWon_AutoSave 0x47382576 [	:i %GLOBAL%$event$ = $menu_replace$	:i if $InInternetMode$		:i %GLOBAL%$should_save$ = %i(0)		:i $band_lobby_career_mark_save_local_players$	:i endif	:i if $ui_event_exists_in_stack$${StructString name = "gameplay"}$		:i %GLOBAL%$event$ = $menu_back$	:i endif	:i if (%GLOBAL%$should_save$ = %i(1))		:i $ui_memcard_autosave_all_players$:s{			:i $event$ = %GLOBAL%$event$			:i $state$ = $UIState_Gameplay$		:i :s}	:i endif	:i return $should_save$ = %GLOBAL%$should_save$	:i endfunction]Script SongWon_AutoSave_Wait 0x6fc26a73 [	:i if (%GLOBAL%$should_save$ = %i(1))		:i $old_transition$ = (~$transition_playing$)		:i while 		:i if NOT $ui_event_exists_in_stack$${StructString name = "memcard"}$			:i if (~$g_memcard_ingame_is_paused$ = %i(0))				:i continue			:i endif		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i $printf$${StructString 0x00000000 = "waiting for autosave to finish"}$		:i if (%GLOBAL%$old_transition$ = $true$ AND ~$transition_playing$ = $false$)			:i $old_transition$ = (~$transition_playing$)		:i endif		:i loop_to 	:i endif	:i endfunction]Script SongWon_WriteLeaderboardStats c9708d7e [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				song_checksum				end_session			]		}		StructQBKey all	}$		:i if $DemoBuild$		:i return 	:i endif	:i if (~$invite_controller$ = %i(4294967295))		:i $check_score_leap_event$		:i $check_for_leaderboard_write$$song_checksum$ = %GLOBAL%$song_checksum$$end_session$ = %GLOBAL%$end_session$$end_credits$ = %GLOBAL%$end_credits$		:i $GetNumPlayersInGame$${			StructQBKey local			StructQBKey out = temp_num_players_in_game		}$				:i if (%GLOBAL%$temp_num_players_in_game$ > %i(0))			:i if (%GLOBAL%$end_credits$ = %i(0))				:i $gamemode_gettype$				:i if (%GLOBAL%$type$ = $career$)					:i if (~$is_network_game$ = %i(1))						:i if $ishost$							:i $agora_update$						:i endif					:i else 						:i $agora_update$					:i endif				:i endif				:i if (~$is_network_game$ = %i(1))					:i if $ishost$						:i if $GotParam$${StructQBKey jam_info}$							:i $agora_write_stats$$song_checksum$ = %GLOBAL%$song_checksum$$jam_info$ = %GLOBAL%$jam_info$						:i else 							:i $agora_write_stats$$song_checksum$ = %GLOBAL%$song_checksum$						:i endif					:i endif				:i else 					:i if $GotParam$${StructQBKey jam_info}$						:i $agora_write_stats$$song_checksum$ = %GLOBAL%$song_checksum$$jam_info$ = %GLOBAL%$jam_info$					:i else 						:i $agora_write_stats$$song_checksum$ = %GLOBAL%$song_checksum$					:i endif				:i endif			:i endif		:i endif	:i endif	:i endfunction]Script kill_you_rock_movie 0x4df32acd [	:i $KillMovie$${StructInt textureslot = 1}$	:i endfunction]Script wait_and_play_you_rock_movie 0x6fb6435c [	:i while 	:i if ($isMoviePreLoaded$$textureslot$ = %i(1))		:i $StartPreLoadedMovie$${StructInt textureslot = 1}$		:i return 	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i endfunction]Script waitAndKillHighway 0x70746798 [	:i if $GotParam$${StructQBKey fade_out}$		:i $gamemode_gettype$		:i if (%GLOBAL%$type$ = $career$)			:i $hide_highway$${				StructFloat fadetime = 1.00				StructQBKey endofsong			}$					:i else 			:i $set_all_highway_prepass_props$${StructInt alpha = 0}$			:i $set_all_highway_props$${				StructInt alpha = 0				StructFloat time = 0.5			}$					:i endif		:i $wait$${			StructFloat 0.5			StructQBKey seconds		}$			:i endif	:i $wait$${		StructFloat 0.5		StructQBKey seconds	}$		:i $disable_bg_viewport$${StructQBKey no_cameras}$	:i endfunction]SectionInteger current_song_time -1SectionInteger time_to_next_beat -1SectionInteger next_beat_time -1SectionInteger time_to_next_beat2 -1SectionInteger next_beat_time2 -1SectionInteger tempo_iterator_offset 0Script tempo_matching_iterator 0x91982e6c [	:i $printf$^[267f53bc]^$d$ = %GLOBAL%$time_offset$$channel$ = $events$	:i $SongFileManager$$func$ = $get_num_timesig_notes$$song_name$ = %GLOBAL%$song_name$	:i $timesig_entry$ = %i(0)	:i $timesig_size$ = %GLOBAL%$num_timesig_notes$	:i $timesig_num_val$ = %i(0)	:i $timesig_den_val$ = %i(0)	:i $measure_count$ = %i(0)	:i $even$ = %i(1)	:i $SongFileManager$$func$ = $get_num_fretbar_notes$$song_name$ = %GLOBAL%$song_name$	:i $array_size$ = %GLOBAL%$num_fretbar_notes$	:i $array_entry$ = %i(0)	:i $array_entry2$ = %i(0)	:i $fretbar_count$ = %i(0)	:i $change$${StructInt next_beat_time = -1}$	:i $change$${StructInt time_to_next_beat = -1}$	:i $change$${StructInt next_beat_time2 = -1}$	:i $change$${StructInt time_to_next_beat2 = -1}$	:i $change$$tempo_iterator_offset$ = %GLOBAL%$time_offset$	:i $SongFileManager$$func$ = $get_song_end_time$$song_name$ = %GLOBAL%$song_name$	:i while 	:i if (%GLOBAL%$array_size$ < %i(2))		:i continue	:i endif	:i %GLOBAL%$entry$ = (%GLOBAL%$array_size$%i(4294967294))	:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$entry$	:i if (%GLOBAL%$total_end_time$ > %GLOBAL%$fretbar_time$)		:i continue	:i endif	:i %GLOBAL%$array_size$ = (%GLOBAL%$array_size$ - %i(1))	:i loop_to 	:i $getsongtimems$$time_offset$ = %GLOBAL%$time_offset$	:i if NOT (%GLOBAL%$array_size$ = %i(0))		:i while 		:i if (%GLOBAL%$timesig_entry$ < %GLOBAL%$timesig_size$)			:i $SongFileManager$$func$ = $get_timesig_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$timesig_entry$			:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$			:i if (%GLOBAL%$timesig_time$ <= %GLOBAL%$fretbar_time$)				:i $timesig_num_val$ = %GLOBAL%$timesig_num$				:i $timesig_den_val$ = %GLOBAL%$timesig_den$				:i $fretbar_count$ = %i(0)				:i $timesig_entry$ = (%GLOBAL%$timesig_entry$ + %i(1))			:i endif		:i endif		:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$		:i if ((%GLOBAL%$time$ - %GLOBAL%$skipleadin$) < %GLOBAL%$fretbar_time$)			:i continue		:i endif		:i $array_entry$ = (%GLOBAL%$array_entry$ + %i(1))		:i $fretbar_count$ = (%GLOBAL%$fretbar_count$ + %i(1))		:i if (%GLOBAL%$fretbar_count$ = %GLOBAL%$timesig_num_val$)			:i $measure_count$ = (%GLOBAL%$measure_count$ + %i(1))			:i $fretbar_count$ = %i(0)		:i endif		:i loop_to %GLOBAL%$array_size$		:i $final_array_entry$ = (%GLOBAL%$array_size$ - %i(1))		:i $array_size$ = (%GLOBAL%$array_size$ - %GLOBAL%$array_entry$)		:i if (%GLOBAL%$array_size$ > %i(0))			:i while 			:i while 			:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$			:i $getsongtimems$			:i if (%GLOBAL%$time$ >= %GLOBAL%$fretbar_time$)				:i $getsongtimems$$time_offset$ = %GLOBAL%$time_offset$				:i if (%GLOBAL%$timesig_entry$ < %GLOBAL%$timesig_size$)					:i $SongFileManager$$func$ = $get_timesig_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$timesig_entry$					:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$					:i if (%GLOBAL%$timesig_time$ <= %GLOBAL%$fretbar_time$)						:i $timesig_num_val$ = %GLOBAL%$timesig_num$						:i $timesig_den_val$ = %GLOBAL%$timesig_den$						:i $fretbar_count$ = %i(0)						:i $timesig_entry$ = (%GLOBAL%$timesig_entry$ + %i(1))					:i endif				:i endif				:i if (%GLOBAL%$array_entry$ < %GLOBAL%$final_array_entry$)					:i $SongFileManager$$func$ = $get_beat_time$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$					:i $current_song_beat_time$ = %GLOBAL%$beat_time$					:i $SetPlayerInfo$%GLOBAL%$player$$current_song_beat_time$ = %GLOBAL%$current_song_beat_time$					:i $SetPlayerInfo$%GLOBAL%$player$$current_song_measure_time$ = (%GLOBAL%$timesig_num_val$ * %GLOBAL%$current_song_beat_time$)				:i endif				:i continue			:i endif			:i $wait$${				StructInt 1				StructQBKey gameframe			}$						:i loop_to 			:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$			:i $marker$ = %GLOBAL%$fretbar_time$			:i %GLOBAL%$array_entry$ = (%GLOBAL%$array_entry$ + %i(1))			:i $fretbar_count$ = (%GLOBAL%$fretbar_count$ + %i(1))			:i if (%GLOBAL%$fretbar_count$ = %GLOBAL%$timesig_num_val$)				:i $measure_count$ = (%GLOBAL%$measure_count$ + %i(1))				:i $fretbar_count$ = %i(0)				:i $spawn_measure_callbacks$			:i endif			:i if (%GLOBAL%$array_entry$ < %GLOBAL%$final_array_entry$)				:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$				:i $change$$next_beat_time$ = %GLOBAL%$fretbar_time$				:i $change$$time_to_next_beat$ = (~$next_beat_time$ - %GLOBAL%$marker$)				:i $spawn_beat_callbacks$${StructQBString time_to_next_beat = time_to_next_beat}$			:i else 				:i $change$${StructInt next_beat_time = -1}$				:i $change$${StructInt time_to_next_beat = -1}$			:i endif			:i if (%GLOBAL%$even$ = %i(1))				:i %GLOBAL%$next_array_entry$ = (%GLOBAL%$array_entry$ + %i(1))				:i if (%GLOBAL%$next_array_entry$ < %GLOBAL%$final_array_entry$)					:i $SongFileManager$$func$ = $get_fretbar_note$$song_name$ = %GLOBAL%$song_name$$index$ = %GLOBAL%$array_entry$					:i $change$$next_beat_time2$ = %GLOBAL%$fretbar_time$					:i $change$$time_to_next_beat2$ = (~$next_beat_time2$ - %GLOBAL%$marker$)				:i else 					:i $change$${StructInt next_beat_time2 = -1}$					:i $change$${StructInt time_to_next_beat2 = -1}$				:i endif				:i $even$ = %i(0)			:i else 				:i $even$ = %i(1)			:i endif			:i loop_to %GLOBAL%$array_size$		:i endif	:i endif	:i endfunction]SectionQBKey measure_callback NullScriptSectionQBKey beat_callback NullScriptScript SetMeasureCallback fa0b4a7a [	:i if $GotParam$${StructQBKey callback}$		:i $change$$measure_callback$ = %GLOBAL%$callback$	:i else 	:i endif	:i endfunction]Script ClearMeasureCallbacks 0x1abe9651 [	:i $change$${StructQBKey measure_callback = NullScript}$	:i endfunction]Script SetBeatCallback 0x4f0a2438 [	:i if $GotParam$${StructQBKey callback}$		:i $change$$beat_callback$ = %GLOBAL%$callback$	:i else 	:i endif	:i endfunction]Script GetTimeToNextBeat 0x73a207c8 [	:i $getsongtimems$${StructQBString time_offset = tempo_iterator_offset}$	:i return $time_to_next_beat$ = (~$next_beat_time$ - %GLOBAL%$time$)	:i endfunction]Script ClearBeatCallbacks 0x9eea8ecd [	:i $change$${StructQBKey beat_callback = NullScript}$	:i endfunction]Script spawn_measure_callbacks 0x9f3d87c0 [	:i $spawnscriptnow$${StructQBString measure_callback}$	:i endfunction]Script spawn_beat_callbacks 0x37d8adc2 [	:i $spawnscriptnow$~$beat_callback$$params$ = :s{$time_to_next_beat$ = %GLOBAL%$time_to_next_beat$:s}	:i endfunction]Script measure_test_script 0x18d906d8 [	:i $printf$${		StructQBKey channel = tempo		StructQBStringQs 0x579a2ed4	}$		:i endfunction]Script beat_test_script ce7c90bf [	:i $printf$$channel$ = $tempo$^[96bdbc92]^$a$ = %GLOBAL%$time_to_next_beat$	:i endfunction]Script GuitarEvent_StarSequenceBonus 0x7d6581b2 [	:i $AddToPlayerInfo$%GLOBAL%$player$$sp_phrases_hit$ = %i(1)	:i if ((~$g_debug_highway_visible$) = %i(0))		:i return 	:i endif	:i if $IsPS3$		:i if NOT (~$current_song$ = $jamsession$)			:i if $isSinglePlayerGame$				:i $SoundEvent$${StructQBKey event = Audio_Star_Power_Awarded}$			:i else 				:i $spawnscriptnow$$audio_gameplay_star_power_awarded_logic$$params$ = :s{$player$ = %GLOBAL%$player$:s}			:i endif		:i endif	:i else 		:i if $isSinglePlayerGame$			:i $SoundEvent$${StructQBKey event = Audio_Star_Power_Awarded}$		:i else 			:i $spawnscriptnow$$audio_gameplay_star_power_awarded_logic$$params$ = :s{$player$ = %GLOBAL%$player$:s}		:i endif	:i endif	:i $FormatText$$checksumname$ = $container_id$%s("nowbar_container_p%p")$p$ = %GLOBAL%$player$	:i $getnowbarscale$$player$ = %GLOBAL%$player$	:i $player_index$ = (%GLOBAL%$player$ - %i(1))	:i $GetArraySize$${StructQBString gem_colors}$	:i $InputArrayGetElement$$name$ = %GLOBAL%$song$$index$ = %GLOBAL%$array_entry$	:i $OnExitRun$$GuitarEvent_StarSequenceBonus_Exit$$params$ = :s{$player$ = %GLOBAL%$player$$gem_array$ = %GLOBAL%$gem_array$:s}	:i $destroy_big_bolt$:s{$player$ = %GLOBAL%$player$$gem_array$ = %GLOBAL%$gem_array$:s}	:i $gem_count$ = %i(0)	:i $GetNumPlayersInGame$${StructQBKey on_screen}$	:i if (%GLOBAL%$num_players_shown$ = %i(1))		:i $Scale$ = %vec2(6.0,3.0)		:i $scale2$ = %vec2(6.0,4.0)	:i endif	:i if (%GLOBAL%$num_players_shown$ = %i(2))		:i $Scale$ = %vec2(7.199999809265137,3.0)		:i $scale2$ = %vec2(7.199999809265137,4.0)	:i endif	:i if (%GLOBAL%$num_players_shown$ = %i(3))		:i $Scale$ = %vec2(9.0,3.0)		:i $scale2$ = %vec2(9.0,4.0)	:i endif	:i if (%GLOBAL%$num_players_shown$ = %i(4))		:i $Scale$ = %vec2(11.0,3.0)		:i $scale2$ = %vec2(11.0,4.0)	:i endif	:i $getplayerinfo$%GLOBAL%$player$$star_power_gain_multiplier$	:i if (%GLOBAL%$star_power_gain_multiplier$ >= %i(4))		:i $Default_Lightning_Alpha$ = %i(0)		:i $RP_AlphaLVL1$ = %i(1)		:i $RP_AlphaLVL2$ = %i(1)		:i $spawnscriptnow$$NewMale_RP_FX$$params$ = :s{$player$ = %GLOBAL%$player$$Scale$ = %vec2(2.0,1.0)$Pos$ = %vec2(-91.0,-102.0):s}	:i elseif (%GLOBAL%$star_power_gain_multiplier$ >= %i(2))		:i $Default_Lightning_Alpha$ = %i(0)		:i $RP_AlphaLVL1$ = %i(1)		:i $RP_AlphaLVL2$ = %i(0)		:i $spawnscriptnow$$NewMale_RP_FX$$params$ = :s{$player$ = %GLOBAL%$player$$Scale$ = %vec2(1.0,1.0)$Pos$ = %vec2(-30.0,-102.0):s}	:i else 		:i $Default_Lightning_Alpha$ = %i(1)		:i $RP_AlphaLVL1$ = %i(0)		:i $RP_AlphaLVL2$ = %i(0)	:i endif	:i while 	:i %GLOBAL%$note_value$ = (%GLOBAL%$gem_array$:a{(%GLOBAL%$gem_count$ + %i(1)):a})	:i if (%GLOBAL%$note_value$ > %i(0))		:i if (%GLOBAL%$gem_count$ = (%GLOBAL%$array_size$%i(4294967295)))			:i if $GotParam$${StructQBKey got_one}$				:i continue			:i endif		:i else 			:i $got_one$ = %i(1)		:i endif		:i $color$ = (~$gem_colors$:a{%GLOBAL%$gem_count$:a})		:i $Lightning_RGBA_01$ = :a{%i(200)%i(255)%i(255)%i(255):a}		:i $Lightning_RGBA_02$ = :a{%i(0)%i(255)%i(255)%i(128):a}		:i $Lightning_RP_RGBA_01$ = :a{%i(200)%i(200)%i(255)%i(255):a}		:i $Lightning_RP_RGBA_02$ = :a{%i(0)%i(128)%i(255)%i(255):a}		:i $Bolt_dims$ = %vec2(128.0,48.0)		:i if $playerinfoequals$%GLOBAL%$player$$lefthanded_button_ups$ = %i(1)			:i %GLOBAL%$pos2d$ = ((~$button_up_models$:a{%GLOBAL%$player_index$:a})->%GLOBAL%$color$->$left_pos_2d$)			:i %GLOBAL%$Angle$ = (((~$button_models$:a{%GLOBAL%$player_index$:a})->%GLOBAL%$color$->$Angle$) + %i(90))			:i %GLOBAL%$angle2$ = (((~$button_models$:a{%GLOBAL%$player_index$:a})->%GLOBAL%$color$->$Angle$) + %i(80))		:i else 			:i %GLOBAL%$pos2d$ = ((~$button_up_models$:a{%GLOBAL%$player_index$:a})->%GLOBAL%$color$->$pos_2d$)			:i %GLOBAL%$Angle$ = (((~$button_models$:a{%GLOBAL%$player_index$:a})->%GLOBAL%$color$->$left_angle$) + %i(90))			:i %GLOBAL%$angle2$ = (((~$button_models$:a{%GLOBAL%$player_index$:a})->%GLOBAL%$color$->$left_angle$) + %i(80))		:i endif		:i $FormatText$$checksumname$ = $Bolt_Cont$%s("big_boltp%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$Bolt_Cont$			:i $CreateScreenElement$:s{				:i $type$ = $ContainerElement$				:i $id$ = %GLOBAL%$Bolt_Cont$				:i $parent$ = %GLOBAL%$container_id$				:i $Pos$ = %GLOBAL%$pos2d$				:i $rot_angle$ = %GLOBAL%$Angle$				:i $alpha$ = %i(1)				:i $Scale$ = %vec2(1.0,1.0)				:i $just$ = :a{$center$$bottom$:a}				:i $z_priority$ = %i(16)				:i $dims$ = %vec2(32.0,32.0)			:i :s}			:i $CreateScreenElement$:s{				:i $type$ = $SpriteElement$				:i $parent$ = %GLOBAL%$Bolt_Cont$				:i $material$ = $Mat_Lightning_Arc_Anim01$				:i $rgba$ = %GLOBAL%$Lightning_RGBA_01$				:i $rot_angle$ = %i(0)				:i $Scale$ = %GLOBAL%$Scale$				:i $just$ = :a{$RIGHT$$center$:a}				:i $z_priority$ = %i(16)				:i $alpha$ = %GLOBAL%$Default_Lightning_Alpha$				:i $dims$ = %GLOBAL%$Bolt_dims$			:i :s}			:i $Bolt1$ = %GLOBAL%$id$			:i $CreateScreenElement$:s{				:i $type$ = $SpriteElement$				:i $parent$ = %GLOBAL%$Bolt_Cont$				:i $material$ = $Mat_Lightning_Arc_Anim02$				:i $rgba$ = %GLOBAL%$Lightning_RGBA_02$				:i $Pos$ = %vec2(0.0,0.0)				:i $rot_angle$ = %i(0)				:i $Scale$ = %GLOBAL%$Scale$				:i $just$ = :a{$RIGHT$$center$:a}				:i $z_priority$ = %i(16)				:i $alpha$ = %GLOBAL%$Default_Lightning_Alpha$				:i $dims$ = %GLOBAL%$Bolt_dims$			:i :s}			:i $Bolt2$ = %GLOBAL%$id$			:i $CreateScreenElement$:s{				:i $type$ = $SpriteElement$				:i $parent$ = %GLOBAL%$Bolt_Cont$				:i $material$ = $Mat_Lightning_Arc_Anim01$				:i $rgba$ = %GLOBAL%$Lightning_RP_RGBA_01$				:i $rot_angle$ = %i(0)				:i $Scale$ = %GLOBAL%$scale2$				:i $just$ = :a{%f(1.0),%f(0.3000000):a}				:i $z_priority$ = %i(16)				:i $alpha$ = %GLOBAL%$RP_AlphaLVL1$				:i $dims$ = %GLOBAL%$Bolt_dims$			:i :s}			:i $Bolt3$ = %GLOBAL%$id$			:i $CreateScreenElement$:s{				:i $type$ = $SpriteElement$				:i $parent$ = %GLOBAL%$Bolt_Cont$				:i $material$ = $Mat_Lightning_Arc_Anim02$				:i $rgba$ = %GLOBAL%$Lightning_RP_RGBA_02$				:i $Pos$ = %vec2(0.0,0.0)				:i $rot_angle$ = %i(0)				:i $Scale$ = %GLOBAL%$scale2$				:i $just$ = :a{%f(1.0),%f(0.3000000):a}				:i $z_priority$ = %i(16)				:i $alpha$ = %GLOBAL%$RP_AlphaLVL1$				:i $dims$ = %GLOBAL%$Bolt_dims$			:i :s}			:i $Bolt4$ = %GLOBAL%$id$			:i $CreateScreenElement$:s{				:i $type$ = $SpriteElement$				:i $parent$ = %GLOBAL%$Bolt_Cont$				:i $material$ = $Mat_Lightning_Arc_Anim03$				:i $rgba$ = %GLOBAL%$Lightning_RP_RGBA_01$				:i $rot_angle$ = %i(180)				:i $Scale$ = %GLOBAL%$Scale$				:i $just$ = :a{$left$$bottom$:a}				:i $z_priority$ = %i(16)				:i $alpha$ = %GLOBAL%$RP_AlphaLVL2$				:i $dims$ = %GLOBAL%$Bolt_dims$			:i :s}			:i $Bolt5$ = %GLOBAL%$id$			:i $CreateScreenElement$:s{				:i $type$ = $SpriteElement$				:i $parent$ = %GLOBAL%$Bolt_Cont$				:i $material$ = $Mat_Lightning_Arc_Anim04$				:i $rgba$ = %GLOBAL%$Lightning_RP_RGBA_02$				:i $Pos$ = %vec2(0.0,0.0)				:i $rot_angle$ = %i(180)				:i $Scale$ = %GLOBAL%$Scale$				:i $just$ = :a{$left$$bottom$:a}				:i $z_priority$ = %i(16)				:i $alpha$ = %GLOBAL%$RP_AlphaLVL2$				:i $dims$ = %GLOBAL%$Bolt_dims$			:i :s}			:i $Bolt6$ = %GLOBAL%$id$		:i endif		:i $FormatText$$checksumname$ = $nameH$%s("big_bolt_hitp%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$nameH$			:i $CreateScreenElement$:s{				:i $type$ = $SpriteElement$				:i $id$ = %GLOBAL%$nameH$				:i $parent$ = %GLOBAL%$container_id$				:i $material$ = $Mat_SP_Xplosion1$				:i $rgba$ = :a{%i(255)%i(255)%i(255)%i(255):a}				:i $Pos$ = %GLOBAL%$pos2d$				:i $rot_angle$ = %i(0)				:i $Scale$ = %vec2(2.0,2.0)				:i $just$ = :a{$center$$bottom$:a}				:i $z_priority$ = %i(16)			:i :s}		:i endif		:i $FormatText$$checksumname$ = $fx_id$%s("big_bolt_particlep%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i $destroy2dparticlesystem$$id$ = %GLOBAL%$fx_id$		:i %GLOBAL%$particle_pos$ = %GLOBAL%$pos2d$		:i %GLOBAL%$particle_pos$ = ((((%GLOBAL%$particle_pos$:a{%i(0):a}) * %GLOBAL%$nowbar_x_scale$) * %vec2(1.0,0.0)) + ((((%GLOBAL%$particle_pos$:a{%i(1):a}) * %GLOBAL%$nowbar_y_scale$)) * %vec2(0.0,1.0)))		:i $FormatText$$checksumname$ = $hwy$%s("highway_containerp%p")$p$ = %GLOBAL%$player$		:i if NOT $ObjectExists$$id$ = %GLOBAL%$fx_id$			:i if ((~$g_debug_highway_visible$) = %i(1))				:i $create2dparticlesystem$:s{					:i $id$ = %GLOBAL%$fx_id$					:i $Pos$ = %GLOBAL%$particle_pos$					:i $z_priority$ = %f(8.0)					:i $material$ = $sys_Particle_Star01_sys_Particle_Star01$					:i $parent$ = %GLOBAL%$container_id$					:i $start_color$ = :a{%i(0)%i(128)%i(255)%i(255):a}					:i $end_color$ = :a{%i(0)%i(128)%i(128)%i(0):a}					:i $start_scale$ = %vec2(0.25,0.25)					:i $end_scale$ = %vec2(0.25,0.25)					:i $start_angle_spread$ = %f(360.0)					:i $min_rotation$ = %f(-120.0)					:i $max_rotation$ = %f(240.0)					:i $emit_start_radius$ = %f(0.0)					:i $emit_radius$ = %f(2.0)					:i $emit_rate$ = %f(0.0399999)					:i $emit_dir$ = %f(0.0)					:i $emit_spread$ = %f(44.0)					:i $velocity$ = %f(24.0)					:i $friction$ = %vec2(0.0,66.0)					:i $time$ = %f(2.0)				:i :s}			:i endif		:i endif		:i $FormatText$$checksumname$ = $fx2_id$%s("big_bolt_particle2p%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i %GLOBAL%$particle_pos$ = %GLOBAL%$pos2d$		:i %GLOBAL%$particle_pos$ = ((((%GLOBAL%$particle_pos$:a{%i(0):a}) * %GLOBAL%$nowbar_x_scale$) * %vec2(1.0,0.0)) + ((((%GLOBAL%$particle_pos$:a{%i(1):a}) * %GLOBAL%$nowbar_y_scale$)) * %vec2(0.0,1.0)))		:i if NOT $ObjectExists$$id$ = %GLOBAL%$fx2_id$			:i if ((~$g_debug_highway_visible$) = %i(1))				:i $create2dparticlesystem$:s{					:i $id$ = %GLOBAL%$fx2_id$					:i $Pos$ = %GLOBAL%$particle_pos$					:i $z_priority$ = %f(8.0)					:i $material$ = $Mat_Star03$					:i $parent$ = %GLOBAL%$container_id$					:i $start_color$ = :a{%i(255)%i(255)%i(255)%i(128):a}					:i $end_color$ = :a{%i(128)%i(128)%i(128)%i(0):a}					:i $start_scale$ = %vec2(0.125,0.125)					:i $end_scale$ = %vec2(0.15000000596046448,0.15000000596046448)					:i $start_angle_spread$ = %f(360.0)					:i $min_rotation$ = %f(-120.0)					:i $max_rotation$ = %f(508.0)					:i $emit_start_radius$ = %f(0.0)					:i $emit_radius$ = %f(2.0)					:i $emit_rate$ = %f(0.0700000)					:i $emit_dir$ = %f(0.0)					:i $emit_spread$ = %f(28.0)					:i $velocity$ = %f(12.0)					:i $friction$ = %vec2(0.0,33.0)					:i $time$ = %f(1.0)				:i :s}			:i endif		:i endif		:i $FormatText$$checksumname$ = $fx3_id$%s("big_bolt_particle3p%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i %GLOBAL%$particle_pos$ = %GLOBAL%$pos2d$		:i %GLOBAL%$particle_pos$ = (%GLOBAL%$particle_pos$ - %vec2(0.0,15.0))		:i %GLOBAL%$particle_pos$ = ((((%GLOBAL%$particle_pos$:a{%i(0):a}) * %GLOBAL%$nowbar_x_scale$) * %vec2(1.0,0.0)) + ((((%GLOBAL%$particle_pos$:a{%i(1):a}) * %GLOBAL%$nowbar_y_scale$)) * %vec2(0.0,1.0)))		:i if NOT $ObjectExists$$id$ = %GLOBAL%$fx3_id$			:i if ((~$g_debug_highway_visible$) = %i(1))				:i $create2dparticlesystem$:s{					:i $id$ = %GLOBAL%$fx3_id$					:i $Pos$ = %GLOBAL%$particle_pos$					:i $z_priority$ = %f(8.0)					:i $material$ = $sys_Particle_lnzflare02_sys_Particle_lnzflare02$					:i $parent$ = %GLOBAL%$container_id$					:i $start_color$ = :a{%i(255)%i(255)%i(255)%i(255):a}					:i $end_color$ = :a{%i(0)%i(255)%i(255)%i(0):a}					:i $start_scale$ = %vec2(0.5,0.5)					:i $end_scale$ = %vec2(0.05000000074505806,0.05000000074505806)					:i $start_angle_spread$ = %f(360.0)					:i $min_rotation$ = %f(-500.0)					:i $max_rotation$ = %f(500.0)					:i $emit_start_radius$ = %f(0.0)					:i $emit_radius$ = %f(2.0)					:i $emit_rate$ = %f(0.0500000)					:i $emit_dir$ = %f(0.0)					:i $emit_spread$ = %f(180.0)					:i $velocity$ = %f(12.0)					:i $friction$ = %vec2(0.0,12.0)					:i $time$ = %f(0.5)				:i :s}			:i endif		:i endif	:i endif	:i $gem_count$ = (%GLOBAL%$gem_count$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $wait$${		StructQBString star_power_bolt_time		StructQBKey seconds	}$		:i $destroy_big_bolt$:s{$player$ = %GLOBAL%$player$$gem_array$ = %GLOBAL%$gem_array$$kill_when_empty$ = $kill_when_empty$:s}	:i $OnExitRun$${StructQBKey NullScript}$	:i endfunction]Script GuitarEvent_StarSequenceBonus_Exit a078fb36 [	:i $printf$${StructString 0x00000000 = "GuitarEvent_StarSequenceBonus_Exit"}$	:i $destroy_big_bolt$:s{$player$ = %GLOBAL%$player$$gem_array$ = %GLOBAL%$gem_array$$kill_when_empty$ = $kill_when_empty$:s}	:i endfunction]Script destroy_big_bolt e33fea00 [	:i $gem_count$ = %i(0)	:i $GetArraySize$${StructQBString gem_colors}$	:i while 	:i %GLOBAL%$note_value$ = (%GLOBAL%$gem_array$:a{(%GLOBAL%$gem_count$ + %i(1)):a})	:i if (%GLOBAL%$note_value$ > %i(0))		:i $FormatText$$checksumname$ = $Bolt_Cont$%s("big_boltp%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i $DestroyScreenElement$$id$ = %GLOBAL%$Bolt_Cont$		:i $FormatText$$checksumname$ = $fx_id$%s("big_bolt_particlep%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i $FormatText$$checksumname$ = $fx2_id$%s("big_bolt_particle2p%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i $FormatText$$checksumname$ = $fx3_id$%s("big_bolt_particle3p%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i $destroy2dparticlesystem$$id$ = %GLOBAL%$fx_id$%GLOBAL%$kill_when_empty$		:i $destroy2dparticlesystem$$id$ = %GLOBAL%$fx2_id$%GLOBAL%$kill_when_empty$		:i $destroy2dparticlesystem$$id$ = %GLOBAL%$fx3_id$%GLOBAL%$kill_when_empty$		:i $FormatText$$checksumname$ = $nameH$%s("big_bolt_hitp%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$		:i $DestroyScreenElement$$id$ = %GLOBAL%$nameH$	:i endif	:i $gem_count$ = (%GLOBAL%$gem_count$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i endfunction]Script destroy_all_big_bolts 0x426c94ed [	:i $GetArraySize$${StructQBString gem_colors}$	:i $player$ = %i(0)	:i while 	:i $gem_count$ = %i(0)	:i while 	:i $FormatText$$checksumname$ = $name$%s("big_boltp%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$	:i $DestroyScreenElement$$id$ = %GLOBAL%$name$	:i $FormatText$$checksumname$ = $fx_id$%s("big_bolt_particlep%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$	:i $FormatText$$checksumname$ = $fx2_id$%s("big_bolt_particle2p%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$	:i $FormatText$$checksumname$ = $fx3_id$%s("big_bolt_particle3p%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$fx_id$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$fx2_id$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$fx3_id$	:i $FormatText$$checksumname$ = $nameH$%s("big_bolt_hitp%p%e")$p$ = %GLOBAL%$player$$e$ = %GLOBAL%$gem_count$$addtostringlookup$ = $true$	:i $DestroyScreenElement$$id$ = %GLOBAL%$nameH$	:i $gem_count$ = (%GLOBAL%$gem_count$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $player$ = (%GLOBAL%$player$ + %i(1))	:i loop_to %i(4)	:i endfunction]Script guitarevent_multiplier4xoff 0x6ebe4e92 [	:i $SoundEvent$${StructQBKey event = Audio_UI_Gameplay_Lose_Multiplier_4X}$	:i $spawnscriptnow$$highway_pulse_multiplier_loss$$params$ = :s{$player$ = %GLOBAL%$player$$multiplier$ = %i(4):s}	:i endfunction]Script guitarevent_multiplier3xoff 0x1980a4f8 [	:i $SoundEvent$${StructQBKey event = Audio_UI_Gameplay_Lose_Multiplier_3X}$	:i $spawnscriptnow$$highway_pulse_multiplier_loss$$params$ = :s{$player$ = %GLOBAL%$player$$multiplier$ = %i(3):s}	:i endfunction]Script guitarevent_multiplier2xoff 0x4d99862d [	:i $SoundEvent$${StructQBKey event = Audio_UI_Gameplay_Lose_Multiplier_2X}$	:i $spawnscriptnow$$highway_pulse_multiplier_loss$$params$ = :s{$player$ = %GLOBAL%$player$$multiplier$ = %i(2):s}	:i endfunction]Script GuitarEvent_KillSong 0x53d8d980 [	${StructInt loadingtransition = 0}$	:i $audio_gameplay_stop_sounds_for_killsong$ isNull $loading_transition$ = %GLOBAL%$loading_transition$	:i endfunction]Script GuitarEvent_VenueEnter 0x103b6d8a [	:i $GetPakManCurrentName$${StructQBKey map = zones}$	:i $FormatText$$checksumname$ = $echo_params$%s("Echo_Crowd_Buss_%s")$s$ = %GLOBAL%$pakname$	:i $FormatText$$checksumname$ = $reverb_params$%s("Reverb_Crowd_Buss_%s")$s$ = %GLOBAL%$pakname$	:i if NOT $globalexists$$name$ = %GLOBAL%$echo_params$		:i $echo_params$ = $Echo_Crowd_Buss_Default_SemiWet$	:i endif	:i if NOT $globalexists$$name$ = %GLOBAL%$reverb_params$		:i $reverb_params$ = $Reverb_Crowd_Buss_Default_SemiWet$	:i endif	:i $setsoundbusseffects$$effects$ = :a{:s{~%GLOBAL%$echo_params$$name$ = $Crowd_W_Reverb_Buss_Echo$:s}:a}	:i $setsoundbusseffects$$effects$ = :a{:s{~%GLOBAL%$reverb_params$$name$ = $Crowd_W_Reverb_Buss_Reverb$:s}:a}	:i endfunction]Script GuitarEvent_VenueExit 0x2b4c5376 [	:i $setsoundbusseffects$${		StructArray effects		{			ArrayStruct			[				StructHeader				{					StructQBString Echo_Dry					StructQBKey name = Crowd_W_Reverb_Buss_Echo				}			]		}	}$		:i $setsoundbusseffects$${		StructArray effects		{			ArrayStruct			[				StructHeader				{					StructQBString Reverb_Dry					StructQBKey name = Crowd_W_Reverb_Buss_Reverb				}			]		}	}$		:i endfunction]Script GuitarEvent_CreateFirstGem b8219da7 [	:i $spawnscriptnow$$first_gem_fx$$params$ = :s{ isNull :s}	:i endfunction]Script first_gem_fx 0x10cb9fde [	:i if $GotParam$${StructQBKey is_white_gem}$		:i return 	:i endif	:i $extendcrc$%GLOBAL%$gem_id$%s("_particle")$out$ = $fx_id$	:i if $GotParam$${StructQBKey is_star}$		:i %GLOBAL%$Pos$ = %vec2(255.0,170.0)	:i else 		:i %GLOBAL%$Pos$ = %vec2(66.0,20.0)	:i endif	:i $DestroyScreenElement$$id$ = %GLOBAL%$fx_id$	:i $CreateScreenElement$:s{		:i $type$ = $SpriteElement$		:i $parent$ = %GLOBAL%$gem_id$		:i $id$ = %GLOBAL%$fx_id$		:i $Scale$ = %vec2(1.0,1.0)		:i $Pos$ = %GLOBAL%$Pos$		:i $material$ = $sys_Particle_lnzflare02_sys_Particle_lnzflare02$		:i $z_priority$ = %i(18)		:i $rgba$ = :a{%i(255)%i(255)%i(255)%i(255):a}	:i :s}	:i $spawnscriptnow$$destroy_first_gem_fx$$params$ = :s{$gem_id$ = %GLOBAL%$gem_id$$fx_id$ = %GLOBAL%$fx_id$:s}	:i $wait$${		StructFloat 0.800000011920929		StructQBKey seconds	}$		:i $DestroyScreenElement$$id$ = %GLOBAL%$fx_id$	:i endfunction]Script destroy_first_gem_fx 0x1799b94f [	:i while 	:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$gem_id$		:i $DestroyScreenElement$$id$ = %GLOBAL%$fx_id$		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i endfunction]Script GuitarEvent_GemStarPowerOn ffffffff [	:i endfunction]Script GuitarEvent_TransitionIntro ffffffff [	:i endfunction]Script GuitarEvent_TransitionFastIntro ffffffff [	:i endfunction]Script GuitarEvent_TransitionPreEncore ffffffff [	:i endfunction]Script GuitarEvent_TransitionEncore ffffffff [	:i endfunction]SectionInteger kick_index 0Script guitarevent_kick_drum_hit_note 0x99ecb16c [	${		StructInt player = 1		StructInt kill_when_empty = 0	}$		:i $ChangeGlobalInteger$$global_name$ = $kick_index$$new_value$ = (~$kick_index$ + %i(1))	:i if (~$kick_index$ > %i(1024))		:i $ChangeGlobalInteger$${			StructQBKey global_name = kick_index			StructInt new_value = 0		}$			:i endif	:i $Extended_Checksum$ = $null$	:i $getPlayerChecksum$$player$ = %GLOBAL%$player$$checksum$ = $part$	:i %GLOBAL%$part$ = %GLOBAL%$checksum_value$	:i if (%GLOBAL%$part$ = $Bass$)		:i %GLOBAL%$start_color1$ = :a{%i(255)%i(128)%i(255)%i(255):a}		:i %GLOBAL%$end_color1$ = :a{%i(128)%i(0)%i(128)%i(0):a}		:i %GLOBAL%$start_color2$ = :a{%i(255)%i(128)%i(255)%i(255):a}		:i %GLOBAL%$end_color2$ = :a{%i(128)%i(0)%i(128)%i(0):a}	:i else 		:i %GLOBAL%$start_color1$ = :a{%i(255)%i(128)%i(0)%i(255):a}		:i %GLOBAL%$end_color1$ = :a{%i(0)%i(0)%i(0)%i(0):a}		:i %GLOBAL%$start_color2$ = :a{%i(255)%i(200)%i(128)%i(255):a}		:i %GLOBAL%$end_color2$ = :a{%i(255)%i(100)%i(0)%i(0):a}	:i endif	:i $getPlayerInteger$$player$ = %GLOBAL%$player$$checksum$ = $star_power_used$	:i %GLOBAL%$star_power_used$ = %GLOBAL%$integer_value$	:i if (%GLOBAL%$star_power_used$ = %i(1))		:i %GLOBAL%$start_color1$ = :a{%i(200)%i(255)%i(255)%i(255):a}		:i %GLOBAL%$end_color1$ = :a{%i(0)%i(128)%i(128)%i(0):a}		:i %GLOBAL%$start_color2$ = :a{%i(200)%i(255)%i(255)%i(255):a}		:i %GLOBAL%$end_color2$ = :a{%i(0)%i(128)%i(128)%i(0):a}	:i endif	:i %GLOBAL%$highway_info$ = (~$highway_pos_table$:a{%GLOBAL%$player$%i(4294967295):a})	:i $x_scale$ = %f(0.0)	:i %GLOBAL%$x_scale$ = ((%GLOBAL%$highway_info$->$highway_top_width$ + (%GLOBAL%$highway_info$->$highway_top_width$ * %GLOBAL%$highway_info$->$widthoffsetfactor$)) / %f(32.0))	:i $extendcrcwithinteger$$checksum$ = $highway_containerp$$integer$ = %GLOBAL%$player$	:i $container_id$ = %GLOBAL%$Extended_Checksum$	:i $getnowbarscale$$player$ = %GLOBAL%$player$	:i %GLOBAL%$x_scale$ = (%GLOBAL%$x_scale$ * %GLOBAL%$nowbar_x_scale$)	:i $WaitOneGameFrame$	:i %GLOBAL%$particle_pos$ = %vec2(0.0,630.0)	:i $extendcrcwithinteger$$checksum$ = $kick_particlep$$integer$ = %GLOBAL%$player$	:i $extendcrcwithinteger$$checksum$ = %GLOBAL%$Extended_Checksum$$integer$ = ~$kick_index$	:i $fx_id$ = %GLOBAL%$Extended_Checksum$	:i %GLOBAL%$start_scale$ = (%GLOBAL%$x_scale$ * %vec2(1.0,0.0) + %vec2(0.0,0.25))	:i %GLOBAL%$end_scale$ = (%GLOBAL%$x_scale$ * %vec2(1.875,0.0) + %vec2(0.0,0.5))	:i $create2dparticlesystem$:s{		:i $id$ = %GLOBAL%$fx_id$		:i $Pos$ = %GLOBAL%$particle_pos$		:i $z_priority$ = %f(7.9000000)		:i $material$ = $mat_particle_kickhit_ring01$		:i $parent$ = %GLOBAL%$container_id$		:i $start_color$ = %GLOBAL%$start_color1$		:i $end_color$ = %GLOBAL%$end_color1$		:i $start_scale$ = %GLOBAL%$start_scale$		:i $end_scale$ = %GLOBAL%$end_scale$		:i $start_angle_spread$ = %i(0)		:i $min_rotation$ = %i(0)		:i $max_rotation$ = %i(0)		:i $emit_start_radius$ = %f(0.0)		:i $emit_radius$ = %f(1.0)		:i $emit_rate$ = %f(0.1000000)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %i(0)		:i $velocity$ = %f(0.25)		:i $friction$ = %vec2(0.0,10.0)		:i $time$ = %f(0.2000000)	:i :s}	:i $getPlayerChecksum$$player$ = %GLOBAL%$player$$checksum$ = $part$	:i %GLOBAL%$part$ = %GLOBAL%$checksum_value$	:i if (%GLOBAL%$part$ = $drum$)		:i $getPlayerInteger$$player$ = %GLOBAL%$player$$checksum$ = $four_lane_highway$		:i %GLOBAL%$four_lane_highway$ = %GLOBAL%$integer_value$	:i else 		:i %GLOBAL%$four_lane_highway$ = %i(0)	:i endif	:i if (%GLOBAL%$four_lane_highway$ = %i(1))		:i $extendcrcwithinteger$$checksum$ = $kick_particle2p$$integer$ = %GLOBAL%$player$		:i $extendcrcwithinteger$$checksum$ = %GLOBAL%$Extended_Checksum$$integer$ = ~$kick_index$		:i $fx2_id$ = %GLOBAL%$Extended_Checksum$		:i %GLOBAL%$start_scale$ = (%GLOBAL%$x_scale$ * %vec2(0.5,0.0) + %vec2(0.0,0.15000000596046448))		:i %GLOBAL%$end_scale$ = (%GLOBAL%$x_scale$ * %vec2(0.5,0.0) + %vec2(0.0,0.5))		:i $create2dparticlesystem$:s{			:i $id$ = %GLOBAL%$fx2_id$			:i $Pos$ = %GLOBAL%$particle_pos$			:i $z_priority$ = %f(8.0)			:i $material$ = $mat_particle_kickhit_4l$			:i $parent$ = %GLOBAL%$container_id$			:i $start_color$ = %GLOBAL%$start_color2$			:i $end_color$ = %GLOBAL%$end_color2$			:i $start_scale$ = %GLOBAL%$start_scale$			:i $end_scale$ = %GLOBAL%$end_scale$			:i $start_angle_spread$ = %i(0)			:i $min_rotation$ = %i(0)			:i $max_rotation$ = %i(0)			:i $emit_start_radius$ = %f(0.0)			:i $emit_radius$ = %f(1.0)			:i $emit_rate$ = %f(0.1000000)			:i $emit_dir$ = %f(0.0)			:i $emit_spread$ = %i(0)			:i $velocity$ = %f(0.25)			:i $friction$ = %vec2(0.0,0.0)			:i $time$ = %f(0.2000000)		:i :s}		:i $waitgameframes$${StructInt num_game_frames = 11}$		:i $fastdestroy2dparticlesystem$$id$ = %GLOBAL%$fx_id$$kill_when_empty$ = %GLOBAL%$kill_when_empty$		:i $fastdestroy2dparticlesystem$$id$ = %GLOBAL%$fx2_id$$kill_when_empty$ = %GLOBAL%$kill_when_empty$	:i else 		:i $extendcrcwithinteger$$checksum$ = $kick_particle2p$$integer$ = %GLOBAL%$player$		:i $extendcrcwithinteger$$checksum$ = %GLOBAL%$Extended_Checksum$$integer$ = ~$kick_index$		:i $fx2_id$ = %GLOBAL%$Extended_Checksum$		:i %GLOBAL%$start_scale$ = (%GLOBAL%$x_scale$ * %vec2(0.5,0.0) + %vec2(0.0,0.15000000596046448))		:i %GLOBAL%$end_scale$ = (%GLOBAL%$x_scale$ * %vec2(0.5,0.0) + %vec2(0.0,0.5))		:i $create2dparticlesystem$:s{			:i $id$ = %GLOBAL%$fx2_id$			:i $Pos$ = %GLOBAL%$particle_pos$			:i $z_priority$ = %f(8.0)			:i $material$ = $mat_particle_kickhit_5l$			:i $parent$ = %GLOBAL%$container_id$			:i $start_color$ = %GLOBAL%$start_color2$			:i $end_color$ = %GLOBAL%$end_color2$			:i $start_scale$ = %GLOBAL%$start_scale$			:i $end_scale$ = %GLOBAL%$end_scale$			:i $start_angle_spread$ = %i(0)			:i $min_rotation$ = %i(0)			:i $max_rotation$ = %i(0)			:i $emit_start_radius$ = %f(0.0)			:i $emit_radius$ = %f(1.0)			:i $emit_rate$ = %f(0.1000000)			:i $emit_dir$ = %f(0.0)			:i $emit_spread$ = %i(0)			:i $velocity$ = %f(0.25)			:i $friction$ = %vec2(0.0,0.0)			:i $time$ = %f(0.2000000)		:i :s}		:i $waitgameframes$${StructInt num_game_frames = 11}$		:i $fastdestroy2dparticlesystem$$id$ = %GLOBAL%$fx_id$$kill_when_empty$ = %GLOBAL%$kill_when_empty$		:i $fastdestroy2dparticlesystem$$id$ = %GLOBAL%$fx2_id$$kill_when_empty$ = %GLOBAL%$kill_when_empty$	:i endif	:i endfunction]Script GuitarEvent_Open_Note_Sustain ef85d265 [	${		StructInt player = 1		StructInt kill_when_empty = 0	}$		:i $getPlayerChecksum$$player$ = %GLOBAL%$player$$checksum$ = $part$	:i %GLOBAL%$part$ = %GLOBAL%$checksum_value$	:i if (%GLOBAL%$part$ !== $Bass$)		:i return 	:i endif	:i %GLOBAL%$highway_info$ = (~$highway_pos_table$:a{%GLOBAL%$player$%i(4294967295):a})	:i $x_scale$ = %f(0.0)	:i %GLOBAL%$x_scale$ = ((%GLOBAL%$highway_info$->$highway_top_width$ + (%GLOBAL%$highway_info$->$highway_top_width$ * %GLOBAL%$highway_info$->$widthoffsetfactor$)) / %f(32.0))	:i $FormatText$$checksumname$ = $container_id$%s("nowbar_container_p%p")$p$ = %GLOBAL%$player$	:i $getnowbarscale$$player$ = %GLOBAL%$player$	:i %GLOBAL%$x_scale$ = (%GLOBAL%$x_scale$ * %GLOBAL%$nowbar_x_scale$)	:i $getplayerinfo$%GLOBAL%$player$$star_power_used$	:i if (%GLOBAL%$star_power_used$ = %i(1))		:i %GLOBAL%$start_color$ = :a{%i(128)%i(255)%i(255)%i(255):a}		:i %GLOBAL%$end_color$ = :a{%i(0)%i(128)%i(128)%i(0):a}	:i else 		:i %GLOBAL%$start_color$ = :a{%i(255)%i(128)%i(255)%i(255):a}		:i %GLOBAL%$end_color$ = :a{%i(255)%i(0)%i(255)%i(0):a}	:i endif	:i %GLOBAL%$particle_pos$ = %vec2(0.0,630.0)	:i $FormatText$$checksumname$ = $Open_Note_Sustain_FX_Cont01$%s("Open_Note_Sustain_FX_Cont_p%p")$p$ = %GLOBAL%$player$	:i $CreateScreenElement$:s{		:i $type$ = $ContainerElement$		:i $parent$ = %GLOBAL%$container_id$		:i $id$ = %GLOBAL%$Open_Note_Sustain_FX_Cont01$		:i $alpha$ = %i(1)		:i $Pos$ = %GLOBAL%$particle_pos$		:i $Scale$ = %vec2(1.0,1.0)		:i $rot_angle$ = %i(0)		:i $z_priority$ = %i(0)		:i $just$ = :a{$center$,$center$:a}		:i $pos_anchor$ = :a{$center$,$center$:a}		:i $preserve_local_orientation$ = $true$	:i :s}	:i %GLOBAL%$start_scale$ = (%GLOBAL%$x_scale$ * %vec2(0.5,0.0) + %vec2(0.0,0.15000000596046448))	:i %GLOBAL%$end_scale$ = (%GLOBAL%$x_scale$ * %vec2(0.5,0.0) + %vec2(0.0,0.5))	:i $create2dparticlesystem$:s{		:i $id$ = %GLOBAL%$fx1_id$		:i $Pos$ = %vec2(0.0,0.0)		:i $z_priority$ = %f(8.0)		:i $material$ = $mat_particle_kickhit_5l$		:i $parent$ = %GLOBAL%$Open_Note_Sustain_FX_Cont01$		:i $start_color$ = %GLOBAL%$start_color$		:i $end_color$ = %GLOBAL%$end_color$		:i $start_scale$ = %GLOBAL%$start_scale$		:i $end_scale$ = %GLOBAL%$end_scale$		:i $start_angle_spread$ = %i(0)		:i $min_rotation$ = %i(0)		:i $max_rotation$ = %i(0)		:i $emit_start_radius$ = %f(0.0)		:i $emit_radius$ = %f(1.0)		:i $emit_rate$ = %f(0.1000000)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %i(0)		:i $velocity$ = %f(0.25)		:i $friction$ = %vec2(0.0,0.0)		:i $time$ = %f(0.2000000)	:i :s}	:i endfunction]Script Cleanup_Open_Note_Sustain_FX 0x3eaf6b27 [	:i $FormatText$$checksumname$ = $Open_Note_Sustain_FX_Cont01$%s("Open_Note_Sustain_FX_Cont_p%p")$p$ = %GLOBAL%$player$	:i $DestroyScreenElement$$id$ = %GLOBAL%$Open_Note_Sustain_FX_Cont01$	:i endfunction]Script GuitarEvent_Hit_Open_Note 0x7fefae29 [	:i $guitarevent_kick_drum_hit_note$$player$ = %GLOBAL%$player$	:i endfunction]Script GuitarEvent_Hit_Beginner_Note 0x7fefae29 [	:i $guitarevent_kick_drum_hit_note$$player$ = %GLOBAL%$player$	:i endfunction]Script GuitarEvent_GigStarted ffffffff [	:i endfunction]Script GuitarEvent_GigFailed ffffffff [	:i endfunction]Script GuitarEvent_GigWon ffffffff [	:i endfunction]Script GuitarEvent_GigQuit ffffffff [	:i endfunction]Script PlayerSetVolume 0x314846a6 [	:i if $playerinfoequals$%GLOBAL%$player$$part$ = $drum$		:i if $GotParam$${StructQBKey include_drums}$			:i $SetAllDrumStates$$player$ = %GLOBAL%$player$$volume$ = %GLOBAL%$volume$		:i endif	:i else 		:i $SetPlayerInfo$%GLOBAL%$player$$guitar_volume$ = %GLOBAL%$volume$		:i $UpdateGuitarVolume$	:i endif	:i endfunction]Script PlayerGetVolume 0x62f7a918 [	:i if $playerinfoequals$%GLOBAL%$player$$part$ = $drum$		:i if $GotParam$${StructQBKey drum}$			:i switch %GLOBAL%$drum$				:i case %i(1)					:i $getplayerinfo$%GLOBAL%$player$$drum_volume1$					:i return $volume$ = %GLOBAL%$drum_volume1$					:i endcase				case %i(2)					:i $getplayerinfo$%GLOBAL%$player$$drum_volume2$					:i return $volume$ = %GLOBAL%$drum_volume2$					:i endcase				case %i(3)					:i $getplayerinfo$%GLOBAL%$player$$drum_volume3$					:i return $volume$ = %GLOBAL%$drum_volume3$					:i endcase				case %i(4)					:i $getplayerinfo$%GLOBAL%$player$$drum_volume4$					:i return $volume$ = %GLOBAL%$drum_volume4$			:i end_switch		:i endif	:i endif	:i $getplayerinfo$%GLOBAL%$player$$guitar_volume$	:i return $volume$ = %GLOBAL%$guitar_volume$	:i endfunction]Script Create_MushroomCloudHand 0x913c4a4b [	${StructQBStringQs text = 0x6f6d143d}$	:i $KillSpawnedScript$${StructQBKey name = create_exploding_text}$	:i $destroy_all_exploding_text$	:i $spawnscriptnow$$create_exploding_text$$params$ = :s{$text$ = %GLOBAL%$text$:s}	:i endfunction]Script hot_start_achieved d4f673f3 [	${StructInt band = 0}$	:i return 	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ = $practice$)		:i return 	:i endif	:i $GetNumPlayersInGame$	:i if (%GLOBAL%$player$ = %i(1))		:i $printf$${			StructQBKey channel = sfx			StructQBStringQs 0x3f8e0b79		}$				:i if $isSinglePlayerGame$			:i $Pos$ = %vec2(640.0,211.0)			:i %GLOBAL%$base_scale$ = %f(1.0)		:i elseif (~$game_mode$ = $career$ OR (~$game_mode$ = $quickplay$ AND %GLOBAL%$num_players$ = %i(2)))			:i $Pos$ = %vec2(640.0,170.0)			:i %GLOBAL%$base_scale$ = %f(1.0)		:i else 			:i %GLOBAL%$s$ = %f(0.3500000)			:i $Pos$ = %vec2(415.0,170.0)		:i endif	:i else 		:i $printf$${			StructQBKey channel = sfx			StructQBStringQs a30807c8		}$				:i if (~$game_mode$ = $career$ OR (~$game_mode$ = $quickplay$ AND %GLOBAL%$num_players$ = %i(2)))			:i $Pos$ = %vec2(640.0,170.0)			:i %GLOBAL%$base_scale$ = %f(1.0)		:i else 			:i %GLOBAL%$s$ = %f(0.3500000)			:i $Pos$ = %vec2(865.0,170.0)		:i endif	:i endif	:i if NOT $GameMode_IsBandScoring$		:i $getplayerinfo$%GLOBAL%$player$$part$		:i if (%GLOBAL%$part$ = $Vocals$)			:i $vocals_message_delayed$:s{$player$ = %GLOBAL%$player$$text$ = ^[09a07a71]^$rgba$ = :a{%i(255)%i(172)%i(64)%i(255):a}:s}		:i else 			:i $hud_create_message$$player$ = %GLOBAL%$player$$text$ = ^[09a07a71]^		:i endif	:i elseif (%GLOBAL%$band$ = %i(1))		:i $array$ = :a{:a}		:i $GetNumPlayersInGame$		:i if (%GLOBAL%$num_players$ > %i(0))			:i $GetFirstPlayer$			:i while 			:i $AddArrayElement$$array$ = %GLOBAL%$array$$element$ = %GLOBAL%$player$			:i $GetNextPlayer$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_players$		:i endif		:i $GetArraySize$$array$ = %GLOBAL%$array$		:i if (%GLOBAL%$array_size$ > %i(0))			:i $hud_create_message$$band$$text$ = ^[09a07a71]^$style_script$ = $hud_message_band_streak_style$$style_script_params$ = :s{$players$ = %GLOBAL%$array$:s}		:i endif	:i endif	:i endfunction]Script hud_animate_star_meter_flames 0x53269e91 [	:i $spawnscriptnow$${StructQBKey son_of_HUD_animate_star_meter_flames}$	:i endfunction]Script son_of_HUD_animate_star_meter_flames 0x4d679e25 [	:i $SetSpawnInstanceLimits$${		StructInt max = 1		StructQBKey management = ignore_spawn_request	}$		:i $wait$${		StructFloat 0.30000001192092896		StructQBKey seconds	}$		:i if NOT $ScreenElementExists$${StructQBKey id = hud_star_meter_id}$		:i return 	:i endif	:i $id$ = $hud_star_meter_id$	:i if NOT %GLOBAL%$id$.$desc_resolvealias$$name$ = $alias_Star_Earn_FX$$param$ = $Parent_Cont$		:i return 	:i endif	:i $colorin$ = :a{%i(255)%i(200)%i(0)%i(255):a}	:i $colorout$ = :a{%i(0)%i(0)%i(0)%i(255):a}	:i $DestroyScreenElement$${StructQBKey id = Star_Meter_Counter_glow01}$	:i $DestroyScreenElement$${StructQBKey id = Star_Meter_Counter_glow02}$	:i if NOT $ScreenElementExists$$id$ = %GLOBAL%$Parent_Cont$		:i return 	:i endif	:i $CreateScreenElement$:s{		:i $type$ = $SpriteElement$		:i $id$ = $Star_Meter_Counter_glow01$		:i $parent$ = %GLOBAL%$Parent_Cont$		:i $material$ = $Mat_Meter_Wibble_Glow$		:i $rgba$ = :a{%i(255)%i(200)%i(64)%i(255):a}		:i $alpha$ = %i(0)		:i $dims$ = %vec2(228.0,228.0)		:i $Pos$ = %vec2(0.0,0.0)		:i $Scale$ = %vec2(1.0,1.0)		:i $rot_angle$ = %i(0)		:i $just$ = :a{$center$$center$:a}		:i $pos_anchor$ = :a{$center$$center$:a}		:i $z_priority$ = %i(12)	:i :s}	:i $CreateScreenElement$:s{		:i $type$ = $SpriteElement$		:i $id$ = $Star_Meter_Counter_glow02$		:i $parent$ = %GLOBAL%$Parent_Cont$		:i $material$ = $Mat_Meter_Wibble_Glow$		:i $rgba$ = :a{%i(255)%i(200)%i(64)%i(255):a}		:i $alpha$ = %i(0)		:i $dims$ = %vec2(128.0,128.0)		:i $Pos$ = %vec2(0.0,0.0)		:i $Scale$ = %vec2(1.0,1.0)		:i $rot_angle$ = %i(0)		:i $just$ = :a{$center$$center$:a}		:i $pos_anchor$ = :a{$center$$center$:a}		:i $z_priority$ = %i(13)	:i :s}	:i $create2dparticlesystem$:s{		:i $Pos$ = %vec2(0.0,0.0)		:i $z_priority$ = %i(12)		:i $material$ = $sys_Particle_lnzflare02_sys_Particle_lnzflare02$		:i $parent$ = %GLOBAL%$Parent_Cont$		:i $start_color$ = :a{%i(255)%i(255)%i(128)%i(255):a}		:i $end_color$ = :a{%i(255)%i(128)%i(0)%i(0):a}		:i $start_scale$ = %vec2(0.25,0.25)		:i $end_scale$ = %vec2(1.0,1.0)		:i $start_angle_spread$ = %f(0.0)		:i $min_rotation$ = %i(4294967116)		:i $max_rotation$ = %i(360)		:i $emit_start_radius$ = %i(6)		:i $emit_radius$ = %i(6)		:i $emit_rate$ = %f(0.0015099)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %f(360.0)		:i $velocity$ = %f(12.100000)		:i $friction$ = %vec2(0.0,24.0)		:i $time$ = %f(0.1000000)	:i :s}	:i %GLOBAL%$RP_FX01$ = %GLOBAL%$id$	:i $create2dparticlesystem$:s{		:i $parent$ = %GLOBAL%$Parent_Cont$		:i $Pos$ = %vec2(0.0,0.0)		:i $z_priority$ = %f(11.0)		:i $material$ = $sys_Particle_Spark01_sys_Particle_Spark01$		:i $start_color$ = %GLOBAL%$colorin$		:i $end_color$ = :a{%i(255)%i(255)%i(255)%i(0):a}		:i $start_scale$ = %vec2(0.5,0.5)		:i $end_scale$ = %vec2(1.5,1.5)		:i $start_angle_spread$ = %f(360.0)		:i $min_rotation$ = %i(0)		:i $max_rotation$ = %i(360)		:i $emit_start_radius$ = %i(10)		:i $emit_radius$ = %f(0.5)		:i $emit_rate$ = %f(0.0049999)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %f(360.0)		:i $velocity$ = %i(4)		:i $friction$ = %vec2(-3.009999990463257,12.0)		:i $time$ = %f(0.25)	:i :s}	:i %GLOBAL%$RP_FX02$ = %GLOBAL%$id$	:i $create2dparticlesystem$:s{		:i $parent$ = %GLOBAL%$Parent_Cont$		:i $Pos$ = %vec2(0.0,0.0)		:i $z_priority$ = %f(-1.0)		:i $material$ = $sys_Particle_Spark01_sys_Particle_Spark01$		:i $start_color$ = :a{%i(255)%i(255)%i(255)%i(255):a}		:i $end_color$ = %GLOBAL%$colorout$		:i $start_scale$ = %vec2(1.5,1.5)		:i $end_scale$ = %vec2(5.5,0.15000000596046448)		:i $start_angle_spread$ = %f(360.0)		:i $min_rotation$ = %i(0)		:i $max_rotation$ = %i(360)		:i $emit_start_radius$ = %i(10)		:i $emit_radius$ = %f(0.5)		:i $emit_rate$ = %f(0.0099999)		:i $emit_dir$ = %f(0.0)		:i $emit_spread$ = %f(360.0)		:i $velocity$ = %i(4)		:i $friction$ = %vec2(0.0,0.0)		:i $time$ = %f(0.1500000)	:i :s}	:i %GLOBAL%$RP_FX03$ = %GLOBAL%$id$	:i $wait$${		StructFloat 0.10000000149011612		StructQBKey second	}$		:i if NOT (~$calibrate_lag_enabled$ = %i(1))		:i $SoundEvent$${StructQBKey event = Audio_Powers_Star_Acquire}$	:i endif	:i $destroy2dparticlesystem$$kill_when_empty$$id$ = %GLOBAL%$RP_FX01$	:i if $ScreenElementExists$${StructQBKey id = Star_Meter_Counter_glow01}$		:i $Star_Meter_Counter_glow01$.$se_setprops$${			StructInt alpha = 1			StructFloat time = 0.10000000149011612		}$				:i $Star_Meter_Counter_glow02$.$se_setprops$${			StructInt alpha = 1			StructFloat time = 0.10000000149011612		}$			:i endif	:i $wait$${		StructFloat 0.10000000149011612		StructQBKey second	}$		:i if $ScreenElementExists$${StructQBKey id = Star_Meter_Counter_glow01}$		:i $Star_Meter_Counter_glow01$.$se_setprops$${			StructInt alpha = 0			StructFloat time = 0.30000001192092896		}$				:i $Star_Meter_Counter_glow02$.$se_setprops$${			StructInt alpha = 0			StructFloat time = 0.30000001192092896		}$			:i endif	:i $wait$${		StructFloat 0.30000001192092896		StructQBKey seconds	}$		:i $DestroyScreenElement$${StructQBKey id = Star_Meter_Counter_glow01}$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$RP_FX02$$kill_when_empty$	:i $destroy2dparticlesystem$$id$ = %GLOBAL%$RP_FX03$$kill_when_empty$	:i endfunction]