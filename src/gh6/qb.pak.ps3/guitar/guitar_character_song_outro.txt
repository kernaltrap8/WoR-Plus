Unknown [1c0000000000000000001bec0000000000000000]SectionInteger g_song_outro_anims_current_player 1SectionFloat g_song_outro_anims_initial_speed 1.00000SectionInteger g_song_outro_anims_playing 0Script song_outro_anims_add_helper ffffffff [	:i endfunction]Script song_outro_anims_showing efac75d4 [	:i %GLOBAL%$start_skip_id$ = $song_outro_anims_container$	:i if $ScreenElementExists$$id$ = %GLOBAL%$start_skip_id$		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script play_song_outro_anims 0x80c9e358 [	:i $SetPakManCurrent$${		StructQBKey map = ui_paks		StructString pakname = "song_breakdown"	}$		:i $change$${StructFloat g_song_outro_anims_initial_speed = 1.00}$	:i $change$${StructInt g_song_outro_anims_current_player = 1}$	:i $change$${StructInt g_song_outro_anims_playing = 1}$	:i $gamemode_gettype$	:i $used_anim_camera_pairs$ = :a{:a}	:i $CreateScreenElement$${		StructQBKey parent = root_window		StructQBKey id = song_outro_anims_container		StructQBKey type = ContainerElement		StructInt alpha = 1		StructArray pos_anchor		{			ArrayQBKey			[				left				top			]		}		StructArray just		{			ArrayQBKey			[				left				top			]		}		StructFloatX2 Pos		{			Floats [0.00000, 0.00000]		}		StructInt z_priority = 400		StructFloatX2 dims		{			Floats [100.000, 100.000]		}	}$		:i $spawnscriptnow$${StructQBKey song_outro_anims_add_helper}$	:i $song_outro_determine_camera_cut_order$	:i $GetArraySize$%GLOBAL%$order$	:i $GetNumPlayersInGame$${StructQBKey on_screen}$	:i $order_idx$ = %i(0)	:i while 	:i $getplayerinfo$(%GLOBAL%$order$:a{%GLOBAL%$order_idx$:a}->$player_num$)$part$	:i $node_part$ = %GLOBAL%$part$	:i while 	:i $song_outro_get_random_animation_for_part$$part$ = %GLOBAL%$part$	:i if NOT (($GotParam$$anim$) OR ($GotParam$$anim_index$))		:i $scriptassert$${StructQBStringQs 0x4ecdbc6c}$	:i endif	:i $song_outro_get_random_camera_for_anim$$part$ = %GLOBAL%$part$$anim_index$ = %GLOBAL%$anim_index$	:i if NOT (($GotParam$$cam$) OR ($GotParam$$cam_index$) OR ($GotParam$$cam_initial_speed$))		:i $scriptassert$${StructQBStringQs 0x0f075f55}$	:i endif	:i $song_outro_anims_check_if_used$$anim_cam_pair_array$ = %GLOBAL%$used_anim_camera_pairs$$anim_index$ = %GLOBAL%$anim_index$$cam_index$ = %GLOBAL%$cam_index$$part$ = %GLOBAL%$part$	:i if (%GLOBAL%$is_used$ = %i(0))		:i if (%GLOBAL%$part$ = $Bass$)			:i %GLOBAL%$part$ = $guitar$		:i endif		:i $AddArrayElement$$array$ = %GLOBAL%$used_anim_camera_pairs$$element$ = :s{$anim$ = %GLOBAL%$anim_index$$cam$ = %GLOBAL%$cam_index$$part$ = %GLOBAL%$part$:s}		:i %GLOBAL%$used_anim_camera_pairs$ = %GLOBAL%$array$		:i $printstruct$%GLOBAL%$anim_camera_pairs$		:i continue	:i endif	:i loop_to 	:i if (%GLOBAL%$type$ = $career$)		:i $getplayerinfo$(%GLOBAL%$order$:a{%GLOBAL%$order_idx$:a}->$player_num$)$part$		:i $persistent_band_get_musician_from_part$$part$ = %GLOBAL%$part$		:i %GLOBAL%$band_member$ = (~$g_persistent_band_data$:a{%GLOBAL%$index$:a}->$object$)	:i else 		:i $getplayerinfo$(%GLOBAL%$order$:a{%GLOBAL%$order_idx$:a}->$player_num$)$band_member$	:i endif	:i if $CompositeObjectExists$$name$ = %GLOBAL%$band_member$		:i $extendcrc$%GLOBAL%$band_member$%s("_Info")$out$ = $info_struct$		:i $Band_MoveToStartNode$$name$ = %GLOBAL%$band_member$		:i $Band_ChangeFacialAnims$$name$ = %GLOBAL%$band_member$		:i if (%GLOBAL%$anim$ !== $None$)			:i $spawnscriptnow$${StructQBKey audio_ui_gameplay_play_camera_win_sfx}$			:i $BandManager_ChangeIK$$name$ = %GLOBAL%$band_member$$enabled$ = $false$			:i $Band_PlaysimpleAnim$:s{$name$ = %GLOBAL%$band_member$$anim$ = %GLOBAL%$anim$$blendduration$ = %f(0.3000000):s}			:i %GLOBAL%$band_member$.$Obj_Teleport$			:i $GetPakManCurrent$${StructQBKey map = zones}$			:i if (%GLOBAL%$pak$ = $z_credits$)				:i $node_names$ = :s{					:i $guitar$ = %s("TRG_Geo_Camera_Performance_GUIT01")					:i $Bass$ = %s("TRG_Geo_Camera_Performance_BASS01")					:i $drum$ = %s("TRG_Geo_Camera_Performance_DRUM01")					:i $Vocals$ = %s("TRG_Geo_Camera_Performance_SING01")				:i :s}				:i $suffix$ = (%s("_") + (%GLOBAL%$node_names$->%GLOBAL%$node_part$))				:i $AppendSuffixToChecksum$$base$ = %GLOBAL%$pak$$suffixstring$ = %GLOBAL%$suffix$				:i $moment_cam_lock_target_01$.$obj_locktoobject$$objectname$ = %GLOBAL%$appended_id$			:i else 				:i $GetStartNodeID$$member$ = %GLOBAL%$band_member$				:i $GetWaypointPos$$name$ = %GLOBAL%$waypoint_id$				:i $GetWaypointQuat$$name$ = %GLOBAL%$waypoint_id$				:i $moment_cam_lock_target_01$.$obj_locktoobject$${StructQBKey Off}$				:i $moment_cam_lock_target_01$.$obj_setposition$$position$ = %GLOBAL%$Pos$				:i $moment_cam_lock_target_01$.$obj_setorientation$$Quat$ = %GLOBAL%$Quat$			:i endif			:i $change$$g_song_outro_anims_current_player$ = (%GLOBAL%$order$:a{%GLOBAL%$order_idx$:a}->$player_num$)			:i $chain_part$ = $slave$			:i $band_setikchain$$name$ = %GLOBAL%$band_member$$chain$ = %GLOBAL%$chain_part$			:i $change$$g_song_outro_anims_initial_speed$ = %GLOBAL%$cam_initial_speed$			:i $setslomo$%GLOBAL%$cam_initial_speed$			:i $SpawnScript$${StructQBKey SongWon_FX}$			:i if $song_outro_check_career_with_non_traditional_band$				:i $CameraCuts_SetArrayPrefix$${					StructString prefix = "cameras_no_flyby"					StructQBKey changenow				}$							:i endif			:i $MomentCamera_PlayAnim_Spawned$$name$ = $moment_cam_lock_target_01$$anim$ = %GLOBAL%$cam$$TempoAnim$ = %GLOBAL%$cam$$Cycle$ = %i(0)$start$ = %i(0)$blendduration$ = %i(0)		:i endif	:i endif	:i %GLOBAL%$order_idx$ = (%GLOBAL%$order_idx$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i $song_outro_anims_skip_anims$${StructQBKey start_skip_id = song_outro_anims_container}$	:i endfunction]Script song_outro_check_career_with_non_traditional_band cea47f89 [	:i $gamemode_gettype$	:i if (%GLOBAL%$type$ !== $career$)		:i $printf$${StructQBStringQs bace9b88}$		:i return ${StructQBKey false}$	:i endif	:i $gamemode_gettype$	:i $guitar$ = %i(0)	:i $Bass$ = %i(0)	:i $drum$ = %i(0)	:i $Vocals$ = %i(0)	:i $GetNumPlayersInGame$${StructQBKey on_screen}$	:i if (%GLOBAL%$num_players_shown$ > %i(0))		:i $GetFirstPlayer$${StructQBKey on_screen}$		:i while 		:i $getplayerinfo$%GLOBAL%$player$$part$		:i switch %GLOBAL%$part$			:i case $guitar$				:i $guitar$ = (%GLOBAL%$guitar$ + %i(1))				:i endcase			case $Bass$				:i $Bass$ = (%GLOBAL%$Bass$ + %i(1))				:i endcase			case $drum$				:i $drum$ = (%GLOBAL%$drum$ + %i(1))				:i endcase			case $Vocals$				:i $Vocals$ = (%GLOBAL%$Vocals$ + %i(1))				:i endcase			default 				:i $scriptassert$${StructQBStringQs 0x41a94b56}$		:i end_switch		:i if (%GLOBAL%$guitar$ > %i(1) OR 			:i %GLOBAL%$Bass$ > %i(1) OR 			:i %GLOBAL%$drum$ > %i(1) OR 			:i %GLOBAL%$Vocals$ > %i(1))			:i $printf$${StructQBStringQs 0x1fe5697f}$			:i return ${StructQBKey true}$		:i endif		:i $GetNextPlayer$$on_screen$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players_shown$	:i endif	:i $printf$${StructQBStringQs 0x91e3c84b}$	:i return ${StructQBKey false}$	:i endfunction]Script song_outro_get_random_animation_for_part f3b78add [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part			]		}		StructQBKey all	}$		:i if (%GLOBAL%$part$ = $Bass$)		:i %GLOBAL%$part$ = $guitar$	:i endif	:i $GetArraySize$((~$song_outro_anims$)->%GLOBAL%$part$)	:i if (%GLOBAL%$array_size$ > %i(0))		:i $getrandomvalue$$a$ = %i(0)$b$ = (%GLOBAL%$array_size$ - %i(1))$name$ = $i$$integer$		:i return :s{			:i $anim$ = (((~$song_outro_anims$)->%GLOBAL%$part$):a{%GLOBAL%$i$:a}->$anim$)			:i $anim_index$ = %GLOBAL%$i$		:i :s}	:i endif	:i endfunction]Script song_outro_get_random_camera_for_anim 0x200e0726 [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				part				anim_index			]		}		StructQBKey all	}$		:i if (%GLOBAL%$part$ = $Bass$)		:i %GLOBAL%$part$ = $guitar$	:i endif	:i $GetArraySize$(((~$song_outro_anims$)->%GLOBAL%$part$):a{%GLOBAL%$anim_index$:a}->$cameras$)	:i if (%GLOBAL%$array_size$ > %i(0))		:i $getrandomvalue$$a$ = %i(0)$b$ = (%GLOBAL%$array_size$ - %i(1))$name$ = $i$$integer$		:i return :s{			:i $cam$ = (((((~$song_outro_anims$)->%GLOBAL%$part$):a{%GLOBAL%$anim_index$:a}->$cameras$):a{%GLOBAL%$i$:a})->$camera$)			:i $cam_initial_speed$ = (((((~$song_outro_anims$)->%GLOBAL%$part$):a{%GLOBAL%$anim_index$:a}->$cameras$):a{%GLOBAL%$i$:a})->$initial_speed$)			:i $cam_index$ = %GLOBAL%$i$		:i :s}	:i endif	:i endfunction]Script song_outro_anims_check_if_used 0x4e4a799c [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				anim_cam_pair_array				anim_index				cam_index				part			]		}	}$		:i $GetArraySize$%GLOBAL%$anim_cam_pair_array$	:i if (%GLOBAL%$part$ = $Bass$)		:i %GLOBAL%$part$ = $guitar$	:i endif	:i if (%GLOBAL%$array_size$ > %i(0))		:i $i$ = %i(0)		:i while 		:i if (%GLOBAL%$anim_cam_pair_array$:a{%GLOBAL%$i$:a}->$part$ = %GLOBAL%$part$)			:i if ((%GLOBAL%$anim_cam_pair_array$:a{%GLOBAL%$i$:a}->$anim$ = %GLOBAL%$anim_index$))				:i return ${StructInt is_used = 1}$			:i endif		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return ${StructInt is_used = 0}$	:i endfunction]Script song_outro_determine_camera_cut_order 0x6446be4e [	:i $gamemode_gettype$	:i $player_order$ = :a{:a}	:i if ((%GLOBAL%$type$ = $career$) OR (%GLOBAL%$type$ = $quickplay$))		:i $GetNumPlayersInGame$		:i if (%GLOBAL%$num_players$ > %i(0))			:i $GetFirstPlayer$			:i while 			:i $get_percent_notes_hit$$player_index$ = %GLOBAL%$player$$use_player_info$ = %i(0)			:i $AddArrayElement$:s{				:i $array$ = %GLOBAL%$player_order$				:i $element$ = :s{					:i $player_num$ = %GLOBAL%$player$					:i $percent_notes_hit$ = %GLOBAL%$percent_notes_hit$				:i :s}			:i :s}			:i %GLOBAL%$player_order$ = %GLOBAL%$array$			:i $GetNextPlayer$$player$ = %GLOBAL%$player$			:i loop_to %GLOBAL%$num_players$			:i $GetArraySize$%GLOBAL%$player_order$			:i if (%GLOBAL%$array_size$ > %i(1))				:i while 				:i %GLOBAL%$i$ = %i(0)				:i while 				:i $left_accuracy$ = (%GLOBAL%$player_order$:a{%GLOBAL%$i$:a}->$percent_notes_hit$)				:i $right_accuracy$ = (%GLOBAL%$player_order$:a{(%GLOBAL%$i$ + %i(1)):a}->$percent_notes_hit$)				:i if (%GLOBAL%$right_accuracy$ > %GLOBAL%$left_accuracy$)					:i $left_score_band_idx$ = (%GLOBAL%$player_order$:a{%GLOBAL%$i$:a})					:i $SetArrayElement$$arrayName$ = $player_order$$index$ = %GLOBAL%$i$$newValue$ = (%GLOBAL%$player_order$:a{(%GLOBAL%$i$ + %i(1)):a})					:i $SetArrayElement$$arrayName$ = $player_order$$index$ = (%GLOBAL%$i$ + %i(1))$newValue$ = %GLOBAL%$left_score_band_idx$				:i endif				:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))				:i loop_to (%GLOBAL%$array_size$ - %i(1))				:i loop_to %GLOBAL%$array_size$			:i endif		:i endif	:i else 		:i $song_breakdown_competitive_determine_order_from_score$		:i $GetArraySize$%GLOBAL%$order$		:i if (%GLOBAL%$array_size$ > %i(0))			:i $GetNumPlayersInGame$${StructQBKey on_screen}$			:i if (%GLOBAL%$num_players_shown$ > %i(0))				:i $GetFirstPlayer$${StructQBKey on_screen}$				:i while 				:i $getplayerinfo$%GLOBAL%$player$$band$				:i if (%GLOBAL%$band$ = (%GLOBAL%$order$:a{%i(0):a}->$band_num$))					:i $AddArrayElement$:s{						:i $array$ = $player_order$						:i $element$ = :s{							:i $player_num$ = %GLOBAL%$player$						:i :s}					:i :s}					:i %GLOBAL%$player_order$ = %GLOBAL%$array$				:i endif				:i $GetNextPlayer$$on_screen$$player$ = %GLOBAL%$player$				:i loop_to %GLOBAL%$num_players_shown$			:i endif		:i endif	:i endif	:i return $order$ = %GLOBAL%$player_order$	:i endfunction]Script song_outro_anims_display_stats 0x87baa58a [	:i $RequireParams$${		StructArray 0x00000000		{			ArrayQBKey			[				parent				stats_display_secs				slomo_speed			]		}		StructQBKey all	}$		:i $KillSpawnedScript$${StructQBKey name = song_outro_anims_display_stats_spawned}$	:i $spawnscriptnow$$song_outro_anims_display_stats_spawned$$params$ = :s{$parent$ = %GLOBAL%$parent$$stats_display_secs$ = %GLOBAL%$stats_display_secs$$slomo_speed$ = %GLOBAL%$slomo_speed$:s}	:i endfunction]Script song_outro_anims_display_stats_spawned 0x1bbef237 [	${Unknown [00012600c2719fb06969696900000018000125006efaad4e696969690000002800012500b975eac56969696900000000]}$	:i %GLOBAL%$player$ = (~$g_song_outro_anims_current_player$)	:i $ui_song_breakdown_get_player_display_name$$player_index$ = %GLOBAL%$player$	:i %GLOBAL%$name_text$ = %GLOBAL%$player_name_text$	:i $getplayerinfo$%GLOBAL%$player$$part$	:i $getplayerinfo$%GLOBAL%$player$$difficulty$	:i %GLOBAL%$percent_alpha$ = %i(1)	:i %GLOBAL%$percent_stacker_pos$ = %vec2(5.0,-97.0)	:i $get_percent_notes_hit$$player_index$ = %GLOBAL%$player$$use_player_info$ = %i(0)	:i if NOT (%GLOBAL%$part$ = $Vocals$)		:i $getplayerinfo$%GLOBAL%$player$$best_run$		:i $FormatText$$textname$ = $percent_text$^[581d2af2]^$p$ = %GLOBAL%$percent_notes_hit$		:i $FormatText$$textname$ = $streak_text$^[8c5c152d]^$n$ = %GLOBAL%$best_run$$decimalplaces$ = %i(0)		:i $FormatText$${			StructQBKey textname = streak_unit_text			StructQBStringQs 0x6036c2d7		}$			:i else 		:i $getplayerinfo$%GLOBAL%$player$$vocal_streak_phrases$		:i $getplayerinfo$%GLOBAL%$player$$vocal_phrase_max_qual$		:i if (%GLOBAL%$vocal_phrase_max_qual$ > %i(0))			:i $FormatText$$textname$ = $percent_text$^[581d2af2]^$p$ = %GLOBAL%$percent_notes_hit$$decimalplaces$ = %i(0)			:i $FormatText$$textname$ = $streak_text$^[8c5c152d]^$n$ = %GLOBAL%$vocal_streak_phrases$$decimalplaces$ = %i(0)		:i else 			:i %GLOBAL%$percent_text$ = ^[6a5cf46c]^			:i %GLOBAL%$percent_alpha$ = %i(0)			:i %GLOBAL%$percent_stacker_pos$ = %vec2(30.0,-97.0)			:i %GLOBAL%$streak_text$ = ^[6a5cf46c]^		:i endif		:i $FormatText$${			StructQBKey textname = streak_unit_text			StructQBStringQs 0x4ac2a4de		}$			:i endif	:i switch %GLOBAL%$part$		:i case $guitar$			:i %GLOBAL%$icon_texture$ = $icon_guitar_fill$			:i endcase		case $Bass$			:i %GLOBAL%$icon_texture$ = $icon_bass_fill$			:i endcase		case $drum$			:i %GLOBAL%$icon_texture$ = $icon_drum_fill$			:i endcase		case $Vocals$			:i %GLOBAL%$icon_texture$ = $icon_vocals_fill$	:i end_switch	:i switch %GLOBAL%$difficulty$		:i case $beginner$			:i %GLOBAL%$diff_texture$ = $icon_difficulty_beginner$			:i endcase		case $easy$			:i %GLOBAL%$diff_texture$ = $icon_difficulty_easy$			:i endcase		case $medium$			:i %GLOBAL%$diff_texture$ = $icon_difficulty_medium$			:i endcase		case $hard$			:i %GLOBAL%$diff_texture$ = $icon_difficulty_hard$			:i endcase		case $expert$			:i %GLOBAL%$diff_texture$ = $icon_difficulty_expert$			:i if (%GLOBAL%$part$ = $drum$)				:i $getplayerinfo$%GLOBAL%$player$$double_kick_drum$				:i if (%GLOBAL%$double_kick_drum$ = %i(1))					:i %GLOBAL%$diff_texture$ = $icon_difficulty_expert_plus$				:i endif			:i endif	:i end_switch	:i if $ScreenElementExists$$id$ = %GLOBAL%$parent$		:i $setslomo$%GLOBAL%$slomo_speed$		:i $CreateScreenElement$:s{			:i $parent$ = %GLOBAL%$parent$			:i $type$ = $descinterface$			:i $desc$ = %s("song_outro_anim_stats")			:i $pos_anchor$ = :a{$left$,$top$:a}			:i $just$ = :a{$left$,$top$:a}			:i $Pos$ = %vec2(-300.0,130.0)			:i $alpha$ = %i(1)			:i $player_name_text$ = %GLOBAL%$name_text$			:i $note_percentage_text$ = %GLOBAL%$percent_text$			:i $note_streak_text$ = %GLOBAL%$streak_text$			:i $streak_unit_text_text$ = %GLOBAL%$streak_unit_text$			:i $instrument_icon_texture$ = %GLOBAL%$icon_texture$			:i $difficulty_icon_texture$ = %GLOBAL%$diff_texture$			:i $percent_alpha$ = %GLOBAL%$percent_alpha$			:i $percent_stacker_pos$ = %GLOBAL%$percent_stacker_pos$			:i $targeted_challenge_alpha$ = %f(0.0)			:i $z_priority$ = %i(400)			:i $frame_effects_alpha$ = %f(0.0)		:i :s}		:i %GLOBAL%$stats_desc_id$ = %GLOBAL%$id$		:i %GLOBAL%$is_targeting_challenge$ = %i(0)		:i $gamemode_gettype$		:i if (%GLOBAL%$type$ = $quickplay$)			:i if %GLOBAL%$stats_desc_id$.$desc_resolvealias$$name$ = $alias_HUD_meter_challenge$$param$ = $challenge_meter_id$				:i if $GMan_GoalIsActive$${StructQBKey goal = quickplay}$					:i $GMan_GetData$${						StructQBKey goal = quickplay						StructQBKey name = targeted_challenge					}$										:i $GMan_GetData$${						StructQBKey goal = quickplay						StructQBKey name = targeted_challenge_inst_config					}$										:i $getplayerinfo$%GLOBAL%$player$$part$					:i if (%GLOBAL%$targeted_challenge$ !== $null$ AND ((%GLOBAL%$targeted_challenge_inst_config$ = %GLOBAL%$part$) OR (%GLOBAL%$targeted_challenge_inst_config$ = $band$) OR (%GLOBAL%$targeted_challenge_inst_config$ = $traditional_band$)))						:i if NOT %GLOBAL%$challenge_meter_id$.$desc_resolvealias$$name$ = $alias_challenge_led_container$$param$ = $led_container$							:i $scriptassert$${StructString 0x00000000 = "Assert"}$						:i endif						:i %GLOBAL%$dx$ = (%f(360.0) / (~$challange_meter_num_ticks$))						:i %GLOBAL%$degree$ = %i(0)						:i %GLOBAL%$cnt$ = %i(0)						:i while 						:i $CreateScreenElement$:s{							:i $type$ = $SpriteElement$							:i $parent$ = %GLOBAL%$led_container$							:i $alpha$ = %f(0.0)							:i $pos_anchor$ = :a{$center$$center$:a}							:i $rot_angle$ = %GLOBAL%$degree$							:i $Pos$ = %vec2(0.0,0.0)							:i $texture$ = $meter_challenge_LED$						:i :s}						:i %GLOBAL%$degree$ = (%GLOBAL%$degree$ + %GLOBAL%$dx$)						:i %GLOBAL%$cnt$ = (%GLOBAL%$cnt$ + %i(1))						:i loop_to (~$challange_meter_num_ticks$)						:i $extendcrc$%GLOBAL%$targeted_challenge$%s("_info")$out$ = $targeted_challenge_info$						:i if ((%GLOBAL%$targeted_challenge_inst_config$ = $band$) OR (%GLOBAL%$targeted_challenge_inst_config$ = $traditional_band$))							:i $FormatText$$checksumname$ = $player_challenge_id$%s("%n")$n$ = (~%GLOBAL%$targeted_challenge_info$->$name$)						:i else 							:i $FormatText$$checksumname$ = $player_challenge_id$%s("%n_p%p")$n$ = (~%GLOBAL%$targeted_challenge_info$->$name$)$p$ = %GLOBAL%$player$						:i endif						:i if $GMan_GoalIsActive$$goal$ = %GLOBAL%$player_challenge_id$							:i %GLOBAL%$is_targeting_challenge$ = %i(1)							:i if $challenge_is_band_subtype$$goal_id$ = %GLOBAL%$player_challenge_id$								:i $GMan_GetData$$goal$ = %GLOBAL%$player_challenge_id$$name$ = $current_progress$								:i $GMan_GetData$$goal$ = %GLOBAL%$player_challenge_id$$name$ = $calculated_targets$							:i else 								:i $GMan_GetData$$goal$ = %GLOBAL%$player_challenge_id$$player$ = %GLOBAL%$player$$name$ = $current_progress$								:i $GMan_GetData$$goal$ = %GLOBAL%$player_challenge_id$$player$ = %GLOBAL%$player$$name$ = $calculated_targets$							:i endif							:i $GetArraySize$%GLOBAL%$calculated_targets$							:i if (%GLOBAL%$array_size$ !== %i(3))								:i $scriptassert$%s("Incorrect number of challenge levels for challenge %t")$t$ = %GLOBAL%$targeted_challenge$							:i endif							:i $GMan_GetData$${								StructQBKey goal = quickplay								StructQBKey name = targeted_challenge_friend_scores							}$														:i $GMan_GetData$${								StructQBKey goal = quickplay								StructQBKey name = targeted_challenge_friend_index							}$														:i %GLOBAL%$is_targeting_friend$ = %i(0)							:i %GLOBAL%$friend_params$ = :s{:s}							:i if (%GLOBAL%$targeted_challenge_friend_index$ >= %i(0))								:i %GLOBAL%$is_targeting_friend$ = %i(1)							:i endif							:i $song_breakdown_get_highest_completed_challenge_level$:s{								:i $gold_level$ = ((%GLOBAL%$calculated_targets$:a{%i(0):a}) * %f(1.0))								:i $platinum_level$ = ((%GLOBAL%$calculated_targets$:a{%i(1):a}) * %f(1.0))								:i $diamond_level$ = ((%GLOBAL%$calculated_targets$:a{%i(2):a}) * %f(1.0))								:i $current_progress$ = (%GLOBAL%$current_progress$ * %f(1.0))								:i $is_targeting_friend$ = %GLOBAL%$is_targeting_friend$								:i $player_challenge_id$ = %GLOBAL%$player_challenge_id$							:i :s}							:i if (%GLOBAL%$current_progress$ > %i(0))								:i %GLOBAL%$id$.$se_setprops$$frame_effects_alpha$ = %f(1.0)							:i endif							:i %GLOBAL%$targeted_challenge_props$ = :s{:s}							:i if (%GLOBAL%$is_targeting_friend$ = %i(1))								:i %GLOBAL%$friend_params$ = :s{									:i $use_friend_target$ = %i(1)									:i $friend_level$ = %i(0)									:i $friend_name$ = ^[03ac90f0]^								:i :s}								:i if (%GLOBAL%$current_progress$ > (%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$targeted_challenge_friend_index$:a}->$Score$))									:i $FormatText$${										StructQBKey textname = player_top_text										StructQBStringQs 0x7adaa795									}$																	:i elseif (%GLOBAL%$current_progress$ < (%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$targeted_challenge_friend_index$:a}->$Score$))									:i $FormatText$${										StructQBKey textname = player_top_text										StructQBStringQs 0x22b394fa									}$																	:i else 									:i $FormatText$${										StructQBKey textname = player_top_text										StructQBStringQs cc4d56fc									}$																	:i endif								:i $FormatText$$textname$ = $player_mid_text$^[5d9eae64]^$g$ = (%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$targeted_challenge_friend_index$:a}->$gamer_tag$)								:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_top_text$$value$ = %GLOBAL%$player_top_text$								:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_mid_text$$value$ = %GLOBAL%$player_mid_text$								:i $AddParam$${									StructQBKey structure_name = targeted_challenge_props									StructQBKey name = player_bottom_alpha									StructFloat value = 0.00								}$															:i else 								:i $GetArraySize$%GLOBAL%$targeted_challenge_friend_scores$								:i if (%GLOBAL%$array_size$ > %i(0))									:i $song_outro_anims_find_self_within_friend_scores$:s{										:i $current_progress$ = %GLOBAL%$current_progress$										:i $targeted_challenge_friend_scores$ = %GLOBAL%$targeted_challenge_friend_scores$									:i :s}									:i if (%GLOBAL%$above_friend_index$ = %i(4294967295))										:i $FormatText$$textname$ = $player_mid_text$^[843e4550]^$g$ = %GLOBAL%$name_text$										:i $FormatText$$textname$ = $player_bottom_text$^[5d4bacd3]^$g$ = (%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$below_friend_index$:a}->$gamer_tag$)										:i $AddParam$${											StructQBKey structure_name = targeted_challenge_props											StructQBKey name = player_top_alpha											StructFloat value = 0.00										}$																				:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_mid_text$$value$ = %GLOBAL%$player_mid_text$										:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_bottom_text$$value$ = %GLOBAL%$player_bottom_text$									:i elseif (%GLOBAL%$below_friend_index$ = %i(4294967295))										:i $song_outro_anim_stats_get_rank_text$$rank$ = (%GLOBAL%$above_friend_index$ + %i(1))										:i $FormatText$$textname$ = $player_top_text$^[e1886eaa]^$r$ = %GLOBAL%$rank_text$$g$ = (%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$above_friend_index$:a}->$gamer_tag$)										:i $song_outro_anim_stats_get_rank_text$$rank$ = (%GLOBAL%$self_index$ + %i(1))										:i $FormatText$$textname$ = $player_mid_text$^[e1886eaa]^$r$ = %GLOBAL%$rank_text$$g$ = %GLOBAL%$name_text$										:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_top_text$$value$ = %GLOBAL%$player_top_text$										:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_mid_text$$value$ = %GLOBAL%$player_mid_text$										:i $AddParam$${											StructQBKey structure_name = targeted_challenge_props											StructQBKey name = player_bottom_alpha											StructFloat value = 0.00										}$																			:i else 										:i $song_outro_anim_stats_get_rank_text$$rank$ = (%GLOBAL%$above_friend_index$ + %i(1))										:i $FormatText$$textname$ = $player_top_text$^[e1886eaa]^$r$ = %GLOBAL%$rank_text$$g$ = (%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$above_friend_index$:a}->$gamer_tag$)										:i $song_outro_anim_stats_get_rank_text$$rank$ = (%GLOBAL%$self_index$ + %i(1))										:i $FormatText$$textname$ = $player_mid_text$^[e1886eaa]^$r$ = %GLOBAL%$rank_text$$g$ = %GLOBAL%$name_text$										:i $song_outro_anim_stats_get_rank_text$$rank$ = (%GLOBAL%$below_friend_index$ + %i(1))										:i $FormatText$$textname$ = $player_bottom_text$^[e1886eaa]^$r$ = %GLOBAL%$rank_text$$g$ = (%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$below_friend_index$:a}->$gamer_tag$)										:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_top_text$$value$ = %GLOBAL%$player_top_text$										:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_mid_text$$value$ = %GLOBAL%$player_mid_text$										:i $AddParam$$structure_name$ = $targeted_challenge_props$$name$ = $player_bottom_text$$value$ = %GLOBAL%$player_bottom_text$									:i endif								:i else 									:i $AddParam$${										StructQBKey structure_name = targeted_challenge_props										StructQBKey name = player_top_alpha										StructFloat value = 0.00									}$																		:i $AddParam$${										StructQBKey structure_name = targeted_challenge_props										StructQBKey name = player_mid_alpha										StructFloat value = 0.00									}$																		:i $AddParam$${										StructQBKey structure_name = targeted_challenge_props										StructQBKey name = player_bottom_alpha										StructFloat value = 0.00									}$																		:i $AddParam$${										StructQBKey structure_name = targeted_challenge_props										StructQBKey name = players_list_bg_alpha										StructFloat value = 0.00									}$																		:i $AddParam$${										StructQBKey structure_name = targeted_challenge_props										StructQBKey name = challenge_meter_container_pos										StructFloatX2 value										{											Floats [14.0000, 135.000]										}									}$																	:i endif							:i endif							:i if $GMan_IsPowerScoreEnabled$								:i if (%GLOBAL%$is_targeting_friend$ = %i(0))									:i %GLOBAL%$highest_completed$ = %i(0)								:i endif							:i endif							:i $fill_challenge_meter_to$:s{								:i $percent$ = %GLOBAL%$percent_to_next$								:i $player$ = %GLOBAL%$player$								:i $level$ = %GLOBAL%$highest_completed$								:i $challenge_meter_id$ = %GLOBAL%$challenge_meter_id$								:i %GLOBAL%$friend_params$							:i :s}							:i $quickplay_get_challenge_icon$$base_name$ = %GLOBAL%$targeted_challenge$							:i %GLOBAL%$challenge_meter_id$.$se_setprops$$challenge_icon_texture$ = %GLOBAL%$icon_name$$challenge_icon_alpha$ = %f(1.0)							:i %GLOBAL%$stats_desc_id$.$se_setprops$:s{								:i $alpha$ = %i(1)								:i $targeted_challenge_alpha$ = %f(1.0)								:i %GLOBAL%$targeted_challenge_props$							:i :s}						:i endif					:i endif				:i endif			:i endif		:i endif		:i if (%GLOBAL%$is_targeting_challenge$ = %i(1))			:i %GLOBAL%$flyby_pos$ = %vec2(-10.0,-10.0)		:i else 			:i %GLOBAL%$flyby_pos$ = %vec2(-10.0,50.0)		:i endif		:i %GLOBAL%$stats_desc_id$.$se_setprops$:s{			:i $Pos$ = %GLOBAL%$flyby_pos$			:i $alpha$ = %i(1)			:i $time$ = %f(0.2000000)			:i $anim$ = $ease_out$		:i :s}	:i endif	:i $wait$%GLOBAL%$stats_display_secs$$seconds$$ignoreslomo$	:i if $ScreenElementExists$$id$ = %GLOBAL%$stats_desc_id$		:i $DestroyScreenElement$$id$ = %GLOBAL%$stats_desc_id$	:i endif	:i $setslomo$(~$g_song_outro_anims_initial_speed$)	:i endfunction]Script song_outro_anims_skip_anims b5836dac [	:i if $ui_event_exists_in_stack$${			StructString above = "gameplay"			StructString name = "controller_disconnect"		}$				:i $printf$${StructString 0x00000000 = "disconnect dialog is up!"}$		:i return 	:i endif	:i if $ScreenElementExists$$id$ = %GLOBAL%$start_skip_id$		:i $DestroyScreenElement$$id$ = %GLOBAL%$start_skip_id$	:i endif	:i $KillSpawnedScript$${StructQBKey name = song_outro_anims_add_helper}$	:i $clean_up_user_control_helpers$	:i $change$${StructFloat g_song_outro_anims_initial_speed = 1.00}$	:i $setslomo$(~$g_song_outro_anims_initial_speed$)	:i $change$${StructInt g_song_outro_anims_playing = 0}$	:i $CameraCuts_SetArrayPrefix$${		StructString prefix = "cameras_no_band"		StructInt Length = 5		StructQBKey changenow		StructStruct extra_params		{			StructHeader			{				StructInt force_time = 5			}		}		StructInt Play_hold = 1	}$		:i $spawnscriptnow$${StructQBKey switch_off_cameracuts_delayed}$	:i $restore_idle_faces$	:i $spawnscriptnow$${		StructQBKey id = not_transitions		StructQBKey Transition_KillAll	}$		:i endfunction]Script song_outro_anims_find_self_within_friend_scores d8e02849 [	${Unknown [0001240040867793696969690000001800012c00fc4b6b696969696900000000]}$	:i %GLOBAL%$above_friend_index$ = %i(4294967295)	:i %GLOBAL%$below_friend_index$ = %i(4294967295)	:i %GLOBAL%$self_index$ = %i(4294967295)	:i $GetArraySize$%GLOBAL%$targeted_challenge_friend_scores$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i if ((%GLOBAL%$targeted_challenge_friend_scores$:a{%GLOBAL%$i$:a}->$Score$) <= %GLOBAL%$current_progress$)			:i continue		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i %GLOBAL%$self_index$ = %GLOBAL%$i$	:i if (%GLOBAL%$i$ = %GLOBAL%$array_size$)		:i %GLOBAL%$above_friend_index$ = (%GLOBAL%$i$ - %i(1))	:i elseif (%GLOBAL%$i$ = %i(0))		:i %GLOBAL%$below_friend_index$ = (%GLOBAL%$i$ + %i(1))	:i else 		:i %GLOBAL%$above_friend_index$ = (%GLOBAL%$i$ - %i(1))		:i %GLOBAL%$below_friend_index$ = (%GLOBAL%$i$ + %i(1))	:i endif	:i if ((%GLOBAL%$above_friend_index$ = %i(4294967295)) AND (%GLOBAL%$below_friend_index$ = %i(4294967295)))		:i $scriptassert$${StructString 0x00000000 = "Could not find ranking amongst friends!"}$	:i endif	:i return :s{		:i $self_index$ = %GLOBAL%$self_index$		:i $above_friend_index$ = %GLOBAL%$above_friend_index$		:i $below_friend_index$ = %GLOBAL%$below_friend_index$	:i :s}	:i endfunction]Script song_outro_anim_stats_get_rank_text 0x24808b52 [	${Unknown [000124007786171a6969696900000000]}$	:i if (%GLOBAL%$rank$ = %i(1))		:i %GLOBAL%$rank_text$ = ^[b3c239d4]^	:i elseif (%GLOBAL%$rank$ = %i(2))		:i %GLOBAL%$rank_text$ = ^[dde7d669]^	:i elseif (%GLOBAL%$rank$ = %i(3))		:i %GLOBAL%$rank_text$ = ^[0c74edeb]^	:i else 		:i $FormatText$$textname$ = $rank_text$^[4dc9c452]^$i$ = (%GLOBAL%$above_friend_index$ + %i(1))	:i endif	:i return $rank_text$ = %GLOBAL%$rank_text$	:i endfunction]Script switch_off_cameracuts_delayed 0x06ae8586 [	:i $wait$${		StructInt 2		StructQBKey gameframes	}$		:i $CameraCuts_EnableChangeCam$${StructQBKey enable = false}$	:i endfunction]Script restore_idle_faces 0x44dbf4db [	:i $i$ = %i(1)	:i while 	:i $FormatText$$checksumname$ = $musician$%s("musician%a")$a$ = %GLOBAL%$i$	:i $FormatText$$checksumname$ = $info_struct$%s("musician%a_info")$a$ = %GLOBAL%$i$	:i $fa_anims$ = (~%GLOBAL%$info_struct$->$facial_anims_default$)	:i $change$$structurename$ = %GLOBAL%$info_struct$$facial_anims$ = %GLOBAL%$fa_anims$	:i if $CompositeObjectExists$$name$ = %GLOBAL%$musician$		:i %GLOBAL%$musician$.$obj_killspawnedscript$$name$ = $facial_anim_loop$		:i %GLOBAL%$musician$.$obj_spawnscriptnow$$facial_anim_loop$	:i endif	:i $i$ = (%GLOBAL%$i$ + %i(1))	:i loop_to %i(4)	:i endfunction]