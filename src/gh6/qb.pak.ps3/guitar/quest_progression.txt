Unknown [1c00000000000000000021c80000000000000000]SectionQBKey current_chapter NoneScript quest_progression_create_chapter_atoms_array 0x1c31fea1 [	${		Unknown [000124001b0509c56969696900000018]		StructInt async = 0	}$		:i $chapter_atoms$ = :a{:a}	:i %GLOBAL%$chapter_num$ = %i(1)	:i %GLOBAL%$unlock_index$ = %i(0)	:i $GetArraySize$${StructQBString quest_progression_unlocks}$	:i %GLOBAL%$unlocks_size$ = %GLOBAL%$array_size$	:i while 	:i %GLOBAL%$inner_index$ = %i(0)	:i $GetArraySize$(~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a})	:i while 	:i $FormatText$$checksumname$ = $name$%s("chapter_%a_unlock")$a$ = %GLOBAL%$chapter_num$$addtostringlookup$ = $true$	:i $depends_on$ = :a{:a}	:i $AddArrayElement$$array$ = %GLOBAL%$depends_on$$element$ = :s{		:i $type$ = $scr$		:i $scr$ = $quest_progression_check_for_chapter_unlock$		:i $params$ = :s{$unlock_index$ = %GLOBAL%$unlock_index$$savegame$ = %GLOBAL%$savegame$:s}	:i :s}	:i %GLOBAL%$depends_on$ = %GLOBAL%$array$	:i $atom$ = :s{		:i $name$ = %GLOBAL%$name$		:i $type$ = $scr$		:i $atom_script$ = $quest_progression_career_do_chapter_unlock$		:i $atom_params$ = :s{$chapter$ = (~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a}:a{%GLOBAL%$inner_index$:a})$chapter_num$ = %GLOBAL%$chapter_num$$savegame$ = %GLOBAL%$savegame$:s}		:i $depends_on$ = %GLOBAL%$depends_on$	:i :s}	:i $AddArrayElement$$array$ = %GLOBAL%$chapter_atoms$$element$ = %GLOBAL%$atom$	:i $chapter_atoms$ = %GLOBAL%$array$	:i %GLOBAL%$chapter_num$ = (%GLOBAL%$chapter_num$ + %i(1))	:i %GLOBAL%$inner_index$ = (%GLOBAL%$inner_index$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i %GLOBAL%$unlock_index$ = (%GLOBAL%$unlock_index$ + %i(1))	:i $conditional_async_wait$$async$ = %GLOBAL%$async$$text$ = ^[43c3e6a9]^	:i loop_to %GLOBAL%$unlocks_size$	:i return $chapter_atoms$ = %GLOBAL%$chapter_atoms$	:i endfunction]Script quest_progression_check_for_chapter_unlock 0x0cb5e167 [	${Unknown [000124001e3c4db86969696900000018000124001b0509c56969696900000000]}$	:i $quest_progression_get_number_of_completed_chapters$$savegame$ = %GLOBAL%$savegame$	:i if (~$g_e3_demo_flow$ = %i(1))		:i %GLOBAL%$required_unlocked$ = (~$g_e3_quest_progression_thresholds$:a{%GLOBAL%$unlock_index$:a})	:i else 		:i %GLOBAL%$required_unlocked$ = (~$quest_progression_thresholds$:a{%GLOBAL%$unlock_index$:a})	:i endif	:i if (%GLOBAL%$number_of_unlocked_chapters$ >= %GLOBAL%$required_unlocked$)		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_career_do_chapter_unlock b9a7cb6f [	${Unknown [00012600067e4ad16969696900000018000124001b0509c56969696900000000]}$	:i $chapter_name$ = (~%GLOBAL%$chapter$->$name$)	:i $params$ = :s{$unlocked$ = %i(1):s}	:i if $console_is_net_career_client$		:i if (~$g_net_song_won_update$ = %i(1))			:i %GLOBAL%$params$ = (%GLOBAL%$params$ + :s{$chapter_unlocked_this_session$ = %i(1):s})		:i endif	:i endif	:i $quest_progression_set_chapter_tags$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$$params$ = %GLOBAL%$params$	:i if (%GLOBAL%$chapter$ = $quest_chapter_demigod$)		:i $demigod_params$ = :s{$encore_unlocked$ = %i(1)$completed$ = %i(1):s}		:i if $console_is_net_career_client$			:i if (~$g_net_song_won_update$ = %i(1))				:i %GLOBAL%$demigod_params$ = (%GLOBAL%$demigod_params$ + :s{$encore_unlocked_this_session$ = %i(1)$encore_completed_this_session$ = %i(1):s})			:i endif		:i endif		:i $quest_progression_set_chapter_tags$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$$params$ = %GLOBAL%$demigod_params$	:i endif	:i endfunction]Script quest_progression_create_reward_atoms_array 0x7c30f65e [	${Unknown [000124001b0509c56969696900000000]}$	:i $chapter_tier_num$ = %i(0)	:i $GetArraySize$(~$quest_progression_unlocks$)$param$ = $num_chapter_tiers$	:i if (%GLOBAL%$num_chapter_tiers$ = %i(0))		:i return ${			StructArray chapter_reward_atoms			{				Floats [0.00000, 0.00000]			}		}$			:i endif	:i $reward_atoms$ = :a{:a}	:i while 	:i $chapter_tier$ = (~$quest_progression_unlocks$:a{%GLOBAL%$chapter_tier_num$:a})	:i $chapter_num$ = %i(0)	:i $GetArraySize$%GLOBAL%$chapter_tier$$param$ = $chapters_in_tier$	:i if (%GLOBAL%$chapters_in_tier$ > %i(0))		:i while 		:i $chapter_reward_atoms$ = :a{:a}		:i $chapter_name$ = (%GLOBAL%$chapter_tier$:a{%GLOBAL%$chapter_num$:a})		:i $quest_progression_create_reward_atoms_for_chapter$:s{$chapter_name$ = %GLOBAL%$chapter_name$$savegame$ = %GLOBAL%$savegame$:s}		:i $reward_atoms$ = (%GLOBAL%$reward_atoms$ + %GLOBAL%$chapter_reward_atoms$)		:i $chapter_num$ = (%GLOBAL%$chapter_num$ + %i(1))		:i loop_to %GLOBAL%$chapters_in_tier$	:i endif	:i $chapter_tier_num$ = (%GLOBAL%$chapter_tier_num$ + %i(1))	:i loop_to %GLOBAL%$num_chapter_tiers$	:i return $chapter_reward_atoms$ = %GLOBAL%$reward_atoms$	:i endfunction]Script quest_progression_check_chapter_unlocked 0x50ac917c [	${Unknown [00012600067e4ad16969696900000018000124001b0509c56969696900000000]}$	:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$$param$ = $unlocked$	:i if (%GLOBAL%$unlocked$ = %i(1))		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_check_encore_unlocked 0x54e52316 [	${Unknown [00012600067e4ad16969696900000018000124001b0509c56969696900000000]}$	:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$$param$ = $encore_unlocked$	:i if (%GLOBAL%$encore_unlocked$ = %i(1))		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_check_encore_complete 0x30bdfa45 [	${Unknown [00012600067e4ad16969696900000018000124001b0509c56969696900000000]}$	:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$$param$ = $completed$	:i if (%GLOBAL%$completed$ = %i(1))		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_check_chapter_dominated c4fcceee [	${		Unknown [00012600067e4ad16969696900000018000124001b0509c56969696900000028]		StructInt this_session_only = 0	}$		:i $quest_progression_get_number_of_stars_earned$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$	:i if (%GLOBAL%$stars_earned$ >= ~%GLOBAL%$chapter$->$stars_for_reward$)		:i if $console_is_net_career_client$			:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$chapter$->$name$)			:i $FormatText$$checksumname$ = $chapter_unlock$%s("%s")$s$ = %GLOBAL%$chapter_name$			:i if (~$g_net_song_won_update$ = %i(1))				:i $temp_struct$ = (~$g_net_career_progression$->%GLOBAL%$chapter_unlock$ + :s{$chapter_dominated_this_session$ = %i(1):s})				:i $AppendStruct$$struct$ = $g_net_career_progression$$field$ = %GLOBAL%$chapter_unlock$$params$ = %GLOBAL%$temp_struct$$globalstruct$			:i endif			:i if (%GLOBAL%$this_session_only$ = %i(1))				:i if (~$g_net_career_progression$->%GLOBAL%$chapter_unlock$->$chapter_dominated_this_session$ = %i(1))					:i return ${StructQBKey true}$				:i else 					:i return ${StructQBKey false}$				:i endif			:i else 				:i return ${StructQBKey true}$			:i endif		:i else 			:i return ${StructQBKey true}$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_check_domination_unlocked 0x435e7104 [	${Unknown [000124001b0509c56969696900000000]}$	:i $domination_unlock_chapter$ = $quest_chapter_finale$	:i if (~$g_e3_demo_flow$ = %i(1))		:i $first_tier$ = (~$quest_progression_unlocks$:a{%i(0):a})		:i $first_chapter$ = (%GLOBAL%$first_tier$:a{%i(0):a})		:i $domination_unlock_chapter$ = %GLOBAL%$first_chapter$	:i endif	:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$domination_unlock_chapter$$param$ = $completed$	:i if (%GLOBAL%$completed$ = %i(1))		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_get_number_of_completed_chapters 0x47cd9af8 [	${Unknown [000124001b0509c56969696900000000]}$	:i %GLOBAL%$number_of_chapters$ = %i(0)	:i %GLOBAL%$number_of_unlocked_chapters$ = %i(0)	:i %GLOBAL%$number_of_dominated_chapters$ = %i(0)	:i %GLOBAL%$number_of_dominated_regular_chapters$ = %i(0)	:i %GLOBAL%$unlock_index$ = %i(0)	:i $GetArraySize$${StructQBString quest_progression_unlocks}$	:i %GLOBAL%$unlocks_size$ = %GLOBAL%$array_size$	:i while 	:i %GLOBAL%$inner_index$ = %i(0)	:i $GetArraySize$(~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a})	:i %GLOBAL%$inner_size$ = %GLOBAL%$array_size$	:i while 	:i %GLOBAL%$chapter$ = (~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a}:a{%GLOBAL%$inner_index$:a})	:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$chapter$->$name$)	:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$$param$ = $completed$	:i $quest_progression_get_number_of_stars_earned$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$	:i if (%GLOBAL%$completed$ = %i(1))		:i %GLOBAL%$number_of_unlocked_chapters$ = (%GLOBAL%$number_of_unlocked_chapters$ + %i(1))	:i endif	:i if (%GLOBAL%$stars_earned$ >= ~%GLOBAL%$chapter$->$stars_for_reward$)		:i %GLOBAL%$number_of_dominated_chapters$ = (%GLOBAL%$number_of_dominated_chapters$ + %i(1))		:i if (%GLOBAL%$chapter$ !== $quest_chapter_midboss$)			:i if (%GLOBAL%$chapter$ !== $quest_chapter_finale$)				:i %GLOBAL%$number_of_dominated_regular_chapters$ = (%GLOBAL%$number_of_dominated_regular_chapters$ + %i(1))			:i endif		:i endif	:i endif	:i %GLOBAL%$number_of_chapters$ = (%GLOBAL%$number_of_chapters$ + %i(1))	:i %GLOBAL%$inner_index$ = (%GLOBAL%$inner_index$ + %i(1))	:i loop_to %GLOBAL%$inner_size$	:i %GLOBAL%$unlock_index$ = (%GLOBAL%$unlock_index$ + %i(1))	:i loop_to %GLOBAL%$unlocks_size$	:i return $number_of_chapters$ = %GLOBAL%$number_of_chapters$$number_of_unlocked_chapters$ = %GLOBAL%$number_of_unlocked_chapters$$number_of_dominated_chapters$ = %GLOBAL%$number_of_dominated_chapters$$number_of_dominated_regular_chapters$ = %GLOBAL%$number_of_dominated_regular_chapters$	:i endfunction]Script quest_progression_unlock_gig_songs e5bafc42 [	${Unknown [000124001b0509c56969696900000000]}$	:i %GLOBAL%$unlock_index$ = %i(0)	:i $GetArraySize$${StructQBString quest_progression_unlocks}$	:i %GLOBAL%$unlocks_size$ = %GLOBAL%$array_size$	:i while 	:i %GLOBAL%$inner_index$ = %i(0)	:i $GetArraySize$(~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a})	:i %GLOBAL%$inner_size$ = %GLOBAL%$array_size$	:i while 	:i %GLOBAL%$chapter$ = (~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a}:a{%GLOBAL%$inner_index$:a})	:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$chapter$->$name$)	:i $quest_progression_get_chapter_tag$$savegame$ = %GLOBAL%$savegame$$chapter_global$ = %GLOBAL%$chapter$$param$ = $completed$	:i if (%GLOBAL%$completed$ = %i(1))		:i if (%GLOBAL%$chapter$ = $quest_chapter_midboss$ OR %GLOBAL%$chapter$ = $quest_chapter_finale$)			:i %GLOBAL%$songs_array$ = (~%GLOBAL%$chapter$->$songs$)			:i $GetArraySize$%GLOBAL%$songs_array$			:i %GLOBAL%$song_array_size$ = %GLOBAL%$array_size$			:i %GLOBAL%$song_index$ = %i(0)			:i %GLOBAL%$array$ = (~$g_quest_recent_unlocked_awards$)			:i while 			:i %GLOBAL%$song$ = (%GLOBAL%$songs_array$:a{%GLOBAL%$song_index$:a})			:i $SetGlobalTags$$savegame$ = %GLOBAL%$savegame$%GLOBAL%$song$$params$ = :s{$unlocked$ = %i(1):s}			:i %GLOBAL%$song_index$ = (%GLOBAL%$song_index$ + %i(1))			:i if NOT $quest_progression_check_if_reward_added$$type$ = $song$$value$ = %GLOBAL%$song$				:i $AddArrayElement$:s{					:i $array$ = %GLOBAL%$array$					:i $element$ = :s{						:i $reward_type$ = $song$						:i $song$ = %GLOBAL%$song$					:i :s}				:i :s}			:i endif			:i loop_to %GLOBAL%$song_array_size$			:i $change$$g_quest_recent_unlocked_awards$ = %GLOBAL%$array$		:i endif	:i endif	:i %GLOBAL%$inner_index$ = (%GLOBAL%$inner_index$ + %i(1))	:i loop_to %GLOBAL%$inner_size$	:i %GLOBAL%$unlock_index$ = (%GLOBAL%$unlock_index$ + %i(1))	:i loop_to %GLOBAL%$unlocks_size$	:i endfunction]Script for_each_quest_progression_unlock 0x24a14b42 [	${		Unknown [0001260086068bd96969696900000018]		StructInt spawned = 0		StructStruct params		{			StructHeader {}		}	}$		:i %GLOBAL%$outer_index$ = %i(0)	:i %GLOBAL%$chapter_num$ = %i(1)	:i $GetArraySize$${StructQBString quest_progression_unlocks}$	:i %GLOBAL%$unlocks_size$ = %GLOBAL%$array_size$	:i while 	:i %GLOBAL%$inner_index$ = %i(0)	:i $GetArraySize$(~$quest_progression_unlocks$:a{%GLOBAL%$outer_index$:a})	:i while 	:i %GLOBAL%$chapter$ = (~$quest_progression_unlocks$:a{%GLOBAL%$outer_index$:a}:a{%GLOBAL%$inner_index$:a})	:i if (%GLOBAL%$spawned$ = %i(1))		:i $spawnscriptnow$%GLOBAL%$callback$$params$ = :s{$chapter_global$ = %GLOBAL%$chapter$$chapter_num$ = %GLOBAL%$chapter_num$%GLOBAL%$params$:s}	:i else 		:i %GLOBAL%$callback$$chapter_global$ = %GLOBAL%$chapter$$chapter_num$ = %GLOBAL%$chapter_num$%GLOBAL%$params$	:i endif	:i %GLOBAL%$chapter_num$ = (%GLOBAL%$chapter_num$ + %i(1))	:i %GLOBAL%$inner_index$ = (%GLOBAL%$inner_index$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i %GLOBAL%$outer_index$ = (%GLOBAL%$outer_index$ + %i(1))	:i loop_to %GLOBAL%$unlocks_size$	:i endfunction]Script quest_progression_get_num_tags dc4ce666 [	:i %GLOBAL%$num_gigtags$ = %i(0)	:i %GLOBAL%$num_gigsongtags$ = %i(0)	:i $GetArraySize$(~$quest_progression_unlocks$)	:i %GLOBAL%$progression_unlocks_size$ = %GLOBAL%$array_size$	:i %GLOBAL%$index$ = %i(0)	:i while 	:i %GLOBAL%$chapter_array$ = (~$quest_progression_unlocks$:a{%GLOBAL%$index$:a})	:i $GetArraySize$%GLOBAL%$chapter_array$	:i %GLOBAL%$chapter_array_size$ = %GLOBAL%$array_size$	:i %GLOBAL%$num_gigtags$ = (%GLOBAL%$num_gigtags$ + %GLOBAL%$array_size$)	:i %GLOBAL%$chapter_index$ = %i(0)	:i while 	:i %GLOBAL%$songs_struct$ = (%GLOBAL%$chapter_array$:a{%GLOBAL%$chapter_index$:a})	:i $GetArraySize$(~%GLOBAL%$songs_struct$->$songs$)	:i %GLOBAL%$num_gigsongtags$ = (%GLOBAL%$num_gigsongtags$ + %GLOBAL%$array_size$)	:i %GLOBAL%$chapter_index$ = (%GLOBAL%$chapter_index$ + %i(1))	:i loop_to %GLOBAL%$chapter_array_size$	:i %GLOBAL%$index$ = (%GLOBAL%$index$ + %i(1))	:i loop_to %GLOBAL%$progression_unlocks_size$	:i return $num_gigtags$ = %GLOBAL%$num_gigtags$$num_gigsongtags$ = %GLOBAL%$num_gigsongtags$	:i endfunction]Script quest_progression_check_for_chapter_complete 0x8102e9af [	${Unknown [000124001b0509c56969696900000018000126004ca493f76969696900000000]}$	:i %GLOBAL%$num_songs_completed$ = %i(0)	:i %GLOBAL%$total_stars$ = %i(0)	:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$chapter_global$->$name$)	:i %GLOBAL%$songs_array$ = (~%GLOBAL%$chapter_global$->$songs$)	:i $GetArraySize$%GLOBAL%$songs_array$	:i %GLOBAL%$song_array_size$ = %GLOBAL%$array_size$	:i %GLOBAL%$song_index$ = %i(0)	:i while 	:i $format_career_song_gigtag$$chapter_name$ = %GLOBAL%$chapter_name$$song$ = (%GLOBAL%$songs_array$:a{%GLOBAL%$song_index$:a})	:i if $console_is_net_career_client$		:i $stars$ = (~$g_net_career_progression$->%GLOBAL%$song_gigtag$->$stars$)	:i else 		:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$%GLOBAL%$song_gigtag$$param$ = $stars$	:i endif	:i if (%GLOBAL%$stars$ > %i(0))		:i %GLOBAL%$total_stars$ = (%GLOBAL%$total_stars$ + %GLOBAL%$stars$)	:i endif	:i %GLOBAL%$song_index$ = (%GLOBAL%$song_index$ + %i(1))	:i loop_to %GLOBAL%$song_array_size$	:i if ((~%GLOBAL%$chapter_global$->$encore$) = $None$)		:i return $true$$total_stars$ = %GLOBAL%$total_stars$	:i endif	:i $format_career_song_gigtag$$chapter_name$ = %GLOBAL%$chapter_name$$song$ = (~%GLOBAL%$chapter_global$->$encore$)	:i if $console_is_net_career_client$		:i $stars$ = (~$g_net_career_progression$->%GLOBAL%$song_gigtag$->$stars$)	:i else 		:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$%GLOBAL%$song_gigtag$$param$ = $stars$	:i endif	:i if (%GLOBAL%$stars$ > %i(0))		:i return $true$$total_stars$ = %GLOBAL%$total_stars$	:i endif	:i return $false$$total_stars$ = %GLOBAL%$total_stars$	:i endfunction]Script quest_progression_set_chapter_tags 0x06d40e57 [	${Unknown [000124001b0509c56969696900000018000126004ca493f7696969690000002800012b007031f10c6969696900000000]}$	:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$chapter_global$->$name$)	:i $FormatText$$checksumname$ = $chapter_unlock$%s("%s")$s$ = %GLOBAL%$chapter_name$	:i if $console_is_net_career_client$		:i $temp_struct$ = (~$g_net_career_progression$->%GLOBAL%$chapter_unlock$ + %GLOBAL%$params$)		:i $AppendStruct$$struct$ = $g_net_career_progression$$field$ = %GLOBAL%$chapter_unlock$$params$ = %GLOBAL%$temp_struct$$globalstruct$	:i else 		:i $SetGlobalTags$%GLOBAL%$chapter_unlock$$savegame$ = %GLOBAL%$savegame$$params$ = %GLOBAL%$params$$progression$ = $true$	:i endif	:i endfunction]Script quest_progression_get_chapter_tag 0x62b7dc87 [	${		Unknown [000124001b0509c56969696900000018000126004ca493f76969696900000028000126005b0583766969696900000038]		StructQBKey this_session_param = None	}$		:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$chapter_global$->$name$)	:i $FormatText$$checksumname$ = $chapter_unlock$%s("%s")$s$ = %GLOBAL%$chapter_name$	:i if $console_is_net_career_client$		:i if (%GLOBAL%$this_session_param$ = $None$)			:i $AddParam$$name$ = %GLOBAL%$param$$value$ = (~$g_net_career_progression$->%GLOBAL%$chapter_unlock$->%GLOBAL%$param$)		:i else 			:i $AddParam$$name$ = %GLOBAL%$param$$value$ = (~$g_net_career_progression$->%GLOBAL%$chapter_unlock$->%GLOBAL%$this_session_param$)		:i endif	:i else 		:i $GetGlobalTags$%GLOBAL%$chapter_unlock$$savegame$ = %GLOBAL%$savegame$$param$ = %GLOBAL%$param$	:i endif	:i %GLOBAL%$struct$ = :s{:s}	:i $AddParam$$structure_name$ = $struct$$name$ = %GLOBAL%$param$$value$ = ( isNull ->%GLOBAL%$param$)	:i return %GLOBAL%$struct$	:i endfunction]Script quest_progression_get_encore_stars_required 0x77a5ac60 [	${Unknown [000126004ca493f76969696900000000]}$	:i return $encore_stars_required$ = (~%GLOBAL%$chapter_global$->$stars_for_encore$)	:i endfunction]Script quest_progression_get_transition_level_name 0x15f89c5a [	:i $FormatText$$checksumname$ = $transition_level_name$%s("%aTran")$a$ = (~$LevelZones$->~$current_level$->$name$)	:i return $transition_level_name$ = %GLOBAL%$transition_level_name$	:i endfunction]Script quest_is_first_chapter_unlocked 0x67a6445f [	:i $GetSavegameFromController$$controller$ = (~$primary_controller$)	:i $quest_progression_get_number_of_completed_chapters$$savegame$ = %GLOBAL%$savegame$	:i if (%GLOBAL%$number_of_unlocked_chapters$ = %i(1))		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_is_chapter_finale 0x8550184e [	:i $gamemode_gettype$	:i if NOT (%GLOBAL%$type$ = $career$)		:i return ${StructQBKey false}$	:i endif	:i if NOT (~$current_chapter$ = $quest_chapter_finale$)		:i return ${StructQBKey false}$	:i endif	:i return ${StructQBKey true}$	:i endfunction]Script quest_progression_is_chapter_rush 0x6924ba4d [	:i $gamemode_gettype$	:i if NOT (%GLOBAL%$type$ = $career$)		:i return ${StructQBKey false}$	:i endif	:i if NOT (~$current_chapter$ = $quest_chapter_midboss$)		:i return ${StructQBKey false}$	:i endif	:i return ${StructQBKey true}$	:i endfunction]Script quest_progression_is_chapter_credits 0x0f20165e [	:i $gamemode_gettype$	:i if NOT (%GLOBAL%$type$ = $career$)		:i return ${StructQBKey false}$	:i endif	:i if NOT (~$current_chapter$ = $quest_chapter_demigod$)		:i return ${StructQBKey false}$	:i endif	:i return ${StructQBKey true}$	:i endfunction]Script quest_progression_is_song_transformation e1e46e3b [	${Unknown [00012600cc12115e6969696900000000]}$	:i $quest_progression_get_transition_level_name$	:i if (%GLOBAL%$song$ = %GLOBAL%$transition_level_name$)		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_check_for_transformation_encore 0x3f23ebc5 [	:i $Playlist_GetCurrentSong$	:i if $quest_progression_is_song_transformation$$song$ = %GLOBAL%$current_song$		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_add_transformation_songs 0x73a1adc4 [	${Unknown [000126004ca493f76969696900000000]}$	:i if (~$g_chapter_encore_anim_flag$ = %i(0))		:i $quest_progression_get_transition_level_name$		:i $Playlist_AddSong$$song$ = %GLOBAL%$transition_level_name$$insert_at$ = $back$		:i $change$${StructInt g_chapter_encore_anim_flag = 1}$		:i if (~$g_e3_demo_flow$ = %i(1))			:i $change$${StructInt g_chapter_encore_anim_flag = 0}$		:i endif	:i endif	:i $Playlist_AddSong$$song$ = (~%GLOBAL%$chapter_global$->$encore$)$insert_at$ = $back$	:i endfunction]Script quest_progression_reset_career_progression_tags 0x5d6d394c [	:s{		:i $controller$ = (~$primary_controller$)	:i :s}	:i if (~$debug_career_transformations$ = %i(0))		:i $GetSavegameFromController$$controller$ = %GLOBAL%$controller$		:i %GLOBAL%$current_chapter$ = (~$current_chapter$)		:i $Playlist_GetCurrentSong$		:i $quest_progression_get_transition_level_name$		:i if (%GLOBAL%$current_song$ !== ~%GLOBAL%$current_chapter$->$encore$ AND %GLOBAL%$current_song$ !== %GLOBAL%$transition_level_name$)			:i if $console_is_net_career_client$				:i $temp_struct$ = (~$g_net_career_progression$->$career_progression_tags$ + :s{$encore_ready$ = %i(0):s})				:i $AppendStruct$$struct$ = $g_net_career_progression$$field$ = $career_progression_tags$$params$ = %GLOBAL%$temp_struct$$globalstruct$			:i else 				:i $SetGlobalTags$$savegame$ = %GLOBAL%$savegame$$career_progression_tags$$params$ = :s{$encore_ready$ = %i(0):s}$progression$ = $true$			:i endif		:i endif	:i endif	:i endfunction]Script quest_progression_transform_character f5535eee [	:i $quest_progression_set_player_score_attribute$${StructInt level = 2}$	:i endfunction]Script quest_progression_set_player_score_attribute 0x53ca998b [	${Unknown [00012400651533ec6969696900000000]}$	:i $GetNumPlayersInGame$	:i if (%GLOBAL%$num_players$ > %i(0))		:i $GetFirstPlayer$		:i while 		:i $SetPlayerInfo$%GLOBAL%$player$$score_attribute_level$ = %GLOBAL%$level$		:i $GetNextPlayer$$player$ = %GLOBAL%$player$		:i loop_to %GLOBAL%$num_players$	:i endif	:i endfunction]Script quest_progression_check_for_transformation 0x82444709 [	:s{		:i $savegame$ = (~$primary_controller$)	:i :s}	:i %GLOBAL%$current_chapter$ = (~$current_chapter$)	:i %GLOBAL%$chapter_name$ = (~%GLOBAL%$current_chapter$->$name$)	:i $format_career_song_gigtag$$chapter_name$ = %GLOBAL%$chapter_name$$song$ = (~%GLOBAL%$current_chapter$->$encore$)	:i $GetGlobalTags$$savegame$ = %GLOBAL%$savegame$%GLOBAL%$song_gigtag$$param$ = $stars$	:i if (%GLOBAL%$stars$ > %i(0))		:i return ${StructQBKey true}$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_find_chapter_from_venue 0x86d5d5af [	${Unknown [000126006e6ee4f26969696900000000]}$	:i $GetArraySize$(~$quest_progression_unlocks$)	:i %GLOBAL%$quest_progression_unlocks_size$ = %GLOBAL%$array_size$	:i %GLOBAL%$unlock_index$ = %i(0)	:i while 	:i $GetArraySize$(~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a})	:i %GLOBAL%$inner_unlock_size$ = %GLOBAL%$array_size$	:i %GLOBAL%$inner_unlock_index$ = %i(0)	:i while 	:i %GLOBAL%$unlock_chapter$ = (~$quest_progression_unlocks$:a{%GLOBAL%$unlock_index$:a}:a{%GLOBAL%$inner_unlock_index$:a})	:i if (~%GLOBAL%$unlock_chapter$->$venue$ = %GLOBAL%$venue$)		:i return $chapter$ = %GLOBAL%$unlock_chapter$		:i continue	:i endif	:i %GLOBAL%$inner_unlock_index$ = (%GLOBAL%$inner_unlock_index$ + %i(1))	:i loop_to %GLOBAL%$inner_unlock_size$	:i %GLOBAL%$unlock_index$ = (%GLOBAL%$unlock_index$ + %i(1))	:i loop_to %GLOBAL%$quest_progression_unlocks_size$	:i return ${StructQBKey chapter = error}$	:i endfunction]Script quest_progression_check_for_demigod_playing 0x2f4c6cb3 [	:i $Playlist_GetCurrentSong$	:i if (%GLOBAL%$current_song$ = ~$quest_chapter_finale$->$songs$:a{%i(2):a})		:i if $quest_progression_is_chapter_finale$			:i return ${StructQBKey true}$		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_demigod_hide_rest_of_band 0x6ec203e6 [	:i if NOT $quest_progression_check_for_demigod_playing$		:i return 	:i endif	:i $Band_Hide$${StructQBKey name = drummer}$	:i $Band_Hide$${StructQBKey name = vocalist}$	:i $Band_Hide$${StructQBKey name = bassist}$	:i endfunction]Script quest_progression_current_chapter_transformed b055d352 [	:i if $console_is_net_career_client$		:i %GLOBAL%$encore_ready$ = (~$g_net_career_progression$->$career_progression_tags$->$encore_ready$)	:i else 		:i $GetGlobalTags$$savegame$ = (~$primary_controller$)$career_progression_tags$$param$ = $encore_ready$	:i endif	:i if (%GLOBAL%$encore_ready$ = %i(1))		:i if $is_encore_song$			:i return ${StructQBKey true}$		:i else 			:i return ${StructQBKey false}$		:i endif	:i endif	:i $Playlist_GetCurrentSong$	:i if NOT $quest_progression_is_song_transformation$$song$ = %GLOBAL%$current_song$		:i %GLOBAL%$current_chapter$ = (~$current_chapter$)		:i if $quest_progression_check_for_chapter_complete$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$current_chapter$			:i $quest_progression_get_number_of_stars_earned$$savegame$ = (~$primary_controller$)$chapter_global$ = %GLOBAL%$current_chapter$			:i if (%GLOBAL%$stars_earned$ >= ~%GLOBAL%$current_chapter$->$stars_for_encore$)				:i return ${StructQBKey true}$			:i endif		:i endif	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_progression_get_recent_unlocks_by_type b12c9e1f [	${Unknown [000126007321a8d66969696900000000]}$	:i if ((%GLOBAL%$type$ !== $venue$) AND (%GLOBAL%$type$ !== $song$) AND (%GLOBAL%$type$ !== $hero$))		:i $scriptassert$%s("No such career unlock type: %t")$t$ = %GLOBAL%$type$	:i endif	:i $GetArraySize$(~$g_quest_recent_unlocked_awards$)	:i %GLOBAL%$array$ = :a{:a}	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i if ((~$g_quest_recent_unlocked_awards$:a{%GLOBAL%$i$:a}->$reward_type$) = %GLOBAL%$type$)			:i $AddArrayElement$:s{				:i $array$ = %GLOBAL%$array$				:i $element$ = (~$g_quest_recent_unlocked_awards$:a{%GLOBAL%$i$:a})			:i :s}		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return $unlocks$ = %GLOBAL%$array$	:i endfunction]Script quest_progression_check_if_reward_added 0x4e789240 [	${Unknown [000126007321a8d6696969690000001800012600e288a7cb6969696900000000]}$	:i %GLOBAL%$param$ = %GLOBAL%$type$	:i if (%GLOBAL%$type$ = $hero$)		:i %GLOBAL%$param$ = $rocker_id$	:i endif	:i %GLOBAL%$array$ = (~$g_quest_recent_unlocked_awards$)	:i %GLOBAL%$add_to_reward_struct$ = %i(1)	:i $GetArraySize$%GLOBAL%$array$	:i if (%GLOBAL%$array_size$ > %i(0))		:i %GLOBAL%$i$ = %i(0)		:i while 		:i if ((%GLOBAL%$array$:a{%GLOBAL%$i$:a}->$reward_type$) = %GLOBAL%$type$)			:i if ((%GLOBAL%$array$:a{%GLOBAL%$i$:a}->%GLOBAL%$param$) = %GLOBAL%$value$)				:i return ${StructQBKey true}$			:i endif		:i endif		:i %GLOBAL%$i$ = (%GLOBAL%$i$ + %i(1))		:i loop_to %GLOBAL%$array_size$	:i endif	:i return ${StructQBKey false}$	:i endfunction]Script quest_hud_setup_final_battle 0x681699f7 [	:i if (~$current_chapter$ = $quest_chapter_finale$)		:i $quest_progression_get_current_song_num$		:i $FormatText$$checksumname$ = $stars_for_song$%s("stars_for_song%d")$d$ = %GLOBAL%$song_num$		:i if NOT $StructureContains$$structure$ = ~$quest_chapter_finale$$name$ = %GLOBAL%$stars_for_song$			:i $scriptassert$%s("Missing %a in structure %b!")$a$ = %GLOBAL%$stars_for_song$$b$ = (~$quest_chapter_finale$->$name$)		:i endif		:i if (~$quest_chapter_finale$->%GLOBAL%$stars_for_song$ > %i(0))			:i $change$${StructInt is_ampzilla_battle = 1}$		:i endif	:i endif	:i endfunction]Script quest_progression_get_current_song_num cd324222 [	:i if NOT $GotParam$${StructQBKey current_song}$		:i $Playlist_GetCurrentSong$	:i endif	:i %GLOBAL%$current_chapter$ = (~$current_chapter$)	:i %GLOBAL%$songs$ = (~%GLOBAL%$current_chapter$->$songs$)	:i $GetArraySize$%GLOBAL%$songs$	:i %GLOBAL%$song_index$ = %i(0)	:i while 	:i %GLOBAL%$song$ = (%GLOBAL%$songs$:a{%GLOBAL%$song_index$:a})	:i if (%GLOBAL%$song$ = %GLOBAL%$current_song$)		:i return $song_num$ = (%GLOBAL%$song_index$ + %i(1))	:i endif	:i %GLOBAL%$song_index$ = (%GLOBAL%$song_index$ + %i(1))	:i loop_to %GLOBAL%$array_size$	:i return ${StructInt song_num = -1}$	:i endfunction]Script quest_progression_get_song_stars_for_domination 0x50e1da17 [	${Unknown [00012600067e4ad16969696900000000]}$	:i $stars_req_per_song$ = %i(5)	:i $chapter_data$ = (~%GLOBAL%$chapter$)	:i $stars_for_reward$ = (%GLOBAL%$chapter_data$->$stars_for_reward$)	:i $songs$ = (%GLOBAL%$chapter_data$->$songs$)	:i $GetArraySize$%GLOBAL%$songs$$param$ = $num_songs$	:i if (%GLOBAL%$songs$ < %i(1) OR %GLOBAL%$stars_for_reward$ < %i(1))		:i return $stars_req_per_song$ = %GLOBAL%$stars_req_per_song$	:i endif	:i $stars_req_per_song$ = (%GLOBAL%$stars_for_reward$ / (%GLOBAL%$num_songs$))	:i $mod$$a$ = %GLOBAL%$stars_req_per_song$$b$ = %GLOBAL%$num_songs$	:i if (%GLOBAL%$mod$ !== %i(0))		:i $stars_req_per_song$ = (%GLOBAL%$stars_for_reward$ / (%GLOBAL%$num_songs$))	:i else 		:i $stars_req_per_song$ = %GLOBAL%$stars_req_per_song$	:i endif	:i if (%GLOBAL%$stars_req_per_song$ > %i(40))		:i $stars_req_per_song$ = %i(40)	:i endif	:i $stars_req_per_song_float$ = (%GLOBAL%$stars_req_per_song$ * %f(1.0))	:i return :s{		:i $stars_req_per_song$ = %GLOBAL%$stars_req_per_song$		:i $stars_req_per_song_float$ = %GLOBAL%$stars_req_per_song_float$	:i :s}	:i endfunction]Script quest_progression_get_song_stars_for_encore 0x20719e27 [	${Unknown [00012600067e4ad16969696900000000]}$	:i $stars_req_per_song$ = %i(5)	:i $chapter_data$ = (~%GLOBAL%$chapter$)	:i $stars_for_encore$ = (%GLOBAL%$chapter_data$->$stars_for_encore$)	:i $songs$ = (%GLOBAL%$chapter_data$->$songs$)	:i $GetArraySize$%GLOBAL%$songs$$param$ = $num_songs$	:i $num_songs$ = (%GLOBAL%$num_songs$%i(4294967295))	:i if (%GLOBAL%$num_songs$ < %i(1) OR %GLOBAL%$stars_for_encore$ < %i(1))		:i return $stars_req_per_song$ = %GLOBAL%$stars_req_per_song$	:i endif	:i $stars_req_per_song$ = (%GLOBAL%$stars_for_encore$ / (%GLOBAL%$num_songs$))	:i $mod$$a$ = %GLOBAL%$stars_req_per_song$$b$ = %GLOBAL%$num_songs$	:i if (%GLOBAL%$mod$ !== %i(0))		:i $stars_req_per_song$ = (%GLOBAL%$stars_for_encore$ / (%GLOBAL%$num_songs$ - %i(1)))	:i else 		:i $stars_req_per_song$ = %GLOBAL%$stars_req_per_song$	:i endif	:i if (%GLOBAL%$stars_req_per_song$ > %i(40))		:i $stars_req_per_song$ = %i(40)	:i endif	:i $stars_req_per_song_float$ = (%GLOBAL%$stars_req_per_song$ * %f(1.0))	:i return :s{		:i $stars_req_per_song$ = %GLOBAL%$stars_req_per_song$		:i $stars_req_per_song_float$ = %GLOBAL%$stars_req_per_song_float$	:i :s}	:i endfunction]