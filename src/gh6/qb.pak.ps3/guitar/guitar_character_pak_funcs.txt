Unknown [1c00000000000000000007900000000000000000]SectionInteger g_unloadpak_lock 0SectionInteger g_loadpak_lock 0SectionInteger g_loadpak_done 0SectionInteger g_loadpak_failed 0Script LoadPakManAsync 0x4c861881 [	${		StructInt slot = 0		Unknown [00012600bc5bf0ce6969696900000028000126006c52554469696969000000380001240090e07c796969696900000000]	}$		:i $setscriptcannotpause$	:i while 	:i if (~$g_loadpak_lock$ = %i(0))		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $change$${StructInt g_loadpak_lock = 1}$	:i $change$${StructInt g_loadpak_done = 0}$	:i $OnExitRun$${StructQBKey check_loadpak_lock}$	:i $device$ = $default$	:i if (%GLOBAL%$pak_name$ !== $None$)		:i if NOT $GetPakManPakFilename$$pak$ = %GLOBAL%$pak_name$$map$ = %GLOBAL%$map$			:i $scriptassert$%s("pak %p not found in map %m")$p$ = %GLOBAL%$pak_name$$m$ = %GLOBAL%$map$			:i $change$${StructInt g_loadpak_lock = 0}$			:i $change$${StructInt g_loadpak_done = 0}$			:i return ${StructQBKey false}$		:i endif		:i $ContentFolderManager$$func$ = $get_content_folder_index_from_file$$file$ = %GLOBAL%$pak_filename$		:i if (%GLOBAL%$device$ = $content$)			:i if (%GLOBAL%$status$ = $damaged$)				:i $printf$${StructQBStringQs 0x855b445f}$				:i $change$${StructInt g_loadpak_lock = 0}$				:i $change$${StructInt g_loadpak_done = 0}$				:i return ${StructQBKey false}$			:i endif			:i if NOT $Downloads_OpenContentFolder$$content_index$ = %GLOBAL%$content_index$				:i $ContentFolderManager$$func$ = $mark_content_folder_damaged$$content_index$ = %GLOBAL%$content_index$				:i $printf$${StructQBStringQs b4c2c4ea}$				:i $change$${StructInt g_loadpak_lock = 0}$				:i $change$${StructInt g_loadpak_done = 0}$				:i return ${StructQBKey false}$			:i endif		:i endif	:i endif	:i $SetPakManCurrentBlock$$map$ = %GLOBAL%$map$$pak$ = %GLOBAL%$pak_name$$block_scripts$ = (%i(1) - %GLOBAL%$async$)$slot$ = %GLOBAL%$slot$	:i if (%GLOBAL%$device$ = $content$)		:i $Downloads_CloseContentFolder$$content_index$ = %GLOBAL%$content_index$	:i endif	:i $change$${StructInt g_loadpak_lock = 0}$	:i $change$${StructInt g_loadpak_done = 0}$	:i return ${StructQBKey true}$	:i endfunction]Script UnloadPakAsync 0x5e8b9591 [	${		StructInt async = 1		Unknown [00012700bc5bf0ce6969696900000000]	}$		:i $setscriptcannotpause$	:i while 	:i if (~$g_unloadpak_lock$ = %i(0))		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $change$${StructInt g_unloadpak_lock = 1}$	:i $OnExitRun$${StructQBKey check_unloadpak_lock}$	:i if $GotParam$${StructQBKey checksum_pak_name}$		:i $unload_params$ = :s{$pak_name$ = %GLOBAL%$checksum_pak_name$:s}	:i else 		:i $unload_params$ = :s{%GLOBAL%$pak_name$:s}	:i endif	:i $UnloadPak$%GLOBAL%$unload_params$	:i if (%GLOBAL%$async$ = %i(1))		:i while 		:i if $WaitUnloadPak$%GLOBAL%$unload_params$$noblock$			:i continue		:i endif		:i $wait$${			StructInt 1			StructQBKey gameframe		}$				:i loop_to 	:i else 		:i $WaitUnloadPak$%GLOBAL%$pak_name$$Block$	:i endif	:i $change$${StructInt g_unloadpak_lock = 0}$	:i endfunction]Script check_unloadpak_lock fe2d23ba [	:i if (~$g_unloadpak_lock$ = %i(1))		:i $scriptassert$${StructQBStringQs b466d970}$	:i endif	:i endfunction]Script LoadPakAsync 0x8a2eb768 [	${		StructInt async = 1		StructInt is_raw = 0		Unknown [00012700bc5bf0ce69696969000000380001260042d6dd1e6969696900000000]	}$		:i $setscriptcannotpause$	:i if (%GLOBAL%$is_raw$ = %i(1))		:i $is_raw_flag$ = :s{$is_raw$:s}	:i endif	:i while 	:i if (~$g_loadpak_lock$ = %i(0))		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i $change$${StructInt g_loadpak_lock = 1}$	:i $change$${StructInt g_loadpak_done = 0}$	:i $change$${StructInt g_loadpak_failed = 0}$	:i $OnExitRun$${StructQBKey check_loadpak_lock}$	:i $ContentFolderManager$$func$ = $get_content_folder_index_from_file$$file$ = %GLOBAL%$pak_name$	:i if (%GLOBAL%$device$ = $content$)		:i if (%GLOBAL%$status$ = $damaged$)			:i $printf$${StructQBStringQs 0x855b445f}$			:i $change$${StructInt g_loadpak_lock = 0}$			:i $change$${StructInt g_loadpak_done = 0}$			:i return ${StructQBKey false}$		:i endif		:i if NOT $Downloads_OpenContentFolder$$content_index$ = %GLOBAL%$content_index$			:i $ContentFolderManager$$func$ = $mark_content_folder_damaged$$content_index$ = %GLOBAL%$content_index$			:i $printf$${StructQBStringQs b4c2c4ea}$			:i $change$${StructInt g_loadpak_lock = 0}$			:i $change$${StructInt g_loadpak_done = 0}$			:i return ${StructQBKey false}$		:i endif		:i $ContentFolderManager$$func$ = $get_content_folder_device_id$$content_index$ = %GLOBAL%$content_index$	:i endif	:i if (%GLOBAL%$async$ = %i(0))		:i if ($GotParam$$no_vram$)			:i if NOT $LoadPak$%GLOBAL%$pak_name$$heap$ = %GLOBAL%$heap$$device$ = %GLOBAL%$device$%GLOBAL%$is_raw_flag$$content_id$ = %GLOBAL%$content_id$$file_load_delay$ = %GLOBAL%$file_load_delay$$file_filter$ = %GLOBAL%$file_filter$$no_vram$				:i $change$${StructInt g_loadpak_failed = 1}$			:i endif		:i else 			:i if NOT $LoadPak$%GLOBAL%$pak_name$$heap$ = %GLOBAL%$heap$$device$ = %GLOBAL%$device$%GLOBAL%$is_raw_flag$$content_id$ = %GLOBAL%$content_id$$file_load_delay$ = %GLOBAL%$file_load_delay$$file_filter$ = %GLOBAL%$file_filter$				:i $change$${StructInt g_loadpak_failed = 1}$			:i endif		:i endif		:i $change$${StructInt g_loadpak_done = 1}$	:i else 		:i if ($GotParam$$no_vram$)			:i $LoadPak$%GLOBAL%$pak_name$$heap$ = %GLOBAL%$heap$$load_callback$ = $loadpakasync_callback$$callback_data$ = $None$$device$ = %GLOBAL%$device$$content_id$ = %GLOBAL%$content_id$%GLOBAL%$is_raw_flag$$file_load_delay$ = %GLOBAL%$file_load_delay$$file_filter$ = %GLOBAL%$file_filter$$no_vram$		:i else 			:i $LoadPak$%GLOBAL%$pak_name$$heap$ = %GLOBAL%$heap$$load_callback$ = $loadpakasync_callback$$callback_data$ = $None$$device$ = %GLOBAL%$device$$content_id$ = %GLOBAL%$content_id$%GLOBAL%$is_raw_flag$$file_load_delay$ = %GLOBAL%$file_load_delay$$file_filter$ = %GLOBAL%$file_filter$		:i endif	:i endif	:i while 	:i if (~$g_loadpak_done$ = %i(1))		:i continue	:i endif	:i $wait$${		StructInt 1		StructQBKey gameframe	}$		:i loop_to 	:i if (%GLOBAL%$device$ = $content$)		:i $Downloads_CloseContentFolder$$content_index$ = %GLOBAL%$content_index$		:i if (~$g_loadpak_failed$ = %i(1))			:i $ContentFolderManager$$func$ = $mark_content_folder_damaged$$content_index$ = %GLOBAL%$content_index$			:i $change$${StructInt g_loadpak_lock = 0}$			:i $change$${StructInt g_loadpak_done = 0}$			:i return ${StructQBKey false}$		:i endif	:i endif	:i $change$${StructInt g_loadpak_lock = 0}$	:i $change$${StructInt g_loadpak_done = 0}$	:i return ${StructQBKey true}$	:i endfunction]Script check_loadpak_lock 0x2ff3f315 [	:i if (~$g_loadpak_lock$ = %i(1))		:i $scriptassert$${StructQBStringQs 0x2994b14c}$	:i endif	:i endfunction]Script loadpakasync_callback 0x2a253100 [	:i if NOT (%GLOBAL%$result$ = %i(0))		:i $change$${StructInt g_loadpak_done = 1}$		:i $change$${StructInt g_loadpak_failed = 1}$		:i $change$${StructInt g_loadpak_lock = 0}$	:i endif	:i if $GotParam$${StructQBKey end}$		:i $change$${StructInt g_loadpak_done = 1}$	:i endif	:i endfunction]